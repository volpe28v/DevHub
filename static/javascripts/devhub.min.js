function getSelectionCount(a){var b=a.document.selection.createRange();if(null==b||b.parentElement()!==a)return[0/0,0/0];var c=arguments[1]||a.value,d=c.length,e=a.createTextRange();e.moveToBookmark(b.getBookmark());var f=a.createTextRange();if(f.collapse(!1),e.compareEndPoints("StartToEnd",f)>=0)return[d,d];var g=arguments[2]||c.replace(/rn|r/g,"n"),h=-e.moveStart("character",-d);if(h+=g.slice(0,h).split("n").length-1,e.compareEndPoints("EndToEnd",f)>=0)return[h,d];var i=-e.moveEnd("character",-d);return i+=g.slice(0,i).split("n").length-1,[h,i]}function FaviconNumber(a){var b=window.navigator.userAgent.toLowerCase();this.canUseFavico=!1,-1!=b.indexOf("chrome")?this.canUseFavico=!0:-1!=b.indexOf("firefox")&&(this.canUseFavico=!0),this.newest_count=0,this.focus_id=a.focus_id,this.title=document.title,this.favicon=new Favico({animation:"none"})}function DropZone(a){a.dropTarget.bind("dragenter",this.cancel_event),a.dropTarget.bind("dragover",this.cancel_event),void 0==a.dropChildSelector?a.dropTarget.on("drop",this.drop_file_action(a.alertTarget,a.uploadedAction)):a.dropTarget.on("drop",a.dropChildSelector,this.drop_file_action(a.alertTarget,a.uploadedAction)),void 0!=a.fileTarget&&a.fileTarget.on("change",this.select_file_action(a.alertTarget,a.uploadedAction)),a.pasteValid&&a.dropTarget.on("paste",this.paste_file_action(a.alertTarget,a.uploadedAction))}function ChatController(a){this.socket=a.socket,this.faviconNumber=a.faviconNumber,this.changedLoginName=a.changedLoginName,this.showRefPoint=a.showRefPoint,this.loginElemList=[],this.hidingMessageCount=0,this.filterName="",this.init_chat(),this.init_settings(),this.init_socket(),this.init_dropzone()}function MemoViewModel(a,b){this.no=a,this.socket=b,this.writing_text={text:"",name:"",date:void 0},this.text_logs=[],this.title="- No."+a+" -",this.update_timer=null,this.code_prev="",this.writing_loop_timer={id:-1,code_no:0},this.is_shown_move_to_blog=!1,this.diff_mode=!1,this.diff_list=[],this.diff_index=0}function ShareMemoController(a){this.socket=a.socket,this.setMessage=a.setMessage,this.memo_number=1,this.doing_up=!1,this.doing_down=!1,this.memoViewModels=[],this.currentMemoNo=0,this.keyword="",this.before_keyword="",this.matched_navi_style="display:none",this.matched_index=0,this.matched_num=0,this.matched_doms=[],this.matched_title="",this.init_sharememo(),this.init_dropzone()}function adjust_display_size_for_mobile(){var a=$(window).width();$(".viewport").css("width",a+"px").css("overflow","hidden").css("padding",0),$(".flipsnap").css("width",2*a+"px"),chatController.setWidth(a),shareMemoController.setWidth(a),Flipsnap(".flipsnap").refresh()}function init_websocket(){socket.on("connect",function(){socket.emit("name",{name:$.cookie(COOKIE_NAME),avatar:window.localStorage.avatarImage})}),socket.on("disconnect",function(){}),socket.on("set_name",function(a){chatController.setName(a),$("#login_name").val(a)});var a=function(){var a=$("#login_name").val();""!=a&&($.cookie(COOKIE_NAME,a,{expires:COOKIE_EXPIRES}),socket.emit("name",{name:a}),chatController.setName(a),chatController.focus()),$("#name_in").modal("hide")};$("#login").click(function(){a()}),$("#login_form").submit(function(){return a(),!1})}!function(a,b,c){"use strict";function d(a){return a}function e(a){return a}function f(a){pb._dbgMode=a,L=a?"Unavailable (nested view): use #getIndex()":"",mb("dbg",lb.dbg=kb.dbg=a?e:d)}function g(a){return{getTgt:a,map:function(b){var c,d=this;d.src!==b&&(d.src&&d.unmap(),"object"==typeof b&&(c=a.apply(d,arguments),d.src=b,d.tgt=c))}}}function h(a,b){b&&b.onError&&b.onError(a)===!1||(this.name=(H.link?"JsViews":"JsRender")+" Error",this.message=a||this.name)}function i(a,b){var c;a=a||{};for(c in b)a[c]=b[c];return a}function j(a,b,c){return(!nb.rTag||a)&&(M=a?a.charAt(0):M,N=a?a.charAt(1):N,O=b?b.charAt(0):O,P=b?b.charAt(1):P,Q=c||Q,a="\\"+M+"(\\"+Q+")?\\"+N,b="\\"+O+"\\"+P,J="(?:(?:(\\w+(?=[\\/\\s\\"+O+"]))|(?:(\\w+)?(:)|(>)|!--((?:[^-]|-(?!-))*)--|(\\*)))\\s*((?:[^\\"+O+"]|\\"+O+"(?!\\"+P+"))*?)",nb.rTag=J+")",J=new RegExp(a+J+"(\\/)?|(?:\\/(\\w+)))"+b,"g"),K=new RegExp("<.*>|([^\\\\]|^)[{}]|"+a+".*"+b)),[M,N,O,P,Q]}function k(a,b){b||(b=a,a=c);var d,e,f,g,h=this,i=!b||"root"===b;if(a){if(g=h.type===b?h:c,!g)if(d=h.views,h._.useKey){for(e in d)if(g=d[e].get(a,b))break}else for(e=0,f=d.length;!g&&f>e;e++)g=d[e].get(a,b)}else if(i)for(;h.parent.parent;)g=h=h.parent;else for(;h&&!g;)g=h.type===b?h:c,h=h.parent;return g}function l(){var a=this.get("item");return a?a.index:c}function m(){return this.index}function n(b){var d,e=this,f=e.linkCtx,g=(e.ctx||{})[b];return g===c&&f&&f.ctx&&(g=f.ctx[b]),g===c&&(g=lb[b]),g&&ob(g)&&!g._wrp&&(d=function(){return g.apply(this&&this!==a?this:e,arguments)},d._wrp=1,i(d,g)),d||g}function o(a,b,d){var e,f,g,h=+d===d&&d,i=b.linkCtx;if(h&&(d=(h=b.tmpl.bnds[h-1])(b.data,b,hb)),f=d.args[0],a||h){e=i&&i.tag||{_:{inline:!i,bnd:h},tagName:a+":",flow:!0,_is:"tag"};for(g in d.props)$.test(g)&&(e[g]=d.props[g]);i&&(i.tag=e,e.linkCtx=e.linkCtx||i,d.ctx=E(d.ctx,i.view.ctx)),e.tagCtx=d,d.view=b,e.ctx=d.ctx||{},delete d.ctx,b._.tag=e,f=p(e,e.convert||"true"!==a&&a)[0],f=f!=c?f:"",f=h&&b._.onRender?b._.onRender(f,b,h):f,b._.tag=c}return f}function p(a,b){var c=a.tagCtx,d=c.view,e=c.args;return b=b&&(""+b===b?d.getRsc("converters",b)||z("Unknown converter: '"+b+"'"):b),e=e.length||c.index||!a.autoBind?b?e.slice():e:[d.data],b&&(b.depends&&(a.depends=nb.getDeps(a.depends,a,b.depends,b)),e[0]=b.apply(a,e)),e}function q(a,b){for(var d,e,f=this;d===c&&f;)e=f.tmpl[a],d=e&&e[b],f=f.parent;return d||hb[a][b]}function r(a,b,d,e,f){var g,h,j,k,l,m,n,o,q,r,s,t,u,v,w,x,A,B,C,D,F="",G=+e===e&&e,H=b.linkCtx||0,I=b.ctx,J=d||b.tmpl;for("tag"===a._is&&(h=a,a=h.tagName),h=h||H.tag,G&&(e=(t=J.bnds[G-1])(b.data,b,hb)),n=e.length,m=0;n>m;m++){if(q=e[m],C=q.props,s=q.tmpl,s=q.content=s&&J.tmpls[s-1],d=q.props.tmpl,m||d&&h||(u=b.getRsc("tags",a)||z("Unknown tag: {{"+a+"}}")),d=d||(h?h:u).template||s,d=""+d===d?b.getRsc("templates",d)||jb(d):d,i(q,{tmpl:d,render:y,index:m,view:b,ctx:E(q.ctx,I)}),!h){u._ctr?(h=new u._ctr,v=!!h.init,h.attr=h.attr||u.attr||c):h={render:u.render},h._={inline:!H},H&&(H.attr=h.attr=H.attr||h.attr,H.tag=h,h.linkCtx=H),(h._.bnd=t||H.fn)?h._.arrVws={}:h.dataBoundOnly&&z("{^{"+a+"}} tag must be data-bound"),h.tagName=a,h.parent=l=I&&I.tag,h._is="tag",h._def=u;for(B in C=q.props)$.test(B)&&(h[B]=C[B])}q.tag=h,h.map&&h.tagCtxs&&(q.map=h.tagCtxs[m].map),h.flow||(r=q.ctx=q.ctx||{},j=h.parents=r.parentTags=I&&E(r.parentTags,I.parentTags)||{},l&&(j[l.tagName]=l),r.tag=h)}for(h.tagCtxs=e,b._.tag=h,h.rendering={},m=0;n>m;m++)q=h.tagCtx=e[m],C=q.props,A=p(h,h.convert),(w=C.map||h).map&&(A.length||C.map)&&(x=q.map=i(q.map||{unmap:w.unmap},C),x.src!==A[0]&&(x.src&&x.unmap(),w.map.apply(x,A)),A=[x.tgt]),h.ctx=q.ctx,!m&&v&&(D=h.template,h.init(q,H,h.ctx),v=c,h.template!==D&&(h._.tmpl=h.template)),o=c,g=h.render,(g=h.render)&&(o=g.apply(h,A)),A=A.length?A:[b],o=o!==c?o:q.render(A[0],!0)||(f?c:""),F=F?F+(o||""):o;return delete h.rendering,h.tagCtx=h.tagCtxs[0],h.ctx=h.tagCtx.ctx,h._.inline&&(k=h.attr)&&k!==db&&(F="text"===k?kb.html(F):""),G&&b._.onRender?b._.onRender(F,b,G):F}function s(a,b,c,d,e,f,g,h){var i,j,o,p="array"===b,r={key:0,useKey:p?0:1,id:""+bb++,onRender:h,bnds:{}},s={data:d,tmpl:e,content:g,views:p?[]:{},parent:c,type:b,get:k,getIndex:m,getRsc:q,hlp:n,_:r,_is:"view"};return c?(i=c.views,j=c._,j.useKey?(i[r.key="_"+j.useKey++]=s,s.index=L,s.getIndex=l,o=j.tag,r.bnd=p&&(!o||!!o._.bnd&&o)):i.splice(r.key=s.index=f,0,s),s.ctx=a||c.ctx):s.ctx=a,s}function t(a){var b,c,d,e,f;for(b in gb)if(e=gb[b],(f=e.compile)&&(c=a[b+"s"]))for(d in c)c[d]=f(d,c[d],a,b,e)}function u(a,b,c){var d,e;return ob(b)?b={depends:b.depends,render:b}:((e=b.template)&&(b.template=""+e===e?jb[e]||jb(e):e),b.init!==!1&&(d=b._ctr=function(){},(d.prototype=b).constructor=d)),c&&(b._parentTmpl=c),b}function v(d,e,f,g,h,i){function j(c){if(""+c===c||c.nodeType>0){try{l=c.nodeType>0?c:!K.test(c)&&b&&b(a.document).find(c)[0]}catch(e){}return l&&(c=l.getAttribute(eb),d=d||c,c=jb[c],c||(d=d||"_"+ab++,l.setAttribute(eb,d),c=jb[d]=v(d,l.innerHTML,f,g,h,i)),l=null),c}}var k,l;return e=e||"",k=j(e),i=i||(e.markup?e:{}),i.tmplName=d,f&&(i._parentTmpl=f),!k&&e.markup&&(k=j(e.markup))&&k.fn&&(k.debug!==e.debug||k.allowCode!==e.allowCode)&&(k=k.markup),k!==c?(d&&!f&&(fb[d]=function(){return e.render.apply(e,arguments)}),k.fn||e.fn?k.fn&&(e=d&&d!==k.tmplName?E(i,k):k):(e=w(k,i),B(k.replace(V,"\\$&"),e)),t(i),e):void 0}function w(a,b){var c,d=pb.wrapMap||{},e=i({markup:a,tmpls:[],links:{},tags:{},bnds:[],_is:"template",render:y},b);return b.htmlTag||(c=Y.exec(a),e.htmlTag=c?c[1].toLowerCase():""),c=d[e.htmlTag],c&&c!==d.div&&(e.markup=H.trim(e.markup)),e}function x(a,b){function d(f,g,h){var i,j,k,l;if(f&&""+f!==f&&!f.nodeType&&!f.markup){for(k in f)d(k,f[k],g);return hb}return g===c&&(g=f,f=c),f&&""+f!==f&&(h=g,g=f,f=c),l=h?h[e]=h[e]||{}:d,j=b.compile,(i=nb.onBeforeStoreItem)&&(j=i(l,f,g,j)||j),f?null===g?delete l[f]:l[f]=j?g=j(f,g,h,a,b):g:g=j(c,g),j&&g&&(g._is=a),(i=nb.onStoreItem)&&i(l,f,g,j),g}var e=a+"s";hb[e]=d,gb[a]=b}function y(a,b,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,t,u,v=this,w=!v.attr||v.attr===db,x="";if(!!b===b&&(d=b,b=c),f===!0&&(n=!0,f=0),v.tag?(o=v,v=v.tag,q=v._,t=v.tagName,u=q.tmpl||o.tmpl,b=E(b,v.ctx),p=o.content,o.props.link===!1&&(b=b||{},b.link=!1),e=e||o.view,a=arguments.length?a:e):u=v.jquery&&(v[0]||z('Unknown template: "'+v.selector+'"'))||v,u&&(!e&&a&&"view"===a._is&&(e=a),e&&(p=p||e.content,g=g||e._.onRender,a===e&&(a=e.data),b=E(b,e.ctx)),e&&e.data!==c||((b=b||{}).root=a),u.fn||(u=jb[u]||jb(u)),u)){if(g=(b&&b.link)!==!1&&w&&g,r=g,g===!0&&(r=c,g=e._.onRender),b=u.helpers?E(u.helpers,b):b,H.isArray(a)&&!d)for(k=n?e:f!==c&&e||s(b,"array",e,a,u,f,p,g),h=0,i=a.length;i>h;h++)j=a[h],l=s(b,"item",k,j,u,(f||0)+h,p,g),m=u.fn(j,l,hb),x+=k._.onRender?k._.onRender(m,l):m;else k=n?e:s(b,t||"data",e,a,u,f,p,g),q&&!v.flow&&(k.tag=v),x+=u.fn(a,k,hb);return r?r(x,k):x}return""}function z(a){throw new nb.Err(a)}function A(a){z("Syntax error\n"+a)}function B(a,b,c,d){function e(b){b-=l,b&&n.push(a.substr(l,b).replace(T,"\\n"))}function f(b){b&&A('Unmatched or missing tag: "{{/'+b+'}}" in template:\n'+a)}function g(g,k,p,q,r,s,t,u,v,w,x,y){s&&(r=":",q=db),w=w||c;var z,B,C=k&&[],E="",F="",G="",H=!w&&!r&&!t;p=p||(v=v||"#data",r),e(y),l=y+g.length,u?j&&n.push(["*","\n"+v.replace(U,"$1")+"\n"]):p?("else"===p&&(X.test(v)&&A('for "{{else if expr}}" use "{{else expr}}"'),C=o[6],o[7]=a.substring(o[7],y),o=m.pop(),n=o[3],H=!0),v&&(v=v.replace(T," "),E=D(v,C,b).replace(W,function(a,b,c){return b?G+=c+",":F+=c+",",i=i||$.test(c.split(":")[0]),""})),F=F.slice(0,-1),E=E.slice(0,-1),z=F&&F.indexOf("noerror:true")+1&&F||"",h=[p,q||!!d||i||"",E,H&&[],'\n	params:"'+v+'",\n	props:{'+F+"}"+(G?",ctx:{"+G.slice(0,-1)+"}":""),z,C||0],n.push(h),H&&(m.push(o),o=h,o[7]=l)):x&&(B=o[0],f(x!==B&&"else"!==B&&x),o[7]=a.substring(o[7],y),o=m.pop()),f(!o&&x),n=o[3]}var h,i,j=b&&b.allowCode,k=[],l=0,m=[],n=k,o=[,,,k];return f(m[0]&&m[0][3].pop()[0]),a.replace(J,g),e(a.length),(l=k[k.length-1])&&f(""+l!==l&&+l[7]===l[7]&&l[0]),C(k,c?a:b,c)}function C(a,c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,x,y,z,B,D,E,F,G=0,H="",I="",J={},K=a.length;for(""+c===c?(s=d?'data-link="'+c.replace(T," ").slice(1,-1)+'"':c,c=0):(s=c.tmplName||"unnamed",c.allowCode&&(J.allowCode=!0),c.debug&&(J.debug=!0),p=c.bnds,r=c.tmpls),e=0;K>e;e++)if(f=a[e],""+f===f)H+='\nret+="'+f+'";';else if(g=f[0],"*"===g)H+=""+f[1];else{if(h=f[1],i=f[2],v=f[3],j=f[4],I=f[5],x=f[7],(B="else"===g)||(G=0,p&&(q=f[6])&&(G=p.push(q))),(D=":"===g)?(h&&(g=h===db?">":h+g),I&&(E="prm"+e,I="try{var "+E+"=["+i+"][0];}catch(e){"+E+'="";}\n',i=E)):(v&&(t=w(x,J),t.tmplName=s+"/"+g,C(v,t),r.push(t)),B||(u=g,z=H,H=""),y=a[e+1],y=y&&"else"===y[0]),j+=",\n	args:["+i+"]}",D&&(q||h&&h!==db)){if(F=new Function("data,view,j,u"," // "+s+" "+G+" "+g+"\n"+I+"return {"+j+";"),F.paths=q,F._ctxs=g,d)return F;o=1}if(H+=D?"\n"+(q?"":I)+(d?"return ":"ret+=")+(o?(o=0,n=!0,'c("'+h+'",view,'+(q?(p[G-1]=F,G):"{"+j)+");"):">"===g?(l=!0,"h("+i+");"):(m=!0,"(v="+i+")!="+(d?"=":"")+'u?v:"";')):(k=!0,"{view:view,tmpl:"+(v?r.length:"0")+","+j+","),u&&!y){if(H="["+H.slice(0,-1)+"]",(d||q)&&(H=new Function("data,view,j,u"," // "+s+" "+G+" "+u+"\nreturn "+H+";"),q&&((p[G-1]=H).paths=q),H._ctxs=g,d))return H;H=z+'\nret+=t("'+u+'",view,this,'+(G||H)+");",q=0,u=0}}H="// "+s+"\nvar j=j||"+(b?"jQuery.":"js")+"views"+(m?",v":"")+(k?",t=j._tag":"")+(n?",c=j._cnvt":"")+(l?",h=j.converters.html":"")+(d?";\n":',ret="";\n')+(pb.tryCatch?"try{\n":"")+(J.debug?"debugger;":"")+H+(d?"\n":"\nreturn ret;\n")+(pb.tryCatch?"\n}catch(e){return j._err(e);}":"");try{H=new Function("data,view,j,u",H)}catch(L){A("Compiled template code:\n\n"+H,L)}return c&&(c.fn=H),H}function D(a,b,c){function d(d,n,o,p,q,r,s,t,u,v,w,x,y,z,C,E,F,G,H,I){function J(a,c,d,h,i,j,k,l){if(d&&(b&&("linkTo"===e&&(f=b._jsvto=b._jsvto||[],f.push(q)),(!e||g)&&b.push(q.slice(c.length))),"."!==d)){var m=(h?'view.hlp("'+h+'")':i?"view":"data")+(l?(j?"."+j:h?"":i?"":"."+d)+(k||""):(l=h?"":i?j||"":d,""));return m+=l?"."+l:"",c+("view.data"===m.slice(0,9)?m.slice(5):m)}return a}var K;return r=r||"",o=o||n||x,q=q||u,v=v||F||"",!s||m||l?(b&&E&&!m&&!l&&(!e||g||f)&&(K=j[k],I.length-1>H-K&&(K=I.slice(K,H+1),E=N+":"+K+O,E=h[E]=h[E]||B(M+E+P,c,!0),E.paths||D(K,E.paths=[],c),(f||b).push({_jsvOb:E}))),m?(m=!y,m?d:'"'):l?(l=!z,l?d:'"'):(o?(k++,j[k]=H++,o):"")+(G?k?"":e?(e=g=f=!1,"\b"):",":t?(k&&A(a),e=q,g=p,"\b"+q+":"):q?q.split("^").join(".").replace(R,J)+(v?(i[++k]=!0,"."!==q.charAt(0)&&(j[k]=H),v):r):r?r:C?(i[k--]=!1,C+(v?(i[++k]=!0,v):"")):w?(i[k]||A(a),","):n?"":(m=y,l=z,'"'))):void A(a)}var e,f,g,h=c.links,i={},j={0:-1},k=0,l=!1,m=!1;return(a+" ").replace(/\)\^/g,").").replace(S,d)}function E(a,b){return a&&a!==b?b?i(i({},b),a):a:b&&i({},b)}function F(a){return cb[a]||(cb[a]="&#"+a.charCodeAt(0)+";")}function G(a){var b,c,d=[];if("object"==typeof a)for(b in a)c=a[b],c&&c.toJSON&&!c.toJSON()||ob(c)||d.push({key:b,prop:a[b]});return d}if(!(b&&b.views||a.jsviews)){var H,I,J,K,L,M="{",N="{",O="}",P="}",Q="^",R=/^(!*?)(?:null|true|false|\d[\d.]*|([\w$]+|\.|~([\w$]+)|#(view|([\w$]+))?)([\w$.^]*?)(?:[.[^]([\w$]+)\]?)?)$/g,S=/(\()(?=\s*\()|(?:([([])\s*)?(?:(\^?)(!*?[#~]?[\w$.^]+)?\s*((\+\+|--)|\+|-|&&|\|\||===|!==|==|!=|<=|>=|[<>%*:?\/]|(=))\s*|(!*?[#~]?[\w$.^]+)([([])?)|(,\s*)|(\(?)\\?(?:(')|("))|(?:\s*(([)\]])(?=\s*\.|\s*\^|\s*$)|[)\]])([([]?))|(\s+)/g,T=/[ \t]*(\r\n|\n|\r)/g,U=/\\(['"])/g,V=/['"\\]/g,W=/\x08(~)?([^\x08]+)\x08/g,X=/^if\s/,Y=/<(\w+)[>\s]/,Z=/[\x00`><"'&]/g,$=/^on[A-Z]|^convert(Back)?$/,_=Z,ab=0,bb=0,cb={"&":"&amp;","<":"&lt;",">":"&gt;","\x00":"&#0;","'":"&#39;",'"':"&#34;","`":"&#96;"},db="html",eb="data-jsv-tmpl",fb={},gb={template:{compile:v},tag:{compile:u},helper:{},converter:{}},hb={jsviews:"v1.0.0-beta",render:fb,settings:function(a){i(pb,a),f(pb._dbgMode),pb.jsv&&pb.jsv()},sub:{View:s,Err:h,tmplFn:B,cvt:p,parse:D,extend:i,err:z,syntaxErr:A,isFn:function(a){return"function"==typeof a},DataMap:g},_cnvt:o,_tag:r,_err:function(a){return pb._dbgMode?"Error: "+(a.message||a)+". ":""}};(h.prototype=new Error).constructor=h,l.depends=function(){return[this.get("item"),"index"]},m.depends=function(){return["index"]};for(I in gb)x(I,gb[I]);var ib,jb=hb.templates,kb=hb.converters,lb=hb.helpers,mb=hb.tags,nb=hb.sub,ob=nb.isFn,pb=hb.settings;b?(H=b,H.fn.render=y,(ib=H.observable)&&(i(nb,ib.sub),delete ib.sub)):(H=a.jsviews={},H.isArray=Array&&Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)}),H.render=fb,H.views=hb,H.templates=jb=hb.templates,pb({debugMode:f,delimiters:j,_dbgMode:!0,tryCatch:!0}),mb({"else":function(){},"if":{render:function(a){var b=this;return b.rendering.done||!a&&(arguments.length||!b.tagCtx.index)?"":(b.rendering.done=!0,b.selected=b.tagCtx.index,b.tagCtx.render(b.tagCtx.view,!0))},onUpdate:function(a,b,c){for(var d,e,f=0;(d=this.tagCtxs[f])&&d.args.length;f++)if(d=d.args[0],e=!d!=!c[f].args[0],!this.convert&&!!d||e)return e;return!1},flow:!0},"for":{render:function(a){var b,d=this,e=d.tagCtx,f="",g=0;return d.rendering.done||((b=!arguments.length)&&(a=e.view.data),a!==c&&(f+=e.render(a,b),g+=H.isArray(a)?a.length:1),(d.rendering.done=g)&&(d.selected=e.index)),f},flow:!0,autoBind:!0},include:{flow:!0,autoBind:!0},"*":{render:d,flow:!0}}),mb({props:i(i({},mb["for"]),g(G))}),mb.props.autoBind=!0,kb({html:function(a){return a!=c?String(a).replace(_,F):""},attr:function(a){return a!=c?String(a).replace(Z,F):null===a?a:""},url:function(a){return a!=c?encodeURI(String(a)):null===a?a:""}}),j()}}(this,this.jQuery),function(a,b,c){"use strict";function d(a){return v(a)?new f(a):new e(a)}function e(a){return this._data=a,this}function f(a){return this._data=a,this}function g(a){return v(a)?[a]:a}function h(a,b){a=v(a)?a:[a];for(var c,d=b,e=d,f=a.length,g=[],i=0;f>i;i++)c=a[i],E(c)?g=g.concat(h(c.call(b,b),b)):""+c===c?(e!==d&&g.push(d=e),g.push(c)):(b=e=c,e!==d&&g.push(d=e));return g}function i(a,b){var c,d;for(c in a){d=!0;break}d||delete C[b]}function j(a,b){if(!a.data||!a.data.off){var d,e,f,g=b.oldValue,h=b.value,i=a.data,j=i.observeAll,k=!i.cb.noArray,l=i.paths;a.type===B?(i.cb.array||i.cb).call(i,a,b):(i.prop===b.path||"*"===i.prop)&&(g=typeof g===x&&(l[0]||k&&v(g))&&g,h=typeof(h=b.value)===x&&(l[0]||k&&v(h))&&h,j?(d=j._path+"."+b.path,e=j.filter,f=[j.parents().slice()],g&&m(k,j.ns,[g],l,i.cb,!0,e,f,d),h&&m(k,j.ns,[h],l,i.cb,c,e,f,d)):(g&&m(k,[g],l,i.cb,!0),h&&m(k,[h],l,i.cb)),i.cb(a,b))}}function k(){function a(a,c,d,e){var f,h,i=H(ab),k=g(ab);if(a=S?a+"."+S:a,s||e)i&&b(k).off(a,j);else{if(J=i&&b._data(ab))for(J=J&&J.events,J=J&&J[d?B:A],y=J&&J.length;y--;)if((I=J[y].data)&&I.cb._cId===t._cId&&I.ns===S){if(d)return;("*"===c&&I.prop!==c||I.prop===p)&&b(ab).off(a,j)}h=d?{}:{fullPath:q,paths:c?[c]:[],prop:p},h.ns=S,h.cb=t,Q&&(h.observeAll={_path:Q,path:function(){return f=P.length,Q.replace(/[[.]/g,function(a){return f--,"["===a?"["+b.inArray(P[f-1],P[f]):"."})},parents:function(){return P},filter:R,ns:S}),b(k).on(a,null,h,j),M&&(M[b.data(ab,"obId")||b.data(ab,"obId",F++)]=ab)}}function e(a,b){a._ob=K(a,$);var c=$;return function(d,e){var g=a._ob,h=b.length;typeof g===x&&(f(g,!0),(h||V&&v(g))&&m(V,[g],b,t,K,!0)),g=a._ob=K(a,c),typeof g===x&&(f(g),(h||V&&v(g))&&m(V,[g],b,t,K,[c])),t(d,e)}}function f(b,e,f,g){if(V){var h=ab,i=Q;ab=b,g&&(ab=b[g],Q+="."+g,R&&(ab=d._fltr(g,b,Q,R))),ab&&(f||v(ab))&&a(B+".observe"+(t?".obs"+(w=t._cId=t._cId||G++):""),c,!0,e),ab=h,Q=i}}var k,l,n,o,p,q,r,s,t,w,y,I,J,K,L,M,N,O,P,Q,R,S,T,U,V=0!=this,W=1,X=D,Y=Array.apply(0,arguments),Z=Y.pop(),$=Y.shift(),_=$,ab=_,bb=Y.length;for($+""===$&&V&&(S=$,$=ab=_=Y.shift(),bb--),E(Z)?t=Z:(Z+""===Z&&(Q=Z,P=Y.pop(),R=Y.pop(),Z=Y.pop(),bb-=3),Z===!0?s=Z:Z&&($=Z,W=0),Z=Y[bb-1],(bb&&Z===c||E(Z))&&(t=Y.pop(),bb--)),bb&&E(Y[bb-1])&&(K=t,t=Y.pop(),bb--),X+=s?t?".obs"+t._cId:"":".obs"+(w=t._cId=t._cId||G++),s||(M=C[w]=C[w]||{}),T=S&&S.match(z)||[""],U=T.length;U--;)for(S=T[U],v(_)?f(_,s,!0):s&&0===bb&&_&&a(X,""),N=0,k=0;bb>k;k++)if(q=Y[k],""!==q){if(ab=_,""+q===q){if(o=q.split("^"),o[1]&&(N=o[0].split(".").length,q=o.join("."),N=q.split(".").length-N),K&&(L=K(q,_))){bb+=L.length-1,u.apply(Y,[k--,1].concat(L));continue}o=q.split(".")}else W&&!E(q)&&(q._jsvOb&&(q._cb=O=e(q,Y.slice(k+1)),O.noArray=V===!1,O._cId=t._cId,m(V,[$],Y.slice(0,k),q._cb,K),q=q._ob),ab=q),_=q,o=[_];for(;ab&&(p=o.shift())!==c;)if(typeof ab===x){if(""+p===p){if(""===p)continue;if(o.length<N+1&&!ab.nodeType){if(!s&&(J=H(ab)&&b._data(ab))){for(J=J.events,J=J&&J[A],y=J&&J.length,n=0;y--;)I=J[y].data,I&&I.cb===t&&I.ns===S&&(I.prop===p||"*"===I.prop)&&((l=o.join("."))&&I.paths.push(l),n++);if(n){ab=ab[p];continue}}if("*"===p){!s&&J&&J.length&&a(X,"",!1,!0),E(ab)?(r=ab.depends)&&m(V,[r],t,s||$):a(X,"");for(l in ab)f(ab,s,c,l);break}p&&a(X+"."+p,o.join("."))}Q&&(Q+="."+p),p=ab[p]}if(E(p)){(r=p.depends)&&m(V,[ab],h(r,ab),t,K,s||[$]);break}ab=p}f(ab,s)}return w&&i(M,w),{cbId:w,bnd:M,leaf:ab}}function l(){return[].push.call(arguments,!0),k.apply(this,arguments)}function m(){var a=[].concat.apply([],arguments);return k.apply(a.shift(),a)}function n(a,b,c){return c.indexOf(".")<0&&c.indexOf("[")<0&&b[a]}function o(a,d,e,f,g){return f=f||n,g=g||n,{getTgt:a,obsSrc:d,obsTgt:e,map:function(c){var h,i,j=this;return j.src!==c&&(j.src&&j.unmap(),typeof c===x&&(i=a.apply(j,arguments),b.observable&&(b.observable(c).observeAll(j.obs=function(a,b){!h&&d&&(h=!0,d.call(j,c,i,a,b),h=!1)},f),b.observable(i).observeAll(j.obt=function(a,b){!h&&e&&(h=!0,e.call(j,c,i,a,b),h=!1)},g)),j.src=c,j.tgt=i)),j},unmap:function(){if(b.observable){var a=this;a.src&&(b.observable(a.src).unobserveAll(a.obs,f),b.observable(a.tgt).unobserveAll(a.obt,g),a.src=a.tgt=c)}}}}function p(a,b,c,d){a+""!==a&&(c=b,b=a,a=""),r(a,this._data,b,c,[],"root",d)}function q(a,b,c){p.call(this,a,b,c,!0)}function r(a,b,e,f,g,h,i){function j(b,c){for(m=b.length,o=h+"[]";m--;)(p=d._fltr(m,b,o,f))&&r(a,p,e,f||"",g.slice(),o,c)}function l(b,c){h=b.data.observeAll._path;var d=g;switch(g[0]!==b.target&&(g=g.slice(),g.unshift(b.target)),c.change){case"insert":j(c.items);break;case"remove":j(c.items,!0);break;case"refresh":j(c.oldItems,!0),j(b.target);break;case"set":o=h+"."+c.path,r(a,c.oldValue,e,0,g.slice(),o,!0),r(a,c.value,e,0,g.slice(),o)}e.apply(this,arguments),g=d}var m,n,o,p;if(typeof b===x)if(n=v(b)?"":"*",g.unshift(b),e?(n||0!==f)&&(l._cId=e._cId=e._cId||G++,k(a,b,n,l,i,f,g.slice(),h)):k(a,b,n,c,i,f,g.slice(),h),n)for(m in b)"_"!==m.charAt(0)&&m!==w&&(o=h+"."+m,(p=d._fltr(m,b,o,f))&&r(a,p,e,f||0,g.slice(),o,i));else j(b,i)}if(!b)throw"jsViews/jsObservable require jQuery";if(!b.observable){var s=b.event.special,t=b.views?b.views.sub:d.sub={},u=[].splice,v=b.isArray,w=b.expando,x="object",y=parseInt,z=/\S+/g,A=t.propChng=t.propChng||"propertyChange",B=t.arrChng=t.arrChng||"arrayChange",C=t._cbBnds=t._cbBnds||{},D=A+".observe",E=t.isFn,F=1,G=1,H=b.hasData;t.getDeps=function(){var a=arguments;return function(){for(var b,c,d=[],e=a.length;e--;)b=a[e--],c=a[e],c&&(d=d.concat(E(c)?c(b,b):c));return d}},t.DataMap=o,b.observable=d,d._fltr=function(a,b,c,d){var e=d&&E(d)?d(a,b,c):b[a];return e&&(e=E(e)?e.set&&e.call(b):e),typeof e===x&&e},d.Object=e,d.Array=f,b.observe=d.observe=k,b.unobserve=d.unobserve=l,d._apply=m,e.prototype={_data:null,observeAll:p,unobserveAll:q,data:function(){return this._data},setProperty:function(a,b,d){var e,f,g,h=this,i=h._data;if(a=a||"",i)if(v(a))for(e=a.length;e--;)f=a[e],h.setProperty(f.name,f.value,d===c||d);else if(""+a!==a)for(e in a)h.setProperty(e,a[e],b);else if(a!==w){for(g=a.split(".");i&&g.length>1;)i=i[g.shift()];h._setProperty(i,g.join("."),b,d)}return h},_setProperty:function(a,b,c,d){var e,f,g=b?a[b]:a;E(g)&&g.set&&(f=g,e=g.set===!0?g:g.set,g=g.call(a)),(g!==c||d&&g!=c)&&(!(g instanceof Date)||g>c||c>g)&&(e?(e.call(a,c),c=f.call(a)):b&&(a[b]=c),this._trigger(a,{change:"set",path:b,value:c,oldValue:g}))},_trigger:function(a,c){b(a).triggerHandler(A,c)}},f.prototype={_data:null,observeAll:p,unobserveAll:q,data:function(){return this._data},insert:function(a,b){var c=this._data;return 1===arguments.length&&(b=a,a=c.length),a=y(a),a>-1&&a<=c.length&&(b=v(b)?b:[b],b.length&&this._insert(a,b)),this},_insert:function(a,b){var c=this._data,d=c.length;u.apply(c,[a,0].concat(b)),this._trigger({change:"insert",index:a,items:b},d)},remove:function(a,b){var d,e=this._data;return a===c&&(a=e.length-1),a=y(a),b=b?y(b):0===b?0:1,b>-1&&a>-1&&(d=e.slice(a,a+b),b=d.length,b&&this._remove(a,b,d)),this},_remove:function(a,b,c){var d=this._data,e=d.length;d.splice(a,b),this._trigger({change:"remove",index:a,items:c},e)},move:function(a,b,c){if(c=c?y(c):0===c?0:1,a=y(a),b=y(b),c>0&&a>-1&&b>-1&&a!==b){var d=this._data.slice(a,a+c);c=d.length,c&&this._move(a,b,c,d)}return this},_move:function(a,b,c,d){var e=this._data,f=e.length;e.splice(a,c),e.splice.apply(e,[b,0].concat(d)),this._trigger({change:"move",oldIndex:a,index:b,items:d},f)},refresh:function(a){var b=this._data.slice();return this._refresh(b,a),this},_refresh:function(a,b){var c=this._data,d=c.length;u.apply(c,[0,c.length].concat(b)),this._trigger({change:"refresh",oldItems:a},d)},_trigger:function(a,c){var d=this._data,e=d.length,f=b([d]);f.triggerHandler(B,a),e!==c&&f.triggerHandler(A,{change:"set",path:"length",value:e,oldValue:c})}},s[A]=s[B]={remove:function(a){var c,d,e,f,g,h=a.data;if(h&&(h.off=1,h=h.cb)&&(c=C[h._cId])){for(e=b._data(this).events[a.type],f=e.length;f--&&!d;)d=(g=e[f].data)&&g.cb===h;d||(delete c[b.data(this,"obId")],i(c,h._cId))}}}}}(this,this.jQuery),function(a,b,c){"use strict";function d(a){var b=this.linkedElem;b&&e({target:b[0]},a)}function e(a,d){var e,f,g,h,i,j,k,m,n,o,p,q,r,s,t,u,v=a.target,w=v._jsvBnd,x=/&(\d+)\+?/g;if(w)for(;o=x.exec(w);)(o=Tb[o[1]])&&(t=o.to)&&(h=o.linkCtx,n=h.view,s=h.tag,m=b(v),q=n.hlp(tb),r=n.hlp(ub),g=l(v),e=Db[g],d===c&&(d=kb(g)?g(v):e?m[e]():m.attr(g)),j=t[1],t=t[0],j&&(i=kb(j)?j:n.getRsc("converters",j)),i&&(d=i.call(s,d)),p=n.linkCtx,n.linkCtx=h,u={change:"change",oldValue:h._val,value:d},q&&(f=q.call(h,a,u)===!1)||s&&s.onBeforeChange&&(f=s.onBeforeChange(a,u)===!1)||d===c||(k=t[0],d===c||!k)||(k=k._jsvOb?k._ob:k,s&&(s._.chging=!0),nb(k).setProperty(t[2]||t[1],d),r&&r.call(h,a,u),s&&(s.onAfterChange&&s.onAfterChange(a,u),delete s._.chging),h._val=d),n.linkCtx=p)}function f(a,b,e){var f,i,j,k=this,m=k.data,n=k.elem,p=k.convert,q=n.parentNode,r=k.view,s=(r.ctx,r.linkCtx),t=r.hlp(tb);if(r.linkCtx=k,!(!q||t&&b&&t.call(k,a,b)===!1||b&&"*"!==a.data.prop&&a.data.prop!==b.path)){if(b&&(k.eventArgs=b),b||k._initVal){if(delete k._initVal,i=e.call(r.tmpl,m,r,fb),f=g(i,k,j,k.attr||l(n,!0,p!==c)),j=k.tag){if(b&&j.onUpdate&&j.onUpdate(a,b,i=i[0]?i:[i])===!1||"none"===f)return j.tagCtxs=i,j.tagCtx=i[0],f===Cb&&j.onBeforeLink&&j.onBeforeLink(),E(j,j.tagCtx),o(k,m,n),void(r.linkCtx=s);if(j._.chging)return;i=":"===j.tagName.slice(-1)?fb._cnvt(j.tagName.slice(0,-1),r,i):fb._tag(j,r,r.tmpl,i,!0)}else e._ctxs&&(p=""===p?"true":p,i=p?fb._cnvt(p,r,i):fb._tag(e._ctxs,r,r.tmpl,i,!0),j=r._.tag,f=k.attr||f);h(i,k,f,j)&&b&&(t=r.hlp(ub))&&t.call(k,a,b)}j&&(j.contents=A,j.nodes=B,j.childTags=C,j.currentCtxs=D,j.update=d,j.refresh=G,E(j,j.tagCtx)),o(k,m,n),r.linkCtx=s}}function g(a,d,e,f){var g,h,i,j,k=e&&e.parentElem||d.elem;if(a!==c){if(j=b(k),f=e&&e.attr||f,kb(a)&&Ib(d.expr+": missing parens"),"visible"===f&&(f="css-display"),i=/^css-/.test(f)&&f.slice(4))g=b.style(k,i),+a===a&&(g=parseInt(g)),g=b.style(k,i);else if("link"!==f){if("value"===f)k.type===xb&&(g=j.prop(f=wb));else if(f===yb){if(k.value!==""+a)return f;g=j.prop(wb)}g===c&&(h=Db[f],g=h?j[h]():j.attr(f))}d._val=g}return f}function h(a,d,e,f){var g,h,i,k,l,m,n,p,q,r,s=a!==c,t=d.data,u=f&&f.parentElem||d.elem,v=b(u),w=d.view,x=d._val,y=w.ctx,z=w.linkCtx,A=f||e===Cb;if(f&&(f.parentElem=f.parentElem||d.expr||f._elCnt?u:u.parentNode,h=f._prv,i=f._nxt),!s)return void(e===Cb&&f&&f.onBeforeLink&&f.onBeforeLink());if(/^css-/.test(e))"visible"===d.attr&&(a=a?j(u):"none"),(A=A||x!==a)&&b.style(u,e.slice(4),a);else if("link"!==e){if(e===wb)m=1,a=a&&"false"!==a;else if(e===yb){if(u.value!==""+a)return void o(d,t,u);a=!0,m=1,e=wb}else("selected"===e||"disabled"===e||"multiple"===e||"readonly"===e)&&(a=a&&"false"!==a?e:null);(g=Db[e])?e===Cb?(w.linkCtx=d,w.ctx=d.ctx,f&&f._.inline?(l=f.nodes(!0),f._elCnt&&(h&&h!==i?N(h,i,u,f._tgId,"^",!0):(n=u._dfr)&&(p=f._tgId+"^",q=n.indexOf("#"+p)+1,r=n.indexOf("/"+p),q&&r>0&&(q+=p.length,r>q&&(u._dfr=n.slice(0,q)+n.slice(r),O(n.slice(q,r))))),h=h?h.previousSibling:i?i.previousSibling:u.lastChild),b(l).remove(),f&&f.onBeforeLink&&f.onBeforeLink(),k=w.link(w.data,u,h,i,a,f&&{tag:f._tgId,lazyLink:f.tagCtx.props.lazyLink})):(s&&v.empty(),f&&f.onBeforeLink&&f.onBeforeLink(),s&&(k=w.link(t,u,h,i,a,f&&{tag:f._tgId}))),w.linkCtx=z,w.ctx=y):(A=A||x!==a)&&("text"===e&&u.children&&!u.children[0]?u.textContent!==c?u.textContent=a:u.innerText=null===a?"":a:v[g](a)):(A=A||x!==a)&&v[m?"prop":"attr"](e,a!==c||m?a:null),d._val=a}return k||A}function i(a,b){var c=this,d=c.hlp(tb),e=c.hlp(ub);if(!d||d.call(this,a,b)!==!1){if(b){var f=b.change,g=b.index,h=b.items;switch(f){case"insert":c.addViews(g,h);break;case"remove":c.removeViews(g,h.length);break;case"move":c.refresh();break;case"refresh":c.refresh()}}e&&e.call(this,a,b)}}function j(b){var c,d,e=a.getComputedStyle,f=(b.currentStyle||e.call(a,b,"")).display;return"none"!==f||(f=Rb[d=b.nodeName])||(c=eb.createElement(d),eb.body.appendChild(c),f=(e?e.call(a,c,""):c.currentStyle).display,Rb[d]=f,eb.body.removeChild(c)),f}function k(a){var d,e,f=a.data,g=a._.bnd;!a._.useKey&&g&&((e=a._.bndArr)&&(b([e[1]]).off(rb,e[0]),a._.bndArr=c),g!==!!g&&g._.inline?f?g._.arrVws[a._.id]=a:delete g._.arrVws[a._.id]:f&&(d=function(b){b.data&&b.data.off||i.apply(a,arguments)},b([f]).on(rb,d),a._.bndArr=[d,f]))}function l(a,b,c){var d=a.nodeName.toLowerCase(),e=hb.merge[d]||"true"===a.contentEditable&&{to:Cb,from:Cb};return e?b?"input"===d&&a.type===yb?yb:e.to:e.from:b?c?"text":Cb:""}function m(a,d,e,f,g,h,i){var j,k,l,m,n,o=a.parentElem,p=a._prv,q=a._nxt,r=a._elCnt;if(p&&p.parentNode!==o&&Ib("Missing parentNode"),i){m=a.nodes(),r&&p&&p!==q&&N(p,q,o,a._.id,"_",!0),a.removeViews(c,c,!0),k=q,r&&(p=p?p.previousSibling:q?q.previousSibling:o.lastChild),b(m).remove();for(n in a._.bnds)I(n)}else{if(d){if(l=f[d-1],!l)return!1;p=l._nxt}r?(k=p,p=k?k.previousSibling:o.lastChild):k=p.nextSibling}j=e.render(g,h,a._.useKey&&i,a,i||d,!0),a.link(g,o,p,k,j,l)}function n(a,b,d){var e,f,g;return d?(g="^`",f=b._.tag||{_:{inline:!0,bnd:d},tagCtx:{view:b},flow:!0},e=f._tgId,e||(Tb[e=Ub++]=f,f._tgId=""+e)):(g="_`",Sb[e=b._.id]=b),"#"+e+g+(a===c?"":a)+"/"+e+g}function o(a,b,d){var e,f,g,h=a.tag,i=a.convertBack,j=[],k=a._bndId||""+Ub++,l=a._hdlr;if(delete a._bndId,h&&(j=h.depends||j,j=kb(j)?h.depends(h):j,g=h.linkedElem),a._depends&&""+a._depends==""+j||(a._depends&&nb._apply(!1,[b],a._depends,l,!0),e=nb._apply(!1,[b],a.fn.paths,j,l,a._ctxCb),e.elem=d,e.linkCtx=a,e._tgId=k,d._jsvBnd=d._jsvBnd||"",d._jsvBnd+="&"+k,a._depends=j,a.view._.bnds[k]=k,Tb[k]=e,g&&(e.to=[[],i]),(g||i!==c)&&F(e,h&&h.convertBack||i),!h)||(h.onAfterBind&&h.onAfterBind(e),h.flow||h._.inline||(d.setAttribute(pb,(d.getAttribute(pb)||"")+"#"+k+"^/"+k+"^"),h._tgId=""+k)),g&&g[0])for(h._.radio&&(g=g.children("input[type=radio]")),f=g.length;f--;)g[f]._jsvBnd=g[f]._jsvBnd||d._jsvBnd+"+",g[f]._jsvLnkdEl=h}function p(a,b,c,d,e,f,g){return q(this,a,b,c,d,e,f,g)}function q(a,d,f,g,h,i,j,k){if(a&&d){d=d.jquery?d:b(d),T||(T=eb.body,b(T).on(sb,e).on("blur","[contenteditable]",function(a){var b=hb.noValidate;hb.noValidate=!0,e(a),hb.noValidate=b}));for(var l,m,o,p,q,r,t,u,v=n,x=g&&"replace"===g.target,y=d.length;y--;)if(t=d[y],""+a===a)q=U(t),u=q.ctx,q.ctx=g,s(a,t,q,f),q.ctx=u;else{if(i=i||U(t),a.markup!==c)i.link===!1&&(g=g||{},g.link=v=!1),x&&(r=t.parentNode),o=a.render(f,g,h,i,c,v),r?(j=t.previousSibling,k=t.nextSibling,b.cleanData([t],!0),r.removeChild(t),t=r):(j=k=c,b(t).empty());else if(a!==!0)break;if(t._dfr&&!k){for(p=w(t._dfr,1,Xb),l=0,m=p.length;m>l;l++)q=p[l],(q=Sb[q.id])&&q.data!==c&&q.parent.removeViews(q._.key,c,!0);t._dfr=""}i.link(f,t,j,k,o,c,g)}}return d}function r(a,e,f,g,h,j,l,m){function o(a,b,d,e,f,g,i,j,k,l,m,n,o){var p,q="";return o?(t=0,a):(z=j||k||"",e=e||l,d=d||n,mb&&!d&&(e||z||g)&&(mb=c,lb=Fb.shift()),e=e||d,e&&(t=0,mb=c,hb.noValidate||(d||n?Qb[lb]||(p="'<"+lb+".../"):Qb[e]?p="'</"+e:Fb.length&&e===lb||(p="Mismatch: '</"+e),p&&Jb(p+">' in:\n"+h)),sb=rb,lb=Fb.shift(),rb=Ob[lb],l=l?"</"+l+">":"",sb&&(Db+=ub,ub="",rb?Db+="-":(q=l+Ab+"@"+Db+zb+(m||""),Db=Gb.shift()))),rb?(g?ub+=g:b=l||n||"",z&&(b+=z,ub&&(b+=" "+pb+'="'+ub+'"',ub=""))):b=g?b+q+f+Ab+g+zb+i+z:q||a,t&&g&&Jb(" No {^{ tags within elem markup ("+t+' ). Use data-link="..."'),z&&(t=z,Fb.unshift(lb),lb=z.slice(1),Fb[0]&&Fb[0]===Pb[lb]&&Ib("Parent of <tr> must be <tbody>"),mb=Qb[lb],(rb=Ob[lb])&&!sb&&(Gb.unshift(Db),Db=""),sb=rb,Db&&rb&&(Db+="+")),b)}function p(a,b){var d,f,g,h,j,l,m,o=[];if(a){for("@"===a._tkns.charAt(0)&&(b=L.previousSibling,L.parentNode.removeChild(L),L=null),J=a.length;J--;){if(N=a[J],g=N.ch,d=N.path)for(I=d.length-1;f=d.charAt(I--);)"+"===f?"-"===d.charAt(I)?(I--,b=b.previousSibling):b=b.parentNode:b=b.lastChild;
"^"===g?(z=Tb[j=N.id])&&(m=b&&(!L||L.parentNode!==b),(!L||m)&&(z.parentElem=b),N.elCnt&&m&&(b._dfr=(N.open?"#":"/")+j+g+(b._dfr||"")),o.push([m?null:L,N])):(M=Sb[j=N.id])&&(M.link||(M.parentElem=b||L&&L.parentNode||e,ib(M,S),M._.onRender=n,M._.onArrayChange=i,k(M)),h=M.parentElem,N.open?(M._elCnt=N.elCnt,b?b._dfr="#"+j+g+(b._dfr||""):(M._prv||(h._dfr=u(h._dfr,"#"+j+g)),M._prv=L)):(!b||L&&L.parentNode===b?L&&(M._nxt||(h._dfr=u(h._dfr,"/"+j+g)),M._nxt=L):(b._dfr="/"+j+g+(b._dfr||""),M._nxt=c),v=M.linkCtx,(l=M.ctx&&M.ctx.onAfterCreate||Hb)&&l.call(v,M)))}for(J=o.length;J--;)Eb.push(o[J])}return!a||a.elCnt}function q(a){var b,c;if(a)for(J=a.length,I=0;J>I;I++)if(N=a[I],db.id)db.id=db.id!==N.id&&db.id;else if(c=z=Tb[N.id].linkCtx.tag,!z.flow){if(!X){for(b=1;c=c.parent;)b++;$=$||b}(X||b===$)&&(!Y||z.tagName===Y)&&W.push(z)}}function r(){for(K=Nb?e.querySelectorAll(bb):b(bb,e).get(),H=K.length,f&&f.innerHTML&&(P=Nb?f.querySelectorAll(bb):b(bb,f).get(),f=P.length?P[P.length-1]:f),$=0,F=0;H>F;F++)if(L=K[F],f&&!xb)xb=L===f;else{if(g&&L===g)break;L.parentNode&&Lb(w(L,c,W&&$b))&&!db&&L.getAttribute(ab)&&Eb.push([L])}if(x(f,rb),x(g,rb),db)return void(yb&&yb.resolve());for(rb&&Db+ub&&(L=g,Db&&(g?p(w(Db+"+",1),g):p(w(Db,1),e)),p(w(ub,1),e),g&&(qb=g.getAttribute(pb),(H=qb.indexOf(wb)+1)&&(qb=qb.slice(H+wb.length-1)),g.setAttribute(pb,ub+qb))),H=Eb.length,F=0;H>F;F++)L=Eb[F],O=L[1],L=L[0],O?(z=Tb[O.id])&&((v=z.linkCtx)&&(z=v.tag,z.linkCtx=v),O.open?(L&&(z.parentElem=L.parentNode,z._prv=L),z._elCnt=O.elCnt,!z||z.onBeforeLink&&z.onBeforeLink()===!1||z._.bound||(z._.bound=!0,M=z.tagCtx.view,s(c,z._prv,M,a,O.id)),z._.linking=!0):(z._nxt=L,z._.linking&&(Z=z.tagCtx,M=Z.view,z.contents=A,z.nodes=B,z.childTags=C,z.currentCtxs=D,z.update=d,z.refresh=G,delete z._.linking,z._.bound||(z._.bound=!0,s(c,z._prv,M,a,O.id)),E(z,Z)))):(M=U(L),s(L.getAttribute(ab),L,M,a,c,l));yb&&yb.resolve()}var t,v,z,F,H,I,J,K,L,M,N,O,P,Q,R,T,V,W,X,Y,Z,$,db,fb,gb,jb,kb,lb,mb,nb,ob,qb,rb,sb,tb,ub,wb,xb,yb,Bb=this,Cb=Bb._.id+"_",Db="",Eb=[],Fb=[],Gb=[],Hb=Bb.hlp(vb),Lb=p;if(j&&(yb=j.lazyLink&&b.Deferred(),j.tmpl?R="/"+j._.id+"_":(db=j.get,j.tag&&(Cb=j.tag+"^",j=!0)),j=j===!0),db&&(Lb=q,W=db.tags,X=db.deep,Y=db.name),e=e?""+e===e?b(e)[0]:e.jquery?e[0]:e:Bb.parentElem||eb.body,lb=e.tagName.toLowerCase(),rb=!!Ob[lb],f=f&&y(f,rb),g=g&&y(g,rb)||null,h!==c){if(ob=eb.createElement("div"),nb=ob,wb=ub="",tb="http://www.w3.org/2000/svg"===e.namespaceURI?"svg_ns":(kb=Kb.exec(h))&&kb[1]||"",_&&kb&&kb[2]&&Ib("Unsupported: "+kb[2]),rb){for(V=g;V&&!(T=w(V));)V=V.nextSibling;(qb=T?T._tkns:e._dfr)&&(Q=R||"",(j||!R)&&(Q+="#"+Cb),I=qb.indexOf(Q),I+1&&(I+=Q.length,wb=ub=qb.slice(0,I),qb=qb.slice(I),T?V.setAttribute(pb,qb):e._dfr=qb))}if(mb=c,h=(""+h).replace(Wb,o),!hb.noValidate&&Fb.length&&Jb("Mismatched '<"+lb+"...>' in:\n"+h),m)return;for(Mb.appendChild(ob),tb=cb[tb]||cb.div,fb=tb[0],nb.innerHTML=tb[1]+h+tb[2];fb--;)nb=nb.lastChild;for(Mb.removeChild(ob),gb=eb.createDocumentFragment();jb=nb.firstChild;)gb.appendChild(jb);e.insertBefore(gb,g)}return yb?setTimeout(r,0):r(),yb&&yb.promise()}function s(a,b,d,e,f,g){var h,i,j,k,m,n,o,p,q,r,s;if(e=d.data===c?e||{}:d.data,f)r=Tb[f],r=r.linkCtx?r.linkCtx.tag:r,q=r.linkCtx||{data:e,elem:r._elCnt?r.parentElem:b,view:d,ctx:d.ctx,attr:Cb,fn:r._.bnd,tag:r,_bndId:f},t(q,q.fn);else if(a&&b)for(h=d.tmpl,a=z(a,l(b)),V.lastIndex=0;i=V.exec(a);)s=V.lastIndex,j=f?Cb:i[1],o=i[3],m=i[10],k=c,q={data:e,elem:r&&r._elCnt?r.parentElem:b,view:d,ctx:g||d.ctx,attr:j,_initVal:!i[2]},i[6]&&(!j&&(k=/:([\w$]*)$/.exec(m))&&(k=k[1],k!==c&&(n=-k.length-1,o=o.slice(0,n-1)+Y,m=m.slice(0,n))),null===k&&(k=c),q.convert=i[5]||""),q.expr=j+o,p=h.links[o],p||(h.links[o]=p=gb.tmplFn(W+o+Z,h,!0,k),gb.parse(m,p.paths=[],h)),q.fn=p,j||k===c||(q.convertBack=k),t(q,p),V.lastIndex=s}function t(a,b){function c(c,d){f.call(a,c,d,b)}c.noArray=!0,a._ctxCb=L(a.view),a._hdlr=c,c(!0)}function u(a,b){var c;return a?(c=a.indexOf(b),c+1?a.slice(0,c)+a.slice(c+b.length):a):""}function v(a){return a&&(""+a===a?a:"SCRIPT"===a.tagName?a.type.slice(3):1===a.nodeType&&a.getAttribute(pb)||"")}function w(a,b,c){function d(a,b,c,d,f,h){g.push({elCnt:e,id:d,ch:f,open:b,close:c,path:h,token:a})}var e,f,g=[];return(f=b?a:v(a))?(g.elCnt=!a.type,e="@"===f.charAt(0)||!a.type,g._tkns=f,f.replace(c||_b,d),g):void 0}function x(a,b){a&&("jsv"===a.type?a.parentNode.removeChild(a):b&&""===a.getAttribute(ab)&&a.removeAttribute(ab))}function y(a,b){for(var c=a;b&&c&&1!==c.nodeType;)c=c.previousSibling;return c&&(1!==c.nodeType?(c=eb.createElement("SCRIPT"),c.type="jsv",a.parentNode.insertBefore(c,a)):v(c)||c.getAttribute(ab)||c.setAttribute(ab,"")),c}function z(a,c){return a=b.trim(a).replace(Lb,"\\$&"),a.slice(-1)!==Y?a=X+":"+a+(c?":":"")+Y:a}function A(a,d){a!==!!a&&(d=a,a=c);var e,f=b(this.nodes());return f[0]&&(e=d?f.filter(d):f,f=a&&d?e.add(f.find(d)):e),f}function B(a,b,c){var d,e=this,f=e._elCnt,g=!b&&f,h=[];for(b=b||e._prv,c=c||e._nxt,d=g?b===e._nxt?e.parentElem.lastSibling:b:e._.inline===!1?b||e.linkCtx.elem.firstChild:b&&b.nextSibling;d&&(!c||d!==c);)(a||f||"SCRIPT"!==d.tagName)&&h.push(d),d=d.nextSibling;return h}function C(a,b){a!==!!a&&(b=a,a=c);var d=this,e=d.link?d:d.tagCtx.view,f=d._prv,g=d._elCnt,h=[];return f&&e.link(c,d.parentElem,g?f.previousSibling:f,d._nxt,c,{get:{tags:h,deep:a,name:b,id:g&&d._tgId}}),h}function D(){var a=this.tagCtx.view;return this._.bnd.call(a.tmpl,a.data,a,fb)}function E(a,b){var d,e,f,g,h,i,j,k,l=b.view,m=a.linkCtx=a.linkCtx||{tag:a,data:l.data,view:l,ctx:l.ctx};if(a.onAfterLink&&a.onAfterLink(b,m),d=a.targetTag?a.targetTag.linkedElem:a.linkedElem,d&&(e=d[0])&&((f=a._.radio)&&(d=d.children("input[type=radio]")),f||!a._.chging)){if(g=gb.cvt(a,a.convert)[0],f||e!==m.elem){for(j=d.length;j--;){if(e=d[j],k=e._jsvLnkdEl,a._.inline&&(!k||k!==a&&k.targetTag!==a))for(e._jsvLnkdEl=a,h=m.elem?m.elem._jsvBnd:a._prv._jsvBnd,e._jsvBnd=h+"+",h=h.slice(1).split("&"),i=h.length;i--;)F(Tb[h[i]],a.convertBack);f&&(e[wb]=g===e.value)}m._val=g}f||e.value===c||g===c||(e.type===xb?e[wb]=g&&"false"!==g:d.val(g))}}function F(a,b){var c,d,e,f,g,h=a.linkCtx,i=h.data,j=h.fn.paths;if(a){for((c=j._jsvto)&&(j=c),d=j.length;d&&""+(f=j[--d])!==f;);!f||h.tag&&!h.tag.tagCtx.args.length?a.to=[[],b]:(f=f.split("^").join("."),a.to="."===f.charAt(0)?[[g=j[d-1],f.slice(1)],b]:[h._ctxCb(e=d?j[0].split("^").join("."):f)||[i,e],b],c&&g&&(a.to[0][0]=h._ctxCb(g,i)))}}function G(a){var b,d,e=this,f=e.linkCtx,g=e.tagCtx.view;return e.disposed&&Ib("Removed tag"),a===c&&(a=fb._tag(e,g,g.tmpl,e.currentCtxs?e.currentCtxs():e.tagCtxs,!0)),a+""===a&&(d=e._.inline?Cb:f.attr||l(e.parentElem,!0),b=h(a,f,d,e)),E(e,e.tagCtx),b||e}function H(a){for(var b,c,d,e=[],f=a.length,g=f;g--;)e.push(a[g]);for(g=f;g--;)if(c=e[g],c.parentNode){if(d=c._jsvBnd)for(d=d.slice(1).split("&"),c._jsvBnd="",b=d.length;b--;)I(d[b],c._jsvLnkdEl,c);O(v(c)+(c._dfr||""))}}function I(a,c,d){var e,f,g,h,i,j,k,l,m=Tb[a];if(c)d===c.linkedElem[0]&&(delete d._jsvLnkdEl,delete c.linkedElem);else if(m){for(e in m.bnd)h=m.bnd[e],i=".obs"+m.cbId,b.isArray(h)?b([h]).off(rb+i).off(qb+i):b(h).off(qb+i),delete m.bnd[e];if(f=m.linkCtx){if(g=f.tag){if(j=g.tagCtxs)for(k=j.length;k--;)(l=j[k].map)&&l.unmap();g.onDispose&&g.onDispose(),g._elCnt||(g._prv&&g._prv.parentNode.removeChild(g._prv),g._nxt&&g._nxt.parentNode.removeChild(g._nxt)),g.disposed=!0}delete f.view._.bnds[a]}delete Tb[a],delete gb._cbBnds[m.cbId]}}function J(a,d){return a===c?(T&&(b(T).off(sb,e),T=c),a=!0,jb.removeViews(),H(eb.body.getElementsByTagName("*"))):d&&(d=d.jquery?d:b(d),a===!0&&d.each(function(){for(var a;(a=U(this,!0))&&a.parent;)a.parent.removeViews(a._.key,c,!0);H(this.getElementsByTagName("*"))})),d}function K(a,b){return J(this,a,b)}function L(a){return a=a||b.view(),function(b,c){var d,e,f=[c];if(a&&b){if(b._jsvOb)return b._jsvOb.call(a.tmpl,c,a,fb);if("~"===b.charAt(0))return"~tag"===b.slice(0,4)&&(e=a.ctx,"."===b.charAt(4)&&(d=b.slice(5).split("."),e=e.tag),d)?e?[e,d.join("."),c]:[]:(b=b.slice(1).split("."),(c=a.hlp(b.shift()))&&(b.length&&f.unshift(b.join(".")),f.unshift(c)),c?f:[]);if("#"===b.charAt(0))return"#data"===b?[]:[a,b.replace(Vb,""),c]}}}function M(a){return a.type===xb?a[wb]:a.value}function N(a,b,c,d,e,f){var g,h,i,j,k,l,m,n=0,o=a===b;if(a){for(i=w(a)||[],g=0,h=i.length;h>g;g++){if(j=i[g],l=j.id,l===d&&j.ch===e){if(!f)break;h=0}o||(k="_"===j.ch?Sb[l]:Tb[l].linkCtx.tag,j.open?k._prv=b:j.close&&(k._nxt=b)),n+=l.length+2}n&&a.setAttribute(pb,a.getAttribute(pb).slice(n)),m=b?b.getAttribute(pb):c._dfr,(h=m.indexOf("/"+d+e)+1)&&(m=i._tkns.slice(0,n)+m.slice(h+(f?-1:d.length+1))),m&&(b?b.setAttribute(pb,m):c._dfr=m)}else c._dfr=u(c._dfr,"#"+d+e),f||b||(c._dfr=u(c._dfr,"/"+d+e))}function O(a){var b,d,e,f;if(f=w(a,1,Yb))for(b=0,d=f.length;d>b;b++)e=f[b],"_"===e.ch?(e=Sb[e.id])&&e.data!==c&&e.parent.removeViews(e._.key,c,!0):I(e.id)}function P(a,c,d,e){switch(e.change){case"set":for(var f=c.length;f--&&c[f].key!==e.path;);-1===f?e.path&&b.observable(c).insert({key:e.path,prop:e.value}):null===e.value?(delete a[e.path],b.observable(c).remove(f)):b.observable(c[f]).setProperty("prop",e.value)}}function Q(a,c,d,e){var f;switch(e.change){case"set":"prop"===e.path?b.observable(a).setProperty(d.target.key,e.value):(b.observable(a).setProperty(e.oldValue,null),delete a[e.oldValue],b.observable(a).setProperty(e.value,d.target.prop));break;case"remove":f=e.items[0],b.observable(a).setProperty(f.key,null),delete a[f.key];break;case"insert":f=e.items[0],f.key&&b.observable(a).setProperty(f.key,f.prop)}}function R(a,b,c){return c.indexOf(".")<0&&b[a]}var S,T,U,V,W,X,Y,Z,$,_,ab,bb,cb,db="JsViews requires ",eb=a.document,fb=b.views,gb=fb.sub,hb=fb.settings,ib=gb.extend,jb=gb.View(c,"top"),kb=gb.isFn,lb=fb.templates,mb=fb.converters,nb=b.observable,ob=nb.observe,pb="data-jsv",qb=gb.propChng=gb.propChng||"propertyChange",rb=gb.arrChng=gb.arrChng||"arrayChange",sb=(gb._cbBnds=gb._cbBnds||{},"change.jsv"),tb="onBeforeChange",ub="onAfterChange",vb="onAfterCreate",wb="checked",xb="checkbox",yb="radio",zb='"></script>',Ab='<script type="jsv',Bb="script,["+pb+"]",Cb="html",Db={value:"val",input:"val",html:Cb,text:"text"},Eb={from:"value",to:"value"},Fb=0,Gb=b.cleanData,Hb=hb.delimiters,Ib=gb.err,Jb=gb.syntaxErr,Kb=/<(?!script)(\w+)(?:[^>]*(on\w+)\s*=)?[^>]*>/,Lb=/['"\\]/g,Mb=eb.createDocumentFragment(),Nb=eb.querySelector,Ob={ol:1,ul:1,table:1,tbody:1,thead:1,tfoot:1,tr:1,colgroup:1,dl:1,select:1,optgroup:1,svg:1,svg_ns:1},Pb={tr:"table"},Qb={br:1,img:1,input:1,hr:1,area:1,base:1,col:1,link:1,meta:1,command:1,embed:1,keygen:1,param:1,source:1,track:1,wbr:1},Rb={},Sb={0:jb},Tb={},Ub=1,Vb=/^#(view\.?)?/,Wb=/(^|(\/>)|<\/(\w+)>|)(\s*)([#\/]\d+[_^])`(\s*)(<\w+(?=[\s\/>]))?|\s*(?:(<\w+(?=[\s\/>]))|<\/(\w+)>(\s*)|(\/>)\s*|(>))/g,Xb=/(#)()(\d+)(_)/g,Yb=/(#)()(\d+)([_^])/g,Zb=/(?:(#)|(\/))(\d+)(_)/g,$b=/(#)()(\d+)(\^)/g,_b=/(?:(#)|(\/))(\d+)([_^])([-+@\d]+)?/g;if(!b)throw db+"jQuery";if(!b.views)throw db+"JsRender";if(!b.observable)throw db+"jquery.observable";b.link||(gb.onStoreItem=function(a,c,d){d&&a===lb&&(d.link=p,d.unlink=K,c&&(b.link[c]=function(){return p.apply(d,arguments)},b.unlink[c]=function(){return K.apply(d,arguments)}))},(hb.delimiters=function(){var a=Hb.apply(fb,arguments);return W=a[0],X=a[1],Y=a[2],Z=a[3],$=a[4],V=new RegExp("(?:^|\\s*)([\\w-]*)(\\"+$+")?(\\"+X+gb.rTag+"\\"+Y+")","g"),this})(),gb.viewInfos=w,S={addViews:function(a,b,c){var d,e,f=this,g=b.length,h=f.views;if(!f._.useKey&&g&&(c=f.tmpl)&&(e=h.length+g,m(f,a,c,h,b,f.ctx)!==!1))for(d=a+g;e>d;d++)nb(h[d]).setProperty("index",d);return f},removeViews:function(a,d,e){function f(a){var d,f,g,h,i,j,l=m[a];if(l&&l.link){if(d=l._.id,e||(j=l.nodes()),l.removeViews(c,c,!0),l.data=c,h=l._prv,i=l._nxt,g=l.parentElem,e||(l._elCnt&&N(h,i,g,d,"_"),b(j).remove()),!l._elCnt)try{h.parentNode.removeChild(h),i.parentNode.removeChild(i)}catch(n){}k(l);for(f in l._.bnds)I(f);delete Sb[d]}}var g,h,i,j=this,l=!j._.useKey,m=j.views;if(l&&(i=m.length),a===c)if(l){for(g=i;g--;)f(g);j.views=[]}else{for(h in m)f(h);j.views={}}else if(d===c&&(l?d=1:(f(a),delete m[a])),l&&d){for(g=a+d;g-->a;)f(g);if(m.splice(a,d),i=m.length)for(;i>a;)nb(m[a]).setProperty("index",a++)}return this},refresh:function(a){var b=this,c=b.parent;return c&&(m(b,b.index,b.tmpl,c.views,b.data,a,!0),k(b)),b},nodes:B,contents:A,childTags:C,link:r},mb.merge=function(a){var b,c=this.linkCtx._val||"",d=this.tagCtx.props.toggle;return d&&(b=d.replace(/[\\^$.|?*+()[{]/g,"\\$&"),b="(\\s(?="+b+"$)|(\\s)|^)("+b+"(\\s|$))",c=c.replace(new RegExp(b),"$2"),a=c+(a?(c&&" ")+d:"")),a},fb.tags("on",{attr:"none",onAfterLink:function(a,d){var e=this,f=b(d.elem),g=a.args,h=a.props.data,i=g.pop(),j=g[1]||null,k=a.props.context;h=h!==c?h:null,i&&i.call&&f.on(g[0]||"click",j,h,function(a){i.call(k||e.leaf,a,{change:a.type,view:d.view,linkCtx:d})})},onAfterBind:function(a){this.leaf=a.leaf},flow:!0}),ib(fb.tags["for"],{onArrayChange:function(a,b){var c,d=this,e=b.change;if(d.tagCtxs[1]&&("insert"===e&&a.target.length===b.items.length||"remove"===e&&!a.target.length||"refresh"===e&&!b.oldItems.length!=!a.target.length))d.refresh();else for(c in d._.arrVws)c=d._.arrVws[c],c.data===a.target&&c._.onArrayChange.apply(c,arguments);a.done=!0},onAfterLink:function(){for(var a,c,d,e,f=this,g=f._ars||{},h=f.tagCtxs,i=h.length,j=f.selected||0,k=0;j>=k;k++)a=h[k],e=a.map?a.map.tgt:a.args.length?a.args[0]:a.view.data,(d=g[k])&&e!==d[0]&&(ob(d[0],d[1],!0),delete g[k]),!g[k]&&b.isArray(e)&&(ob(e,c=function(a,b){f.onArrayChange(a,b)}),g[k]=[e,c]);for(k=j+1;i>k;k++)(d=g[k])&&(ob(d[0],d[1],!0),delete g[k]);f._ars=g},onDispose:function(){var a,b=this;for(a in b._ars)ob(b._ars[a][0],b._ars[a][1],!0)}}),fb.tags({props:b.extend({},fb.tags["for"],gb.DataMap(fb.tags.props.getTgt,P,Q,c,R))}),ib(b,{view:fb.view=U=function(a,d,e){d!==!!d&&(e=d,d=c);var f,g,h,i,j,k,l,m,n=0,o=eb.body;if(a&&a!==o&&jb._.useKey>1&&(a=""+a===a?b(a)[0]:a.jquery?a[0]:a))if(d){for(m=Nb?a.querySelectorAll(Bb):b(Bb,a).get(),k=m.length,h=0;k>h;h++)for(l=m[h],g=w(l,c,Xb),i=0,j=g.length;j>i;i++)if(f=g[i],(f=Sb[f.id])&&(f=f&&e?f.get(!0,e):f))return f}else for(;a;){if(g=w(a,c,Zb))for(k=g.length;k--;)if(f=g[k],f.open){if(1>n)return f=Sb[f.id],f&&e?f.get(e):f||jb;n--}else n++;a=a.previousSibling||a.parentNode}return d?c:jb},link:fb.link=q,unlink:fb.unlink=J,cleanData:function(a){a.length&&Fb&&H(a),Gb.apply(b,arguments)}}),fb.utility={validate:function(a){try{jb.link(c,eb.createElement("div"),c,c,a,c,c,1)}catch(b){return b.message}}},ib(b.fn,{link:function(a,b,c,d,e,f,g){return q(a,this,b,c,d,e,f,g)},unlink:function(a){return J(a,this)},view:function(a){return U(this[0],a)}}),b.each([Cb,"replaceWith","empty","remove"],function(a,c){var d,e=b.fn[c];b.fn[c]=function(){Fb=1;try{d=e.apply(this,arguments)}finally{Fb=0}return d}}),ib(jb,{tmpl:{links:{},tags:{}}}),ib(jb,S),jb._.onRender=n,hb({wrapMap:cb={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],svg_ns:[1,"<svg>","</svg>"],div:jQuery.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},linkAttr:ab="data-link",merge:{input:{from:M,to:"value"},textarea:Eb,select:Eb,optgroup:{to:"label"}},jsrDbgMode:hb.debugMode,debugMode:function(b){hb.jsrDbgMode(b),b?a._jsv={views:Sb,bindings:Tb}:delete a._jsv},jsv:function(){hb.debugMode(hb._dbgMode),ab=hb.linkAttr,bb=Bb+",["+ab+"]",_=hb.noDomLevel0,cb.optgroup=cb.option,cb.tbody=cb.tfoot=cb.colgroup=cb.caption=cb.thead,cb.th=cb.td}}))}(this,this.jQuery),function(a){a.cookie=function(b,c,d){if(arguments.length>1&&(!/Object/.test(Object.prototype.toString.call(c))||null===c||void 0===c)){if(d=a.extend({},d),(null===c||void 0===c)&&(d.expires=-1),"number"==typeof d.expires){var e=d.expires,f=d.expires=new Date;f.setDate(f.getDate()+e)}return c=String(c),document.cookie=[encodeURIComponent(b),"=",d.raw?c:encodeURIComponent(c),d.expires?"; expires="+d.expires.toUTCString():"",d.path?"; path="+d.path:"",d.domain?"; domain="+d.domain:"",d.secure?"; secure":""].join("")}d=c||{};for(var g,h=d.raw?function(a){return a}:decodeURIComponent,i=document.cookie.split("; "),j=0;g=i[j]&&i[j].split("=");j++)if(h(g[0])===b)return h(g[1]||"");return null}}(jQuery),function(a){var b,c,d={},e=document,f=window,g=e.documentElement,h=a.expando;a.event.special.inview={add:function(b){d[b.guid+"-"+this[h]]={data:b,$element:a(this)}},remove:function(a){try{delete d[a.guid+"-"+this[h]]}catch(b){}}},a(f).bind("scroll resize",function(){b=c=null}),!g.addEventListener&&g.attachEvent&&g.attachEvent("onfocusin",function(){c=null}),setInterval(function(){var h,i=a(),j=0;if(a.each(d,function(a,b){var c=b.data.selector,d=b.$element;i=i.add(c?d.find(c):d)}),h=i.length){var k;if(!(k=b)){var l={height:f.innerHeight,width:f.innerWidth};l.height||!(k=e.compatMode)&&a.support.boxModel||(k="CSS1Compat"===k?g:e.body,l={height:k.clientHeight,width:k.clientWidth}),k=l}for(b=k,c=c||{top:f.pageYOffset||g.scrollTop||e.body.scrollTop,left:f.pageXOffset||g.scrollLeft||e.body.scrollLeft};h>j;j++)if(a.contains(g,i[j])){k=a(i[j]);var m=k.height(),n=k.width(),o=k.offset(),l=k.data("inview");if(!c||!b)break;o.top+m>c.top&&o.top<c.top+b.height&&o.left+n>c.left&&o.left<c.left+b.width?(n=c.left>o.left?"right":c.left+b.width<o.left+n?"left":"both",m=c.top>o.top?"bottom":c.top+b.height<o.top+m?"top":"both",o=n+"-"+m,(!l||l!==o)&&k.data("inview",o).trigger("inview",[!0,n,m])):l&&k.data("inview",!1).trigger("inview",[!1])}}},250)}(jQuery),function(a,b){function c(a,b){return(p?b.originalEvent.touches[0]:b)["page"+a.toUpperCase()]}function d(b,c,d){var e=a.Event(c,w);a.event.trigger(e,{originalEvent:b},b.target),e.isDefaultPrevented()&&b.preventDefault(),d&&(a.event.remove(u,s+"."+t,f),a.event.remove(u,r+"."+t,g))}function e(b){var e=b.timeStamp||+new Date;j!=e&&(j=e,v.x=w.x=c("x",b),v.y=w.y=c("y",b),v.time=e,v.target=b.target,w.orientation=null,w.end=!1,h=!1,i=!1,k=setTimeout(function(){i=!0,d(b,"press")},a.Finger.pressDuration),a.event.add(u,s+"."+t,f),a.event.add(u,r+"."+t,g),x.preventDefault&&b.preventDefault())}function f(b){return w.x=c("x",b),w.y=c("y",b),w.dx=w.x-v.x,w.dy=w.y-v.y,w.adx=Math.abs(w.dx),w.ady=Math.abs(w.dy),(h=w.adx>x.motionThreshold||w.ady>x.motionThreshold)?(clearTimeout(k),w.orientation||(w.adx>w.ady?(w.orientation="horizontal",w.direction=w.dx>0?1:-1):(w.orientation="vertical",w.direction=w.dy>0?1:-1)),b.target!==v.target?(b.target=v.target,void g.call(this,a.Event(r+"."+t,b))):void d(b,"drag")):void 0}function g(a){var b,c=a.timeStamp||+new Date,e=c-v.time;if(clearTimeout(k),a.target===v.target){if(h||i)x.flickDuration>e&&d(a,"flick"),w.end=!0,b="drag";else{var f=l===a.target&&x.doubleTapInterval>c-m;b=f?"doubletap":"tap",l=f?null:v.target,m=c}d(a,b,!0)}}var h,i,j,k,l,m,n=/chrome/i.exec(b),o=/android/i.exec(b),p="ontouchstart"in window&&!(n&&!o),q=p?"touchstart":"mousedown",r=p?"touchend touchcancel":"mouseup mouseleave",s=p?"touchmove":"mousemove",t="finger",u=a("html")[0],v={},w={},x=a.Finger={pressDuration:300,doubleTapInterval:300,flickDuration:150,motionThreshold:5};a.event.add(u,q+"."+t,e)}(jQuery,navigator.userAgent),function(a){a.fn.autofit=function(b){var c={min_height:200},d=function(b,c){if(a(b).is(":visible")){var d=a(b).get(0);if(d.scrollHeight>d.offsetHeight)d.style.height=d.scrollHeight+"px";else if(!isNaN(parseInt(d.style.height))){for(;d.scrollHeight-50<parseInt(d.style.height);){if(parseInt(d.style.height)<c)return d.style.height=c+"px",void(d.style.height=d.scrollHeight+"px");d.style.height=parseInt(d.style.height)-50+"px"}arguments.callee(b,c)}}},b=a.extend(c,b);return this.each(function(){a(this).css("overflow","hidden"),a(this).css("height",b.min_height+"px"),d(this,b.min_height),a(this).on("keyup",function(a){(void 0==a.keyCode||13==a.keyCode)&&d(this,b.min_height)})}),this}}(jQuery),function(a){var b,c={className:"autosizejs",id:"autosizejs",append:"\n",callback:!1,resizeDelay:10,placeholder:!0},d='<textarea tabindex="-1" style="position:absolute; top:-999px; left:0; right:auto; bottom:auto; border:0; padding: 0; -moz-box-sizing:content-box; -webkit-box-sizing:content-box; box-sizing:content-box; word-wrap:break-word; height:0 !important; min-height:0 !important; overflow:hidden; transition:none; -webkit-transition:none; -moz-transition:none;"/>',e=["fontFamily","fontSize","fontWeight","fontStyle","letterSpacing","textTransform","wordSpacing","textIndent","whiteSpace"],f=a(d).data("autosize",!0)[0];f.style.lineHeight="99px","99px"===a(f).css("lineHeight")&&e.push("lineHeight"),f.style.lineHeight="",a.fn.autosize=function(d){return this.length?(d=a.extend({},c,d||{}),f.parentNode!==document.body&&a(document.body).append(f),this.each(function(){function c(){var b,c=window.getComputedStyle?window.getComputedStyle(m,null):null;c?(b=parseFloat(c.width),("border-box"===c.boxSizing||"border-box"===c.webkitBoxSizing||"border-box"===c.mozBoxSizing)&&a.each(["paddingLeft","paddingRight","borderLeftWidth","borderRightWidth"],function(a,d){b-=parseFloat(c[d])})):b=n.width(),f.style.width=Math.max(b,0)+"px"}function g(){var g={};if(b=m,f.className=d.className,f.id=d.id,j=parseFloat(n.css("maxHeight")),a.each(e,function(a,b){g[b]=n.css(b)}),a(f).css(g).attr("wrap",n.attr("wrap")),c(),window.chrome){var h=m.style.width;m.style.width="0px";{m.offsetWidth}m.style.width=h}}function h(){var a,e;b!==m?g():c(),f.value=!m.value&&d.placeholder?n.attr("placeholder")||"":m.value,f.value+=d.append||"",f.style.overflowY=m.style.overflowY,e=parseFloat(m.style.height)||0,f.scrollTop=0,f.scrollTop=9e4,a=f.scrollTop,j&&a>j?(m.style.overflowY="scroll",a=j):(m.style.overflowY="hidden",k>a&&(a=k)),a+=o-k,Math.abs(e-a)>.01&&(m.style.height=a+"px",f.className=f.className,p&&d.callback.call(m,m),n.trigger("autosize.resized"))}function i(){clearTimeout(l),l=setTimeout(function(){var a=n.width();a!==r&&(r=a,h())},parseInt(d.resizeDelay,10))}var j,k,l,m=this,n=a(m),o=0,p=a.isFunction(d.callback),q={height:m.style.height,overflow:m.style.overflow,overflowY:m.style.overflowY,wordWrap:m.style.wordWrap,resize:m.style.resize},r=n.width(),s=n.css("resize");n.data("autosize")||(n.data("autosize",!0),("border-box"===n.css("box-sizing")||"border-box"===n.css("-moz-box-sizing")||"border-box"===n.css("-webkit-box-sizing"))&&(o=n.outerHeight()-n.height()),k=Math.max(parseFloat(n.css("minHeight"))-o||0,n.height()),n.css({overflow:"hidden",overflowY:"hidden",wordWrap:"break-word"}),"vertical"===s?n.css("resize","none"):"both"===s&&n.css("resize","horizontal"),"onpropertychange"in m?"oninput"in m?n.on("input.autosize keyup.autosize",h):n.on("propertychange.autosize",function(){"value"===event.propertyName&&h()}):n.on("input.autosize",h),d.resizeDelay!==!1&&a(window).on("resize.autosize",i),n.on("autosize.resize",h),n.on("autosize.resizeIncludeStyle",function(){b=null,h()}),n.on("autosize.destroy",function(){b=null,clearTimeout(l),a(window).off("resize",i),n.off("autosize").off(".autosize").css(q).removeData("autosize")}),h())})):this}}(jQuery||$),function(a,b,c){function d(c,d,e){var f=b.createElement(c);return d&&(f.id=_+d),e&&(f.style.cssText=e),a(f)}function e(){return c.innerHeight?c.innerHeight:a(c).height()}function f(b,c){c!==Object(c)&&(c={}),this.cache={},this.el=b,this.value=function(b){var d;return void 0===this.cache[b]&&(d=a(this.el).attr("data-cbox-"+b),void 0!==d?this.cache[b]=d:void 0!==c[b]?this.cache[b]=c[b]:void 0!==Z[b]&&(this.cache[b]=Z[b])),this.cache[b]},this.get=function(b){var c=this.value(b);return a.isFunction(c)?c.call(this.el,this):c}}function g(a){var b=A.length,c=(R+a)%b;return 0>c?b+c:c}function h(a,b){return Math.round((/%/.test(a)?("x"===b?B.width():e())/100:1)*parseInt(a,10))}function i(a,b){return a.get("photo")||a.get("photoRegex").test(b)}function j(a,b){return a.get("retinaUrl")&&c.devicePixelRatio>1?b.replace(a.get("photoRegex"),a.get("retinaSuffix")):b}function k(a){"contains"in t[0]&&!t[0].contains(a.target)&&(a.stopPropagation(),t.focus())}function l(a){l.str!==a&&(t.add(s).removeClass(l.str).addClass(a),l.str=a)}function m(){R=0,rel&&"nofollow"!==rel?(A=a("."+ab).filter(function(){var b=a.data(this,$),c=new f(this,b);return c.get("rel")===rel}),R=A.index(M.el),-1===R&&(A=A.add(M.el),R=A.length-1)):A=a(M.el)}function n(c){a(b).trigger(c),hb.triggerHandler(c)}function o(c){var e;V||(e=a(c).data("colorbox"),M=new f(c,e),rel=M.get("rel"),m(),T||(T=U=!0,l(M.get("className")),t.css({visibility:"hidden",display:"block"}),C=d(ib,"LoadedContent","width:0; height:0; overflow:hidden; visibility:hidden"),v.css({width:"",height:""}).append(C),N=w.height()+z.height()+v.outerHeight(!0)-v.height(),O=x.width()+y.width()+v.outerWidth(!0)-v.width(),P=C.outerHeight(!0),Q=C.outerWidth(!0),M.w=h(M.get("initialWidth"),"x"),M.h=h(M.get("initialHeight"),"y"),C.css({width:"",height:M.h}),X.position(),n(bb),M.get("onOpen"),L.add(F).hide(),t.focus(),M.get("trapFocus")&&b.addEventListener&&(b.addEventListener("focus",k,!0),hb.one(fb,function(){b.removeEventListener("focus",k,!0)})),M.get("returnFocus")&&hb.one(fb,function(){a(M.el).focus()})),s.css({opacity:parseFloat(M.get("opacity")),cursor:M.get("overlayClose")?"pointer":"auto",visibility:"visible"}).show(),M.get("closeButton")?K.html(M.get("close")).appendTo(v):K.appendTo("<div/>"),r())}function p(){!t&&b.body&&(Y=!1,B=a(c),t=d(ib).attr({id:$,"class":a.support.opacity===!1?_+"IE":"",role:"dialog",tabindex:"-1"}).hide(),s=d(ib,"Overlay").hide(),E=a([d(ib,"LoadingOverlay")[0],d(ib,"LoadingGraphic")[0]]),u=d(ib,"Wrapper"),v=d(ib,"Content").append(F=d(ib,"Title"),G=d(ib,"Current"),J=a('<button type="button"/>').attr({id:_+"Previous"}),I=a('<button type="button"/>').attr({id:_+"Next"}),H=d("button","Slideshow"),E),K=a('<button type="button"/>').attr({id:_+"Close"}),u.append(d(ib).append(d(ib,"TopLeft"),w=d(ib,"TopCenter"),d(ib,"TopRight")),d(ib,!1,"clear:left").append(x=d(ib,"MiddleLeft"),v,y=d(ib,"MiddleRight")),d(ib,!1,"clear:left").append(d(ib,"BottomLeft"),z=d(ib,"BottomCenter"),d(ib,"BottomRight"))).find("div div").css({"float":"left"}),D=d(ib,!1,"position:absolute; width:9999px; visibility:hidden; display:none; max-width:none;"),L=I.add(J).add(G).add(H),a(b.body).append(s,t.append(u,D)))}function q(){function c(a){a.which>1||a.shiftKey||a.altKey||a.metaKey||a.ctrlKey||(a.preventDefault(),o(this))}return t?(Y||(Y=!0,I.click(function(){X.next()}),J.click(function(){X.prev()}),K.click(function(){X.close()}),s.click(function(){M.get("overlayClose")&&X.close()}),a(b).bind("keydown."+_,function(a){var b=a.keyCode;T&&M.get("escKey")&&27===b&&(a.preventDefault(),X.close()),T&&M.get("arrowKey")&&A[1]&&!a.altKey&&(37===b?(a.preventDefault(),J.click()):39===b&&(a.preventDefault(),I.click()))}),a.isFunction(a.fn.on)?a(b).on("click."+_,"."+ab,c):a("."+ab).live("click."+_,c)),!0):!1}function r(){var e,f,g,k=X.prep,l=++jb;U=!0,S=!1,n(gb),n(cb),M.get("onLoad"),M.h=M.get("height")?h(M.get("height"),"y")-P-N:M.get("innerHeight")&&h(M.get("innerHeight"),"y"),M.w=M.get("width")?h(M.get("width"),"x")-Q-O:M.get("innerWidth")&&h(M.get("innerWidth"),"x"),M.mw=M.w,M.mh=M.h,M.get("maxWidth")&&(M.mw=h(M.get("maxWidth"),"x")-Q-O,M.mw=M.w&&M.w<M.mw?M.w:M.mw),M.get("maxHeight")&&(M.mh=h(M.get("maxHeight"),"y")-P-N,M.mh=M.h&&M.h<M.mh?M.h:M.mh),e=M.get("href"),W=setTimeout(function(){E.show()},100),M.get("inline")?(g=d(ib).hide().insertBefore(a(e)[0]),hb.one(gb,function(){g.replaceWith(C.children())}),k(a(e))):M.get("iframe")?k(" "):M.get("html")?k(M.get("html")):i(M,e)?(e=j(M,e),S=b.createElement("img"),a(S).addClass(_+"Photo").bind("error",function(){k(d(ib,"Error").html(M.get("imgError")))}).one("load",function(){var b;l===jb&&(a.each(["alt","longdesc","aria-describedby"],function(b,c){var d=a(M.el).attr(c)||a(M.el).attr("data-"+c);d&&S.setAttribute(c,d)}),M.get("retinaImage")&&c.devicePixelRatio>1&&(S.height=S.height/c.devicePixelRatio,S.width=S.width/c.devicePixelRatio),M.get("scalePhotos")&&(f=function(){S.height-=S.height*b,S.width-=S.width*b},M.mw&&S.width>M.mw&&(b=(S.width-M.mw)/S.width,f()),M.mh&&S.height>M.mh&&(b=(S.height-M.mh)/S.height,f())),M.h&&(S.style.marginTop=Math.max(M.mh-S.height,0)/2+"px"),A[1]&&(M.get("loop")||A[R+1])&&(S.style.cursor="pointer",S.onclick=function(){X.next()}),S.style.width=S.width+"px",S.style.height=S.height+"px",setTimeout(function(){k(S)},1))}),setTimeout(function(){S.src=e},1)):e&&D.load(e,M.get("data"),function(b,c){l===jb&&k("error"===c?d(ib,"Error").html(M.get("xhrError")):a(this).contents())})}var s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z={html:!1,photo:!1,iframe:!1,inline:!1,transition:"elastic",speed:300,fadeOut:300,width:!1,initialWidth:"600",innerWidth:!1,maxWidth:!1,height:!1,initialHeight:"450",innerHeight:!1,maxHeight:!1,scalePhotos:!0,scrolling:!0,opacity:.9,preloading:!0,className:!1,overlayClose:!0,escKey:!0,arrowKey:!0,top:!1,bottom:!1,left:!1,right:!1,fixed:!1,data:void 0,closeButton:!0,fastIframe:!0,open:!1,reposition:!0,loop:!0,slideshow:!1,slideshowAuto:!0,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow",photoRegex:/\.(gif|png|jp(e|g|eg)|bmp|ico|webp|jxr|svg)((#|\?).*)?$/i,retinaImage:!1,retinaUrl:!1,retinaSuffix:"@2x.$1",current:"image {current} of {total}",previous:"previous",next:"next",close:"close",xhrError:"This content failed to load.",imgError:"This image failed to load.",returnFocus:!0,trapFocus:!0,onOpen:!1,onLoad:!1,onComplete:!1,onCleanup:!1,onClosed:!1,rel:function(){return this.rel},href:function(){return a(this).attr("href")},title:function(){return this.title}},$="colorbox",_="cbox",ab=_+"Element",bb=_+"_open",cb=_+"_load",db=_+"_complete",eb=_+"_cleanup",fb=_+"_closed",gb=_+"_purge",hb=a("<a/>"),ib="div",jb=0,kb={},lb=function(){function a(){clearTimeout(g)}function b(){(M.get("loop")||A[R+1])&&(a(),g=setTimeout(X.next,M.get("slideshowSpeed")))}function c(){H.html(M.get("slideshowStop")).unbind(i).one(i,d),hb.bind(db,b).bind(cb,a),t.removeClass(h+"off").addClass(h+"on")}function d(){a(),hb.unbind(db,b).unbind(cb,a),H.html(M.get("slideshowStart")).unbind(i).one(i,function(){X.next(),c()}),t.removeClass(h+"on").addClass(h+"off")}function e(){f=!1,H.hide(),a(),hb.unbind(db,b).unbind(cb,a),t.removeClass(h+"off "+h+"on")}var f,g,h=_+"Slideshow_",i="click."+_;return function(){f?M.get("slideshow")||(hb.unbind(eb,e),e()):M.get("slideshow")&&A[1]&&(f=!0,hb.one(eb,e),M.get("slideshowAuto")?c():d(),H.show())}}();a.colorbox||(a(p),X=a.fn[$]=a[$]=function(b,c){var d,e=this;if(b=b||{},a.isFunction(e))e=a("<a/>"),b.open=!0;else if(!e[0])return e;return e[0]?(p(),q()&&(c&&(b.onComplete=c),e.each(function(){var c=a.data(this,$)||{};a.data(this,$,a.extend(c,b))}).addClass(ab),d=new f(e[0],b),d.get("open")&&o(e[0])),e):e},X.position=function(b,c){function d(){w[0].style.width=z[0].style.width=v[0].style.width=parseInt(t[0].style.width,10)-O+"px",v[0].style.height=x[0].style.height=y[0].style.height=parseInt(t[0].style.height,10)-N+"px"}var f,g,i,j=0,k=0,l=t.offset();if(B.unbind("resize."+_),t.css({top:-9e4,left:-9e4}),g=B.scrollTop(),i=B.scrollLeft(),M.get("fixed")?(l.top-=g,l.left-=i,t.css({position:"fixed"})):(j=g,k=i,t.css({position:"absolute"})),k+=M.get("right")!==!1?Math.max(B.width()-M.w-Q-O-h(M.get("right"),"x"),0):M.get("left")!==!1?h(M.get("left"),"x"):Math.round(Math.max(B.width()-M.w-Q-O,0)/2),j+=M.get("bottom")!==!1?Math.max(e()-M.h-P-N-h(M.get("bottom"),"y"),0):M.get("top")!==!1?h(M.get("top"),"y"):Math.round(Math.max(e()-M.h-P-N,0)/2),t.css({top:l.top,left:l.left,visibility:"visible"}),u[0].style.width=u[0].style.height="9999px",f={width:M.w+Q+O,height:M.h+P+N,top:j,left:k},b){var m=0;a.each(f,function(a){return f[a]!==kb[a]?void(m=b):void 0}),b=m}kb=f,b||t.css(f),t.dequeue().animate(f,{duration:b||0,complete:function(){d(),U=!1,u[0].style.width=M.w+Q+O+"px",u[0].style.height=M.h+P+N+"px",M.get("reposition")&&setTimeout(function(){B.bind("resize."+_,X.position)
},1),c&&c()},step:d})},X.resize=function(a){var b;T&&(a=a||{},a.width&&(M.w=h(a.width,"x")-Q-O),a.innerWidth&&(M.w=h(a.innerWidth,"x")),C.css({width:M.w}),a.height&&(M.h=h(a.height,"y")-P-N),a.innerHeight&&(M.h=h(a.innerHeight,"y")),a.innerHeight||a.height||(b=C.scrollTop(),C.css({height:"auto"}),M.h=C.height()),C.css({height:M.h}),b&&C.scrollTop(b),X.position("none"===M.get("transition")?0:M.get("speed")))},X.prep=function(c){function e(){return M.w=M.w||C.width(),M.w=M.mw&&M.mw<M.w?M.mw:M.w,M.w}function h(){return M.h=M.h||C.height(),M.h=M.mh&&M.mh<M.h?M.mh:M.h,M.h}if(T){var k,m="none"===M.get("transition")?0:M.get("speed");C.remove(),C=d(ib,"LoadedContent").append(c),C.hide().appendTo(D.show()).css({width:e(),overflow:M.get("scrolling")?"auto":"hidden"}).css({height:h()}).prependTo(v),D.hide(),a(S).css({"float":"none"}),l(M.get("className")),k=function(){function c(){a.support.opacity===!1&&t[0].style.removeAttribute("filter")}var d,e,h=A.length;T&&(e=function(){clearTimeout(W),E.hide(),n(db),M.get("onComplete")},F.html(M.get("title")).show(),C.show(),h>1?("string"==typeof M.get("current")&&G.html(M.get("current").replace("{current}",R+1).replace("{total}",h)).show(),I[M.get("loop")||h-1>R?"show":"hide"]().html(M.get("next")),J[M.get("loop")||R?"show":"hide"]().html(M.get("previous")),lb(),M.get("preloading")&&a.each([g(-1),g(1)],function(){var c,d=A[this],e=new f(d,a.data(d,$)),g=e.get("href");g&&i(e,g)&&(g=j(e,g),c=b.createElement("img"),c.src=g)})):L.hide(),M.get("iframe")?(d=b.createElement("iframe"),"frameBorder"in d&&(d.frameBorder=0),"allowTransparency"in d&&(d.allowTransparency="true"),M.get("scrolling")||(d.scrolling="no"),a(d).attr({src:M.get("href"),name:(new Date).getTime(),"class":_+"Iframe",allowFullScreen:!0}).one("load",e).appendTo(C),hb.one(gb,function(){d.src="//about:blank"}),M.get("fastIframe")&&a(d).trigger("load")):e(),"fade"===M.get("transition")?t.fadeTo(m,1,c):c())},"fade"===M.get("transition")?t.fadeTo(m,0,function(){X.position(0,k)}):X.position(m,k)}},X.next=function(){!U&&A[1]&&(M.get("loop")||A[R+1])&&(R=g(1),o(A[R]))},X.prev=function(){!U&&A[1]&&(M.get("loop")||R)&&(R=g(-1),o(A[R]))},X.close=function(){T&&!V&&(V=!0,T=!1,n(eb),M.get("onCleanup"),B.unbind("."+_),s.fadeTo(M.get("fadeOut")||0,0),t.stop().fadeTo(M.get("fadeOut")||0,0,function(){t.add(s).css({opacity:1,cursor:"auto"}).hide(),n(gb),C.remove(),setTimeout(function(){V=!1,n(fb),M.get("onClosed")},1)}))},X.remove=function(){t&&(t.stop(),a.colorbox.close(),t.stop().remove(),s.remove(),V=!1,t=null,a("."+ab).removeData($).removeClass(ab),a(b).unbind("click."+_))},X.element=function(){return a(M.el)},X.settings=Z)}(jQuery,document,window),function(a,b,c){var d=function(a){var d={text:"",start:0,end:0};if(!a.value)return d;try{if(b.getSelection)d.start=a.selectionStart,d.end=a.selectionEnd,d.text=a.value.slice(d.start,d.end);else if(c.selection){a.focus();var e=c.selection.createRange(),f=c.body.createTextRange();d.text=e.text;try{f.moveToElementText(a),f.setEndPoint("StartToStart",e)}catch(g){f=a.createTextRange(),f.setEndPoint("StartToStart",e)}d.start=a.value.length-f.text.length,d.end=d.start+e.text.length}}catch(g){}return d},e={getPos:function(a){var b=d(a);return{start:b.start,end:b.end}},setPos:function(a,c,d){d=this._caretMode(d),"start"===d?c.end=c.start:"end"===d&&(c.start=c.end),a.focus();try{if(a.createTextRange){var e=a.createTextRange();b.navigator.userAgent.toLowerCase().indexOf("msie")>=0&&(c.start=a.value.substr(0,c.start).replace(/\r/g,"").length,c.end=a.value.substr(0,c.end).replace(/\r/g,"").length),e.collapse(!0),e.moveStart("character",c.start),e.moveEnd("character",c.end-c.start),e.select()}else a.setSelectionRange&&a.setSelectionRange(c.start,c.end)}catch(f){}},getText:function(a){return d(a).text},_caretMode:function(a){switch(a=a||"keep",a===!1&&(a="end"),a){case"keep":case"start":case"end":break;default:a="keep"}return a},replace:function(b,c,e){var f=d(b),g=b.value,h=a(b).scrollTop(),i={start:f.start,end:f.start+c.length};b.value=g.substr(0,f.start)+c+g.substr(f.end),a(b).scrollTop(h),this.setPos(b,i,e)},insertBefore:function(b,c,e){var f=d(b),g=b.value,h=a(b).scrollTop(),i={start:f.start+c.length,end:f.end+c.length};b.value=g.substr(0,f.start)+c+g.substr(f.start),a(b).scrollTop(h),this.setPos(b,i,e)},insertAfter:function(b,c,e){var f=d(b),g=b.value,h=a(b).scrollTop(),i={start:f.start,end:f.end};b.value=g.substr(0,f.end)+c+g.substr(f.end),a(b).scrollTop(h),this.setPos(b,i,e)}};a.extend({selection:function(d){var e="text"===(d||"text").toLowerCase();try{if(b.getSelection){if(e)return b.getSelection().toString();var f,g=b.getSelection();return g.getRangeAt?f=g.getRangeAt(0):(f=c.createRange(),f.setStart(g.anchorNode,g.anchorOffset),f.setEnd(g.focusNode,g.focusOffset)),a("<div></div>").append(f.cloneContents()).html()}if(c.selection)return e?c.selection.createRange().text:c.selection.createRange().htmlText}catch(h){}return""}}),a.fn.extend({selection:function(a,b){switch(b=b||{},a){case"getPos":return e.getPos(this[0]);case"setPos":return this.each(function(){e.setPos(this,b)});case"replace":return this.each(function(){e.replace(this,b.text,b.caret)});case"insert":return this.each(function(){"before"===b.mode?e.insertBefore(this,b.text,b.caret):e.insertAfter(this,b.text,b.caret)});case"get":default:return e.getText(this[0])}return this}})}(jQuery,window,window.document),function(a){"use strict";"function"==typeof define&&define.amd?define(["jquery"],a):a("object"==typeof exports?require("jquery"):jQuery)}(function(a){"use strict";var b={wheelSpeed:10,wheelPropagation:!1,minScrollbarLength:null,maxScrollbarLength:null,useBothWheelAxes:!1,useKeyboard:!0,suppressScrollX:!1,suppressScrollY:!1,scrollXMarginOffset:0,scrollYMarginOffset:0,includePadding:!1},c=function(){var a=0;return function(){var b=a;return a+=1,".perfect-scrollbar-"+b}}();a.fn.perfectScrollbar=function(d,e){return this.each(function(){var f=a.extend(!0,{},b),g=a(this);if("object"==typeof d?a.extend(!0,f,d):e=d,"update"===e)return g.data("perfect-scrollbar-update")&&g.data("perfect-scrollbar-update")(),g;if("destroy"===e)return g.data("perfect-scrollbar-destroy")&&g.data("perfect-scrollbar-destroy")(),g;if(g.data("perfect-scrollbar"))return g.data("perfect-scrollbar");g.addClass("ps-container");var h,i,j,k,l,m,n,o,p,q,r=a("<div class='ps-scrollbar-x-rail'></div>").appendTo(g),s=a("<div class='ps-scrollbar-y-rail'></div>").appendTo(g),t=a("<div class='ps-scrollbar-x'></div>").appendTo(r),u=a("<div class='ps-scrollbar-y'></div>").appendTo(s),v=parseInt(r.css("bottom"),10),w=v===v,x=w?null:parseInt(r.css("top"),10),y=parseInt(s.css("right"),10),z=y===y,A=z?null:parseInt(s.css("left"),10),B="rtl"===g.css("direction"),C=c(),D=parseInt(r.css("borderLeftWidth"),10)+parseInt(r.css("borderRightWidth"),10),E=parseInt(r.css("borderTopWidth"),10)+parseInt(r.css("borderBottomWidth"),10),F=function(a,b){var c=a+b,d=k-p;q=0>c?0:c>d?d:c;var e=parseInt(q*(m-k)/(k-p),10);g.scrollTop(e),r.css(w?{bottom:v-e}:{top:x+e})},G=function(a,b){var c=a+b,d=j-n;o=0>c?0:c>d?d:c;var e=parseInt(o*(l-j)/(j-n),10);g.scrollLeft(e),s.css(z?{right:y-e}:{left:A+e})},H=function(a){return f.minScrollbarLength&&(a=Math.max(a,f.minScrollbarLength)),f.maxScrollbarLength&&(a=Math.min(a,f.maxScrollbarLength)),a},I=function(){var a={width:j,display:h?"inherit":"none"};a.left=B?g.scrollLeft()+j-l:g.scrollLeft(),w?a.bottom=v-g.scrollTop():a.top=x+g.scrollTop(),r.css(a);var b={top:g.scrollTop(),height:k,display:i?"inherit":"none"};z?b.right=B?l-g.scrollLeft()-y-u.outerWidth():y-g.scrollLeft():b.left=B?g.scrollLeft()+2*j-l-A-u.outerWidth():A+g.scrollLeft(),s.css(b),t.css({left:o,width:n-D}),u.css({top:q,height:p-E}),h?g.addClass("ps-active-x"):g.removeClass("ps-active-x"),i?g.addClass("ps-active-y"):g.removeClass("ps-active-y")},J=function(){j=f.includePadding?g.innerWidth():g.width(),k=f.includePadding?g.innerHeight():g.height(),l=g.prop("scrollWidth"),m=g.prop("scrollHeight"),!f.suppressScrollX&&l>j+f.scrollXMarginOffset?(h=!0,n=H(parseInt(j*j/l,10)),o=parseInt(g.scrollLeft()*(j-n)/(l-j),10)):(h=!1,n=0,o=0,g.scrollLeft(0)),!f.suppressScrollY&&m>k+f.scrollYMarginOffset?(i=!0,p=H(parseInt(k*k/m,10)),q=parseInt(g.scrollTop()*(k-p)/(m-k),10)):(i=!1,p=0,q=0,g.scrollTop(0)),q>=k-p&&(q=k-p),o>=j-n&&(o=j-n),I()},K=function(){var b,c;t.bind("mousedown"+C,function(a){c=a.pageX,b=t.position().left,r.addClass("in-scrolling"),a.stopPropagation(),a.preventDefault()}),a(document).bind("mousemove"+C,function(a){r.hasClass("in-scrolling")&&(G(b,a.pageX-c),a.stopPropagation(),a.preventDefault())}),a(document).bind("mouseup"+C,function(){r.hasClass("in-scrolling")&&r.removeClass("in-scrolling")}),b=c=null},L=function(){var b,c;u.bind("mousedown"+C,function(a){c=a.pageY,b=u.position().top,s.addClass("in-scrolling"),a.stopPropagation(),a.preventDefault()}),a(document).bind("mousemove"+C,function(a){s.hasClass("in-scrolling")&&(F(b,a.pageY-c),a.stopPropagation(),a.preventDefault())}),a(document).bind("mouseup"+C,function(){s.hasClass("in-scrolling")&&s.removeClass("in-scrolling")}),b=c=null},M=function(a,b){var c=g.scrollTop();if(0===a){if(!i)return!1;if(0===c&&b>0||c>=m-k&&0>b)return!f.wheelPropagation}var d=g.scrollLeft();if(0===b){if(!h)return!1;if(0===d&&0>a||d>=l-j&&a>0)return!f.wheelPropagation}return!0},N=function(){f.wheelSpeed/=10;var a=!1;g.bind("mousewheel"+C,function(b,c,d,e){var j=b.deltaX*b.deltaFactor||d,k=b.deltaY*b.deltaFactor||e;a=!1,f.useBothWheelAxes?i&&!h?(g.scrollTop(k?g.scrollTop()-k*f.wheelSpeed:g.scrollTop()+j*f.wheelSpeed),a=!0):h&&!i&&(g.scrollLeft(j?g.scrollLeft()+j*f.wheelSpeed:g.scrollLeft()-k*f.wheelSpeed),a=!0):(g.scrollTop(g.scrollTop()-k*f.wheelSpeed),g.scrollLeft(g.scrollLeft()+j*f.wheelSpeed)),J(),a=a||M(j,k),a&&(b.stopPropagation(),b.preventDefault())}),g.bind("MozMousePixelScroll"+C,function(b){a&&b.preventDefault()})},O=function(){var b=!1;g.bind("mouseenter"+C,function(){b=!0}),g.bind("mouseleave"+C,function(){b=!1});var c=!1;a(document).bind("keydown"+C,function(d){if(!(d.isDefaultPrevented&&d.isDefaultPrevented()||!b||a(document.activeElement).is(":input,[contenteditable]"))){var e=0,f=0;switch(d.which){case 37:e=-30;break;case 38:f=30;break;case 39:e=30;break;case 40:f=-30;break;case 33:f=90;break;case 32:case 34:f=-90;break;case 35:f=-k;break;case 36:f=k;break;default:return}g.scrollTop(g.scrollTop()-f),g.scrollLeft(g.scrollLeft()+e),c=M(e,f),c&&d.preventDefault()}})},P=function(){var a=function(a){a.stopPropagation()};u.bind("click"+C,a),s.bind("click"+C,function(a){var b=parseInt(p/2,10),c=a.pageY-s.offset().top-b,d=k-p,e=c/d;0>e?e=0:e>1&&(e=1),g.scrollTop((m-k)*e)}),t.bind("click"+C,a),r.bind("click"+C,function(a){var b=parseInt(n/2,10),c=a.pageX-r.offset().left-b,d=j-n,e=c/d;0>e?e=0:e>1&&(e=1),g.scrollLeft((l-j)*e)})},Q=function(){var b=function(a,b){g.scrollTop(g.scrollTop()-b),g.scrollLeft(g.scrollLeft()-a),J()},c={},d=0,e={},f=null,h=!1;a(window).bind("touchstart"+C,function(){h=!0}),a(window).bind("touchend"+C,function(){h=!1}),g.bind("touchstart"+C,function(a){var b=a.originalEvent.targetTouches[0];c.pageX=b.pageX,c.pageY=b.pageY,d=(new Date).getTime(),null!==f&&clearInterval(f),a.stopPropagation()}),g.bind("touchmove"+C,function(a){if(!h&&1===a.originalEvent.targetTouches.length){var f=a.originalEvent.targetTouches[0],g={};g.pageX=f.pageX,g.pageY=f.pageY;var i=g.pageX-c.pageX,j=g.pageY-c.pageY;b(i,j),c=g;var k=(new Date).getTime(),l=k-d;l>0&&(e.x=i/l,e.y=j/l,d=k),a.preventDefault()}}),g.bind("touchend"+C,function(){clearInterval(f),f=setInterval(function(){return.01>Math.abs(e.x)&&.01>Math.abs(e.y)?void clearInterval(f):(b(30*e.x,30*e.y),e.x*=.8,void(e.y*=.8))},10)})},R=function(){g.bind("scroll"+C,function(){J()})},S=function(){g.unbind(C),a(window).unbind(C),a(document).unbind(C),g.data("perfect-scrollbar",null),g.data("perfect-scrollbar-update",null),g.data("perfect-scrollbar-destroy",null),t.remove(),u.remove(),r.remove(),s.remove(),r=s=t=u=h=i=j=k=l=m=n=o=v=w=x=p=q=y=z=A=B=C=null},T=function(b){g.addClass("ie").addClass("ie"+b);var c=function(){var b=function(){a(this).addClass("hover")},c=function(){a(this).removeClass("hover")};g.bind("mouseenter"+C,b).bind("mouseleave"+C,c),r.bind("mouseenter"+C,b).bind("mouseleave"+C,c),s.bind("mouseenter"+C,b).bind("mouseleave"+C,c),t.bind("mouseenter"+C,b).bind("mouseleave"+C,c),u.bind("mouseenter"+C,b).bind("mouseleave"+C,c)},d=function(){I=function(){var a={left:o+g.scrollLeft(),width:n};w?a.bottom=v:a.top=x,t.css(a);var b={top:q+g.scrollTop(),height:p};z?b.right=y:b.left=A,u.css(b),t.hide().show(),u.hide().show()}};6===b&&(c(),d())},U="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,V=function(){var a=navigator.userAgent.toLowerCase().match(/(msie) ([\w.]+)/);a&&"msie"===a[1]&&T(parseInt(a[2],10)),J(),R(),K(),L(),P(),U&&Q(),g.mousewheel&&N(),f.useKeyboard&&O(),g.data("perfect-scrollbar",g),g.data("perfect-scrollbar-update",J),g.data("perfect-scrollbar-destroy",S)};return V(),g})}}),function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof exports?module.exports=a:a(jQuery)}(function(a){function b(b){var g=b||window.event,h=i.call(arguments,1),j=0,k=0,l=0,m=0;if(b=a.event.fix(g),b.type="mousewheel","detail"in g&&(l=-1*g.detail),"wheelDelta"in g&&(l=g.wheelDelta),"wheelDeltaY"in g&&(l=g.wheelDeltaY),"wheelDeltaX"in g&&(k=-1*g.wheelDeltaX),"axis"in g&&g.axis===g.HORIZONTAL_AXIS&&(k=-1*l,l=0),j=0===l?k:l,"deltaY"in g&&(l=-1*g.deltaY,j=l),"deltaX"in g&&(k=g.deltaX,0===l&&(j=-1*k)),0!==l||0!==k){if(1===g.deltaMode){var n=a.data(this,"mousewheel-line-height");j*=n,l*=n,k*=n}else if(2===g.deltaMode){var o=a.data(this,"mousewheel-page-height");j*=o,l*=o,k*=o}return m=Math.max(Math.abs(l),Math.abs(k)),(!f||f>m)&&(f=m,d(g,m)&&(f/=40)),d(g,m)&&(j/=40,k/=40,l/=40),j=Math[j>=1?"floor":"ceil"](j/f),k=Math[k>=1?"floor":"ceil"](k/f),l=Math[l>=1?"floor":"ceil"](l/f),b.deltaX=k,b.deltaY=l,b.deltaFactor=f,b.deltaMode=0,h.unshift(b,j,k,l),e&&clearTimeout(e),e=setTimeout(c,200),(a.event.dispatch||a.event.handle).apply(this,h)}}function c(){f=null}function d(a,b){return k.settings.adjustOldDeltas&&"mousewheel"===a.type&&0===b%120}var e,f,g=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],h="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],i=Array.prototype.slice;if(a.event.fixHooks)for(var j=g.length;j;)a.event.fixHooks[g[--j]]=a.event.mouseHooks;var k=a.event.special.mousewheel={version:"3.1.9",setup:function(){if(this.addEventListener)for(var c=h.length;c;)this.addEventListener(h[--c],b,!1);else this.onmousewheel=b;a.data(this,"mousewheel-line-height",k.getLineHeight(this)),a.data(this,"mousewheel-page-height",k.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var a=h.length;a;)this.removeEventListener(h[--a],b,!1);else this.onmousewheel=null},getLineHeight:function(b){return parseInt(a(b)["offsetParent"in a.fn?"offsetParent":"parent"]().css("fontSize"),10)},getPageHeight:function(b){return a(b).height()},settings:{adjustOldDeltas:!0}};a.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})});var IN_GLOBAL_SCOPE=!0;window.PR_SHOULD_USE_CONTINUATION=!0;var prettyPrintOne,prettyPrint;!function(){function a(a){function b(a){var b=a.charCodeAt(0);if(92!==b)return b;var c=a.charAt(1);return b=l[c],b?b:c>="0"&&"7">=c?parseInt(a.substring(1),8):"u"===c||"x"===c?parseInt(a.substring(2),16):a.charCodeAt(1)}function c(a){if(32>a)return(16>a?"\\x0":"\\x")+a.toString(16);var b=String.fromCharCode(a);return"\\"===b||"-"===b||"]"===b||"^"===b?"\\"+b:b}function d(a){var d=a.substring(1,a.length-1).match(new RegExp("\\\\u[0-9A-Fa-f]{4}|\\\\x[0-9A-Fa-f]{2}|\\\\[0-3][0-7]{0,2}|\\\\[0-7]{1,2}|\\\\[\\s\\S]|-|[^-\\\\]","g")),e=[],f="^"===d[0],g=["["];f&&g.push("^");for(var h=f?1:0,i=d.length;i>h;++h){var j=d[h];if(/\\[bdsw]/i.test(j))g.push(j);else{var k,l=b(j);i>h+2&&"-"===d[h+1]?(k=b(d[h+2]),h+=2):k=l,e.push([l,k]),65>k||l>122||(65>k||l>90||e.push([32|Math.max(65,l),32|Math.min(k,90)]),97>k||l>122||e.push([-33&Math.max(97,l),-33&Math.min(k,122)]))}}e.sort(function(a,b){return a[0]-b[0]||b[1]-a[1]});for(var m=[],n=[],h=0;h<e.length;++h){var o=e[h];o[0]<=n[1]+1?n[1]=Math.max(n[1],o[1]):m.push(n=o)}for(var h=0;h<m.length;++h){var o=m[h];g.push(c(o[0])),o[1]>o[0]&&(o[1]+1>o[0]&&g.push("-"),g.push(c(o[1])))}return g.push("]"),g.join("")}function e(a){for(var b=a.source.match(new RegExp("(?:\\[(?:[^\\x5C\\x5D]|\\\\[\\s\\S])*\\]|\\\\u[A-Fa-f0-9]{4}|\\\\x[A-Fa-f0-9]{2}|\\\\[0-9]+|\\\\[^ux0-9]|\\(\\?[:!=]|[\\(\\)\\^]|[^\\x5B\\x5C\\(\\)\\^]+)","g")),e=b.length,h=[],i=0,j=0;e>i;++i){var k=b[i];if("("===k)++j;else if("\\"===k.charAt(0)){var l=+k.substring(1);l&&(j>=l?h[l]=-1:b[i]=c(l))}}for(var i=1;i<h.length;++i)-1===h[i]&&(h[i]=++f);for(var i=0,j=0;e>i;++i){var k=b[i];if("("===k)++j,h[j]||(b[i]="(?:");else if("\\"===k.charAt(0)){var l=+k.substring(1);l&&j>=l&&(b[i]="\\"+h[l])}}for(var i=0;e>i;++i)"^"===b[i]&&"^"!==b[i+1]&&(b[i]="");if(a.ignoreCase&&g)for(var i=0;e>i;++i){var k=b[i],m=k.charAt(0);k.length>=2&&"["===m?b[i]=d(k):"\\"!==m&&(b[i]=k.replace(/[a-zA-Z]/g,function(a){var b=a.charCodeAt(0);return"["+String.fromCharCode(-33&b,32|b)+"]"}))}return b.join("")}for(var f=0,g=!1,h=!1,i=0,j=a.length;j>i;++i){var k=a[i];if(k.ignoreCase)h=!0;else if(/[a-z]/i.test(k.source.replace(/\\u[0-9a-f]{4}|\\x[0-9a-f]{2}|\\[^ux]/gi,""))){g=!0,h=!1;break}}for(var l={b:8,t:9,n:10,v:11,f:12,r:13},m=[],i=0,j=a.length;j>i;++i){var k=a[i];if(k.global||k.multiline)throw new Error(""+k);m.push("(?:"+e(k)+")")}return new RegExp(m.join("|"),h?"gi":"g")}function b(a,b){function c(a){var i=a.nodeType;if(1==i){if(d.test(a.className))return;for(var j=a.firstChild;j;j=j.nextSibling)c(j);var k=a.nodeName.toLowerCase();("br"===k||"li"===k)&&(e[h]="\n",g[h<<1]=f++,g[h++<<1|1]=a)}else if(3==i||4==i){var l=a.nodeValue;l.length&&(l=b?l.replace(/\r\n?/g,"\n"):l.replace(/[ \t\r\n]+/g," "),e[h]=l,g[h<<1]=f,f+=l.length,g[h++<<1|1]=a)}}var d=/(?:^|\s)nocode(?:\s|$)/,e=[],f=0,g=[],h=0;return c(a),{sourceCode:e.join("").replace(/\n$/,""),spans:g}}function c(a,b,c,d){if(b){var e={sourceCode:b,basePos:a};c(e),d.push.apply(d,e.decorations)}}function d(a){for(var b=void 0,c=a.firstChild;c;c=c.nextSibling){var d=c.nodeType;b=1===d?b?a:c:3===d&&R.test(c.nodeValue)?a:b}return b===a?void 0:b}function e(b,d){var e,f={};!function(){for(var c=b.concat(d),g=[],h={},i=0,j=c.length;j>i;++i){var k=c[i],l=k[3];if(l)for(var m=l.length;--m>=0;)f[l.charAt(m)]=k;var n=k[1],o=""+n;h.hasOwnProperty(o)||(g.push(n),h[o]=null)}g.push(/[\0-\uffff]/),e=a(g)}();var g=d.length,h=function(a){for(var b=a.sourceCode,i=a.basePos,k=[i,J],l=0,m=b.match(e)||[],n={},o=0,p=m.length;p>o;++o){var q,r=m[o],s=n[r],t=void 0;if("string"==typeof s)q=!1;else{var u=f[r.charAt(0)];if(u)t=r.match(u[1]),s=u[0];else{for(var v=0;g>v;++v)if(u=d[v],t=r.match(u[1])){s=u[0];break}t||(s=J)}q=s.length>=5&&"lang-"===s.substring(0,5),!q||t&&"string"==typeof t[1]||(q=!1,s=M),q||(n[r]=s)}var w=l;if(l+=r.length,q){var x=t[1],y=r.indexOf(x),z=y+x.length;t[2]&&(z=r.length-t[2].length,y=z-x.length);var A=s.substring(5);c(i+w,r.substring(0,y),h,k),c(i+w+y,x,j(A,x),k),c(i+w+z,r.substring(z),h,k)}else k.push(i+w,s)}a.decorations=k};return h}function f(a){var b=[],c=[];b.push(a.tripleQuotedStrings?[D,/^(?:\'\'\'(?:[^\'\\]|\\[\s\S]|\'{1,2}(?=[^\']))*(?:\'\'\'|$)|\"\"\"(?:[^\"\\]|\\[\s\S]|\"{1,2}(?=[^\"]))*(?:\"\"\"|$)|\'(?:[^\\\']|\\[\s\S])*(?:\'|$)|\"(?:[^\\\"]|\\[\s\S])*(?:\"|$))/,null,"'\""]:a.multiLineStrings?[D,/^(?:\'(?:[^\\\']|\\[\s\S])*(?:\'|$)|\"(?:[^\\\"]|\\[\s\S])*(?:\"|$)|\`(?:[^\\\`]|\\[\s\S])*(?:\`|$))/,null,"'\"`"]:[D,/^(?:\'(?:[^\\\'\r\n]|\\.)*(?:\'|$)|\"(?:[^\\\"\r\n]|\\.)*(?:\"|$))/,null,"\"'"]),a.verbatimStrings&&c.push([D,/^@\"(?:[^\"]|\"\")*(?:\"|$)/,null]);var d=a.hashComments;d&&(a.cStyleComments?(b.push(d>1?[F,/^#(?:##(?:[^#]|#(?!##))*(?:###|$)|.*)/,null,"#"]:[F,/^#(?:(?:define|e(?:l|nd)if|else|error|ifn?def|include|line|pragma|undef|warning)\b|[^\r\n]*)/,null,"#"]),c.push([D,/^<(?:(?:(?:\.\.\/)*|\/?)(?:[\w-]+(?:\/[\w-]+)+)?[\w-]+\.h(?:h|pp|\+\+)?|[a-z]\w*)>/,null])):b.push([F,/^#[^\r\n]*/,null,"#"])),a.cStyleComments&&(c.push([F,/^\/\/[^\r\n]*/,null]),c.push([F,/^\/\*[\s\S]*?(?:\*\/|$)/,null]));var f=a.regexLiterals;if(f){var g=f>1?"":"\n\r",h=g?".":"[\\S\\s]",i="/(?=[^/*"+g+"])(?:[^/\\x5B\\x5C"+g+"]|\\x5C"+h+"|\\x5B(?:[^\\x5C\\x5D"+g+"]|\\x5C"+h+")*(?:\\x5D|$))+/";c.push(["lang-regex",RegExp("^"+Q+"("+i+")")])}var j=a.types;j&&c.push([G,j]);var k=(""+a.keywords).replace(/^ | $/g,"");k.length&&c.push([E,new RegExp("^(?:"+k.replace(/[\s,]+/g,"|")+")\\b"),null]),b.push([J,/^\s+/,null," \r\n	"]);var l="^.[^\\s\\w.$@'\"`/\\\\]*";return a.regexLiterals&&(l+="(?!s*/)"),c.push([H,/^@[a-z_$][a-z_$@0-9]*/i,null],[G,/^(?:[@_]?[A-Z]+[a-z][A-Za-z_$@0-9]*|\w+_t\b)/,null],[J,/^[a-z_$][a-z_$@0-9]*/i,null],[H,new RegExp("^(?:0x[a-f0-9]+|(?:\\d(?:_\\d+)*\\d*(?:\\.\\d*)?|\\.\\d\\+)(?:e[+\\-]?\\d+)?)[a-z]*","i"),null,"0123456789"],[J,/^\\[\s\S]?/,null],[I,new RegExp(l),null]),e(b,c)}function g(a,b,c){function d(a){var b=a.nodeType;if(1!=b||f.test(a.className)){if((3==b||4==b)&&c){var i=a.nodeValue,j=i.match(g);if(j){var k=i.substring(0,j.index);a.nodeValue=k;var l=i.substring(j.index+j[0].length);if(l){var m=a.parentNode;m.insertBefore(h.createTextNode(l),a.nextSibling)}e(a),k||a.parentNode.removeChild(a)}}}else if("br"===a.nodeName)e(a),a.parentNode&&a.parentNode.removeChild(a);else for(var n=a.firstChild;n;n=n.nextSibling)d(n)}function e(a){function b(a,c){var d=c?a.cloneNode(!1):a,e=a.parentNode;if(e){var f=b(e,1),g=a.nextSibling;f.appendChild(d);for(var h=g;h;h=g)g=h.nextSibling,f.appendChild(h)}return d}for(;!a.nextSibling;)if(a=a.parentNode,!a)return;for(var c,d=b(a.nextSibling,0);(c=d.parentNode)&&1===c.nodeType;)d=c;j.push(d)}for(var f=/(?:^|\s)nocode(?:\s|$)/,g=/\r\n?|\n/,h=a.ownerDocument,i=h.createElement("li");a.firstChild;)i.appendChild(a.firstChild);for(var j=[i],k=0;k<j.length;++k)d(j[k]);b===(0|b)&&j[0].setAttribute("value",b);var l=h.createElement("ol");l.className="linenums";for(var m=Math.max(0,b-1|0)||0,k=0,n=j.length;n>k;++k)i=j[k],i.className="L"+(k+m)%10,i.firstChild||i.appendChild(h.createTextNode("")),l.appendChild(i);a.appendChild(l)}function h(a){var b=/\bMSIE\s(\d+)/.exec(navigator.userAgent);b=b&&+b[1]<=8;var c=/\n/g,d=a.sourceCode,e=d.length,f=0,g=a.spans,h=g.length,i=0,j=a.decorations,k=j.length,l=0;j[k]=e;var m,n;for(n=m=0;k>n;)j[n]!==j[n+2]?(j[m++]=j[n++],j[m++]=j[n++]):n+=2;for(k=m,n=m=0;k>n;){for(var o=j[n],p=j[n+1],q=n+2;k>=q+2&&j[q+1]===p;)q+=2;j[m++]=o,j[m++]=p,n=q}k=j.length=m;var r,s=a.sourceNode;s&&(r=s.style.display,s.style.display="none");try{for(;h>i;){var t,u=(g[i],g[i+2]||e),v=j[l+2]||e,q=Math.min(u,v),w=g[i+1];if(1!==w.nodeType&&(t=d.substring(f,q))){b&&(t=t.replace(c,"\r")),w.nodeValue=t;var x=w.ownerDocument,y=x.createElement("span");y.className=j[l+1];var z=w.parentNode;z.replaceChild(y,w),y.appendChild(w),u>f&&(g[i+1]=w=x.createTextNode(d.substring(q,u)),z.insertBefore(w,y.nextSibling))}f=q,f>=u&&(i+=2),f>=v&&(l+=2)}}finally{s&&(s.style.display=r)}}function i(a,b){for(var c=b.length;--c>=0;){var d=b[c];T.hasOwnProperty(d)?n.console&&console.warn("cannot override language handler %s",d):T[d]=a}}function j(a,b){return a&&T.hasOwnProperty(a)||(a=/^\s*</.test(b)?"default-markup":"default-code"),T[a]}function k(a){var c=a.langExtension;try{var d=b(a.sourceNode,a.pre),e=d.sourceCode;a.sourceCode=e,a.spans=d.spans,a.basePos=0,j(c,e)(a),h(a)}catch(f){n.console&&console.log(f&&f.stack||f)}}function l(a,b,c){var d=document.createElement("div");d.innerHTML="<pre>"+a+"</pre>",d=d.firstChild,c&&g(d,c,!0);var e={langExtension:b,numberLines:c,sourceNode:d,pre:1};return k(e),d.innerHTML}function m(a,b){function c(a){return f.getElementsByTagName(a)}function e(){for(var b=n.PR_SHOULD_USE_CONTINUATION?p.now()+250:1/0;r<j.length&&p.now()<b;r++){for(var c=j[r],f=y,i=c;i=i.previousSibling;){var l=i.nodeType,m=(7===l||8===l)&&i.nodeValue;if(m?!/^\??prettify\b/.test(m):3!==l||/\S/.test(i.nodeValue))break;if(m){f={},m.replace(/\b(\w+)=([\w:.%+-]+)/g,function(a,b,c){f[b]=c});break}}var o=c.className;if((f!==y||t.test(o))&&!u.test(o)){for(var z=!1,A=c.parentNode;A;A=A.parentNode){var B=A.tagName;if(x.test(B)&&A.className&&t.test(A.className)){z=!0;break}}if(!z){c.className+=" prettyprinted";var C=f.lang;if(!C){C=o.match(s);var D;!C&&(D=d(c))&&w.test(D.tagName)&&(C=D.className.match(s)),C&&(C=C[1])}var E;if(v.test(c.tagName))E=1;else{var F=c.currentStyle,G=h.defaultView,H=F?F.whiteSpace:G&&G.getComputedStyle?G.getComputedStyle(c,null).getPropertyValue("white-space"):0;E=H&&"pre"===H.substring(0,3)}var I=f.linenums;(I="true"===I||+I)||(I=o.match(/\blinenums\b(?::(\d+))?/),I=I?I[1]&&I[1].length?+I[1]:!0:!1),I&&g(c,I,E),q={langExtension:C,sourceNode:c,numberLines:I,pre:E},k(q)}}}r<j.length?setTimeout(e,250):"function"==typeof a&&a()}for(var f=b||document.body,h=f.ownerDocument||document,i=[c("span")],j=[],l=0;l<i.length;++l)for(var m=0,o=i[l].length;o>m;++m)j.push(i[l][m]);i=null;var p=Date;p.now||(p={now:function(){return+new Date}});var q,r=0,s=/\blang(?:uage)?-([\w.]+)(?!\S)/,t=/\bprettyprint\b/,u=/\bprettyprinted\b/,v=/span/i,w=/^code$/i,x=/^(?:span)$/i,y={};e()}var n=window,o=["break,continue,do,else,for,if,return,while"],p=[o,"auto,case,char,const,default,double,enum,extern,float,goto,inline,int,long,register,short,signed,sizeof,static,struct,switch,typedef,union,unsigned,void,volatile"],q=[p,"catch,class,delete,false,import,new,operator,private,protected,public,this,throw,true,try,typeof"],r=[q,"alignof,align_union,asm,axiom,bool,concept,concept_map,const_cast,constexpr,decltype,delegate,dynamic_cast,explicit,export,friend,generic,late_check,mutable,namespace,nullptr,property,reinterpret_cast,static_assert,static_cast,template,typeid,typename,using,virtual,where"],s=[q,"abstract,assert,boolean,byte,extends,final,finally,implements,import,instanceof,interface,null,native,package,strictfp,super,synchronized,throws,transient"],t=[s,"as,base,by,checked,decimal,delegate,descending,dynamic,event,fixed,foreach,from,group,implicit,in,internal,into,is,let,lock,object,out,override,orderby,params,partial,readonly,ref,sbyte,sealed,stackalloc,string,select,uint,ulong,unchecked,unsafe,ushort,var,virtual,where"],u="all,and,by,catch,class,else,extends,false,finally,for,if,in,is,isnt,loop,new,no,not,null,of,off,on,or,return,super,then,throw,true,try,unless,until,when,while,yes",v=[q,"debugger,eval,export,function,get,null,set,undefined,var,with,Infinity,NaN"],w="caller,delete,die,do,dump,elsif,eval,exit,foreach,for,goto,if,import,last,local,my,next,no,our,print,package,redo,require,sub,undef,unless,until,use,wantarray,while,BEGIN,END",x=[o,"and,as,assert,class,def,del,elif,except,exec,finally,from,global,import,in,is,lambda,nonlocal,not,or,pass,print,raise,try,with,yield,False,True,None"],y=[o,"alias,and,begin,case,class,def,defined,elsif,end,ensure,false,in,module,next,nil,not,or,redo,rescue,retry,self,super,then,true,undef,unless,until,when,yield,BEGIN,END"],z=[o,"as,assert,const,copy,drop,enum,extern,fail,false,fn,impl,let,log,loop,match,mod,move,mut,priv,pub,pure,ref,self,static,struct,true,trait,type,unsafe,use"],A=[o,"case,done,elif,esac,eval,fi,function,in,local,set,then,until"],B=[r,t,v,w,x,y,A],C=/^(DIR|FILE|vector|(de|priority_)?queue|list|stack|(const_)?iterator|(multi)?(set|map)|bitset|u?(int|float)\d*)\b/,D="str",E="kwd",F="com",G="typ",H="lit",I="pun",J="pln",K="tag",L="dec",M="src",N="atn",O="atv",P="nocode",Q="(?:^^\\.?|[+-]|[!=]=?=?|\\#|%=?|&&?=?|\\(|\\*=?|[+\\-]=|->|\\/=?|::?|<<?=?|>>?>?=?|,|;|\\?|@|\\[|~|{|\\^\\^?=?|\\|\\|?=?|break|case|continue|delete|do|else|finally|instanceof|return|throw|try|typeof)\\s*",R=/\S/,S=f({keywords:B,hashComments:!0,cStyleComments:!0,multiLineStrings:!0,regexLiterals:!0}),T={};i(S,["default-code"]),i(e([],[[J,/^[^<?]+/],[L,/^<!\w[^>]*(?:>|$)/],[F,/^<\!--[\s\S]*?(?:-\->|$)/],["lang-",/^<\?([\s\S]+?)(?:\?>|$)/],["lang-",/^<%([\s\S]+?)(?:%>|$)/],[I,/^(?:<[%?]|[%?]>)/],["lang-",/^<xmp\b[^>]*>([\s\S]+?)<\/xmp\b[^>]*>/i],["lang-js",/^<script\b[^>]*>([\s\S]*?)(<\/script\b[^>]*>)/i],["lang-css",/^<style\b[^>]*>([\s\S]*?)(<\/style\b[^>]*>)/i],["lang-in.tag",/^(<\/?[a-z][^<>]*>)/i]]),["default-markup","htm","html","mxml","xhtml","xml","xsl"]),i(e([[J,/^[\s]+/,null," 	\r\n"],[O,/^(?:\"[^\"]*\"?|\'[^\']*\'?)/,null,"\"'"]],[[K,/^^<\/?[a-z](?:[\w.:-]*\w)?|\/?>$/i],[N,/^(?!style[\s=]|on)[a-z](?:[\w:-]*\w)?/i],["lang-uq.val",/^=\s*([^>\'\"\s]*(?:[^>\'\"\s\/]|\/(?=\s)))/],[I,/^[=<>\/]+/],["lang-js",/^on\w+\s*=\s*\"([^\"]+)\"/i],["lang-js",/^on\w+\s*=\s*\'([^\']+)\'/i],["lang-js",/^on\w+\s*=\s*([^\"\'>\s]+)/i],["lang-css",/^style\s*=\s*\"([^\"]+)\"/i],["lang-css",/^style\s*=\s*\'([^\']+)\'/i],["lang-css",/^style\s*=\s*([^\"\'>\s]+)/i]]),["in.tag"]),i(e([],[[O,/^[\s\S]+/]]),["uq.val"]),i(f({keywords:r,hashComments:!0,cStyleComments:!0,types:C}),["c","cc","cpp","cxx","cyc","m"]),i(f({keywords:"null,true,false"}),["json"]),i(f({keywords:t,hashComments:!0,cStyleComments:!0,verbatimStrings:!0,types:C}),["cs"]),i(f({keywords:s,cStyleComments:!0}),["java"]),i(f({keywords:A,hashComments:!0,multiLineStrings:!0}),["bash","bsh","csh","sh"]),i(f({keywords:x,hashComments:!0,multiLineStrings:!0,tripleQuotedStrings:!0}),["cv","py","python"]),i(f({keywords:w,hashComments:!0,multiLineStrings:!0,regexLiterals:2}),["perl","pl","pm"]),i(f({keywords:y,hashComments:!0,multiLineStrings:!0,regexLiterals:!0}),["rb","ruby"]),i(f({keywords:v,cStyleComments:!0,regexLiterals:!0}),["javascript","js"]),i(f({keywords:u,hashComments:3,cStyleComments:!0,multilineStrings:!0,tripleQuotedStrings:!0,regexLiterals:!0}),["coffee"]),i(f({keywords:z,cStyleComments:!0,multilineStrings:!0}),["rc","rs","rust"]),i(e([],[[D,/^[\s\S]+/]]),["regex"]);var U=n.PR={createSimpleLexer:e,registerLangHandler:i,sourceDecorator:f,PR_ATTRIB_NAME:N,PR_ATTRIB_VALUE:O,PR_COMMENT:F,PR_DECLARATION:L,PR_KEYWORD:E,PR_LITERAL:H,PR_NOCODE:P,PR_PLAIN:J,PR_PUNCTUATION:I,PR_SOURCE:M,PR_STRING:D,PR_TAG:K,PR_TYPE:G,prettyPrintOne:IN_GLOBAL_SCOPE?n.prettyPrintOne=l:prettyPrintOne=l,prettyPrint:prettyPrint=IN_GLOBAL_SCOPE?n.prettyPrint=m:prettyPrint=m};"function"==typeof define&&define.amd&&define("google-code-prettify",[],function(){return U})}(),function(a){function b(b,c){a.each(b.attributes,function(){var d=this.name;-1==a.inArray(d,c)&&a(b).removeAttr(d)})}function c(c,d){d=d||{font:["color","size"],span:["class"],b:[],br:[],h1:[],h2:[],h3:[]};var e=a("<div>"+c+"</div>");return e.find("*").each(function(){var c=d[this.nodeName.toLowerCase()];c?b(this,c):a(this).remove()}),e.html()}window.sanitize=c}(jQuery),function(a){function b(a){var b='<table><tr class="code-out-tr"><td>';return b+=a.replace(/[\n]/g,'</td></tr class="code-out-tr"><tr class="code-out-tr"><td>'),b+="</td></tr></table>"}function c(a){a.colorbox({transition:"none",rel:"img",maxWidth:"100%",maxHeight:"100%",initialWidth:"200px",initialHeight:"200px"})}function d(b){var c=-1!=b.split("\n")[0].indexOf("code");if(c){var d=b.replace(/^code/,""),e=a("<span/>").addClass("prettyprint").text(d),f=a("#share_memo_pre_tmp").append(e);prettyPrint(null,f.get(0)),d=e.html(),f.empty(),d=d.split("\n");var g=d[0].replace(/\r\n/g,"").replace(/\n/g,"");d[1]=g+d[1],d.splice(0,1);var h="";a.each(d,function(b,c){var e="code-out-pre ";1==d.length?e+="code-out-pre-top code-out-pre-bottom":0==b?(e+="code-out-pre-top ",c+="</span>"):b==d.length-1?(e+="code-out-pre-bottom ",c='<span class ="'+h+'">'+c):c='<span class ="'+h+'">'+c+"</span>",d[b]='<span class="'+e+'">'+c+"</span>",h=a("<div/>").html(d[b]).find(":last").get(0).className}),d.unshift('<span class="code-out-pre-border"></span>'),d.push('<span class="code-out-pre-border"></span>')}else{var d=b.replace(/</g,function(){return"&lt;"}).replace(/>/g,function(){return"&gt;"});d=d.split("\n"),a.each(d,function(a,b){var c="code-out-pre ";1==a?(c+=3==d.length?"code-out-pre-top code-out-pre-bottom":"code-out-pre-top ",d[a]='<span class="'+c+'">'+b+"</span>"):a==d.length-2?(c+="code-out-pre-bottom ",d[a]='<span class="'+c+'">'+b+"</span>"):d[a]=0==a||a==d.length-1?'<span class="code-out-pre-border"></span>':'<span class="'+c+'">'+b+"</span>"
})}return d.join("\n")}function e(a){var b=a.replace(/(\[(.+?)\])?[\(]?((https?|ftp)(:\/\/[-_.!~*\'a-zA-Z0-9;\/?:\@&=+\$,%#]+)|blog\?id=[^\)]+)[\)]?/g,function(){var a=arguments[3];if(a.match(/(\.jpg|\.jpeg|\.gif|\.png|\.bmp)[?]?/i))return a;var b=arguments[2]?arguments[2]:a;return'<a href="'+a+'" target="_blank" >'+b+"</a>"});return b}function f(a){var b=a.replace(/(\/uploads\/(\S+))/g,function(){var a=arguments[1],b=arguments[2];return a.match(/(\.jpg|\.jpeg|\.gif|\.png|\.bmp|\.xap)[?]?/i)?a:'<a href="'+a+'" class="btn btn-default btn-mini" ><i class="icon-download-alt"></i>'+b+"</a>"});return b}function g(a,b){var c=a.replace(/((\S+?(\.jpg|\.jpeg|\.gif|\.png|\.bmp)([?][\S]*)?)($|\s([0-9]+)|\s))/gi,function(){var a=arguments[2],c=arguments[6];return""!=c&&isFinite(c)||(c=b),c?'<a href="'+a+'" class="thumbnail" style="vertical-align: top;"><img src="'+a+'" style="height:'+c+'px"/></a>':'<a href="'+a+'" target="_blank" class="thumbnail" style="display: inline-block; vertical-align: top;"><img src="'+a+'"/></a>'});return c}function h(a,b,c){var d=a.replace(/((\S+?(\.xap))($|\s([0-9]+)\s([0-9]+)|\s))/g,function(){var a=arguments[2],d=arguments[5],e=arguments[6];return""!=d&&isFinite(d)||(d=b),""!=e&&isFinite(e)||(e=c),'<object data="data:application/x-silverlight-2," type="application/x-silverlight-2" width="'+d+'" height="'+e+'">  <param name="source" value="'+a+'"/>  <param name="onError" value="onSilverlightError" />  <param name="background" value="white" />  <param name="minRuntimeVersion" value="5.0.61118.0" />  <param name="autoUpgrade" value="true" />  <a href="http://go.microsoft.com/fwlink/?LinkID=149156&v=5.0.61118.0" style="text-decoration:none">    <img src="http://go.microsoft.com/fwlink/?LinkId=161376" alt="Microsoft Silverlight " style="border-style:none"/>  </a></object>'});return d}function j(a,b){var c=a.replace(n,function(){var a=arguments[0];return a.indexOf("x")>0?'<input type="checkbox" data-no="'+b++ +'" checked />':'<input type="checkbox" data-no="'+b++ +'" />'});return{text:c,no:b}}function k(a){var b=a.replace(/^(#+)[ ]*(.*)$/gm,function(){var a=arguments[1].length<4?arguments[1].length:4,b=arguments[2];return"<h"+a+">"+l(b)+"</h"+a+">"});return b}function l(a){var b=a.replace(/^(.+)[ ](#([a-z]+)|(#[0-9a-fA-F][0-9a-fA-F][0-9a-fA-F][0-9a-fA-F][0-9a-fA-F][0-9a-fA-F]))$/gm,function(){var a=arguments[1],b=arguments[3]||arguments[4];return"r"==b&&(b="#ba2636"),"g"==b&&(b="#387d39"),"b"==b&&(b="#333399"),'<font color="'+b+'">'+a+"</font>"}),b=b.replace(/^(.+)[ ](%([a-z]+)|(%[0-9a-fA-F][0-9a-fA-F][0-9a-fA-F][0-9a-fA-F][0-9a-fA-F][0-9a-fA-F]))$/gm,function(){var a=arguments[1],b=arguments[3]||arguments[4];return"r"==b&&(b="#FFE4E1"),"g"==b&&(b="#7FFFD4"),"b"==b&&(b="#AFEEEE"),'<span style="background-color:'+b+'">'+a+"</span>"});return b}function m(a){var b=a.replace(/\[ref:(.+?)\]/g,function(){var a=arguments[1];return'<span class="btn btn-default btn-mini ref-point" id="'+a+'"><i class="icon-share"></i></span>'});return b}var n=/-[ ]?\[[ ]?\]|-[ ]?\[x\]/g,o="-[x]",p="-[ ]";a.fn.decora=function(b){function c(a,b,c){var d=0;return c.replace(n,function(){var c=arguments[0],e=d++;return a==e?b?o:p:c})}var d={checkbox_callback:function(){}},b=a.extend(d,b);return Function.prototype.method=function(a,b){return this.prototype[a]=b,this},Function.method("curry",function(){var a=Array.prototype.slice,b=a.apply(arguments),c=this;return function(){return c.apply(null,b.concat(a.apply(arguments)))}}),a(this).on("click",":checkbox",function(){var d=a(this).data("no"),e=a(this).attr("checked")?!0:!1,f=this;b.checkbox_callback(f,c.curry(d,e))}),this},a.fn.showDecora=function(d){a(this).html(b(a.decora.to_html(d))),a(this).find("tr:has(:header)").addClass("header-tr"),a(this).find("tr:has(.code-out-pre-border)").addClass("code-out-pre-tr"),a(this).find("td:has(.code-out-pre)").addClass("code-out-pre-td"),a(this).find("td:has(.code-out-pre-top)").addClass("code-out-pre-top-td"),a(this).find("td:has(.code-out-pre-bottom)").addClass("code-out-pre-bottom-td"),c(a(this).find(".thumbnail")),emojify.run(a(this).get(0))},a.decora={to_html:function(a){var b=a.split("```"),c=0;for(i=0;i<b.length;i++)if(i%2==0){var n=sanitize(b[i]);n=e(n),n=f(n),n=g(n,200),n=h(n,200,200);var o=j(n,c);c=o.no,n=k(o.text),n=l(n),n=m(n),b[i]=n}else b[i]=d(b[i]);return b.join("")},message_to_html:function(a){return a=sanitize(a),a=a.replace(/[\(](|||||||||||||||||)[\)]/g,function(){return'<span class="emo">'+arguments[1]+"</span>"}),a=e(a),a=f(a),a=g(a,50),a=l(a),a=m(a)}}}(jQuery),function(a){String.prototype.getLinefromCount=function(a){var b=/\r\n|\r/g,c=this.slice(0,a),d=c.match(b);d&&(c=c.replace(b,"\n"));var e=c.split("\n");return e.length},String.prototype.getCountfromLine=function(a){var b=0;for(i=0;a>i;i++)b=this.indexOf("\n",b)+1;return b};var b=function(a){var b=this.get(0);return null==a?c(b):(d(b,a),this)},c=function(a){return a.selectionStart||"0"==a.selectionStart?start=a.selectionStart:document.selection&&(start=getSelectionCount(a)[0]),isNaN(start)?void 0:a.value.getLinefromCount(start)},d=function(a,b){var c=a.value.getCountfromLine(b);if(a.setSelectionRange)a.setSelectionRange(c,c);else if(a.createTextRange){var d=a.createTextRange();d.collapse(!0),d.moveEnd("character",c),d.moveStart("character",c),d.select()}};a.fn.extend({caretLine:b})}(jQuery),function(a,b,c){function d(a,b){return this instanceof d?this.init(a,b):new d(a,b)}function e(a,b){return a.changedTouches?a.changedTouches[0][b]:a[b]}function f(a){return j(a,function(a){return m.style[a]!==c})}function g(a,b,d){var e=o[b];e?a[e]=d:a[b]!==c?(o[b]=b,a[b]=d):j(n,function(e){var f=i(e)+i(b);return a[f]!==c?(o[b]=f,a[f]=d,!0):void 0})}function h(a){if(m.style[a]!==c)return a;var b;return j(n,function(d){var e=i(d)+i(a);return m.style[e]!==c?(b="-"+d+"-"+a,!0):void 0}),b}function i(a){return a.charAt(0).toUpperCase()+a.substr(1)}function j(a,b){for(var c=0,d=a.length;d>c;c++)if(b(a[c],c))return!0;return!1}function k(a,b,c,d){var e=Math.abs(a-c),f=Math.abs(b-d),g=Math.sqrt(Math.pow(e,2)+Math.pow(f,2));return{x:e,y:f,z:g}}function l(a){var b=a.y/a.z,c=Math.acos(b);return 180/(Math.PI/c)}var m=b.createElement("div"),n=["webkit","moz","o","ms"],o={},p=d.support={},q=!1,r=5,s=55;p.transform3d=f(["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"]),p.transform=f(["transformProperty","WebkitTransform","MozTransform","OTransform","msTransform"]),p.transition=f(["transitionProperty","WebkitTransitionProperty","MozTransitionProperty","OTransitionProperty","msTransitionProperty"]),p.addEventListener="addEventListener"in a,p.mspointer=a.navigator.msPointerEnabled,p.cssAnimation=(p.transform3d||p.transform)&&p.transition;var t=["touch","mouse"],u={start:{touch:"touchstart",mouse:"mousedown"},move:{touch:"touchmove",mouse:"mousemove"},end:{touch:"touchend",mouse:"mouseup"}};p.addEventListener&&(b.addEventListener("gesturestart",function(){q=!0}),b.addEventListener("gestureend",function(){q=!1})),d.prototype.init=function(a,d){var e=this;if(e.element=a,"string"==typeof a&&(e.element=b.querySelector(a)),!e.element)throw new Error("element not found");return p.mspointer&&(e.element.style.msTouchAction="pan-y"),d=d||{},e.distance=d.distance,e.maxPoint=d.maxPoint,e.disableTouch=d.disableTouch===c?!1:d.disableTouch,e.disable3d=d.disable3d===c?!1:d.disable3d,e.transitionDuration=d.transitionDuration===c?"350ms":d.transitionDuration+"ms",e.currentPoint=0,e.currentX=0,e.animation=!1,e.use3d=p.transform3d,e.disable3d===!0&&(e.use3d=!1),e._setStyle(p.cssAnimation?{transitionProperty:h("transform"),transitionTimingFunction:"cubic-bezier(0,0,0.25,1)",transitionDuration:"0ms",transform:e._getTranslate(0)}:{position:"relative",left:"0px"}),e.refresh(),t.forEach(function(a){e.element.addEventListener(u.start[a],e,!1)}),e},d.prototype.handleEvent=function(a){var b=this;switch(a.type){case u.start.touch:b._touchStart(a,"touch");break;case u.start.mouse:b._touchStart(a,"mouse");break;case u.move.touch:b._touchMove(a,"touch");break;case u.move.mouse:b._touchMove(a,"mouse");break;case u.end.touch:b._touchEnd(a,"touch");break;case u.end.mouse:b._touchEnd(a,"mouse");break;case"click":b._click(a)}},d.prototype.refresh=function(){var a=this;a._maxPoint=a.maxPoint===c?function(){for(var b,c=a.element.childNodes,d=-1,e=0,f=c.length;f>e;e++)b=c[e],1===b.nodeType&&d++;return d}():a.maxPoint,a._distance=a.distance===c?a._maxPoint<0?0:a.element.scrollWidth/(a._maxPoint+1):a.distance,a._maxX=-a._distance*a._maxPoint,a.moveToPoint()},d.prototype.hasNext=function(){var a=this;return a.currentPoint<a._maxPoint},d.prototype.hasPrev=function(){var a=this;return a.currentPoint>0},d.prototype.toNext=function(a){var b=this;b.hasNext()&&b.moveToPoint(b.currentPoint+1,a)},d.prototype.toPrev=function(a){var b=this;b.hasPrev()&&b.moveToPoint(b.currentPoint-1,a)},d.prototype.moveToPoint=function(a,b){var d=this;b=b===c?d.transitionDuration:b+"ms";var e=d.currentPoint;a===c&&(a=d.currentPoint),d.currentPoint=0>a?0:a>d._maxPoint?d._maxPoint:parseInt(a,10),p.cssAnimation?d._setStyle({transitionDuration:b}):d.animation=!0,d._setX(-d.currentPoint*d._distance,b),e!==d.currentPoint&&(d._triggerEvent("fsmoveend",!0,!1),d._triggerEvent("fspointmove",!0,!1))},d.prototype._setX=function(a,b){var c=this;c.currentX=a,p.cssAnimation?c.element.style[o.transform]=c._getTranslate(a):c.animation?c._animate(a,b||c.transitionDuration):c.element.style.left=a+"px"},d.prototype._touchStart=function(a,c){var d=this;if(!(d.disableTouch||d.scrolling||q)){d.element.addEventListener(u.move[c],d,!1),b.addEventListener(u.end[c],d,!1);var f=a.target.tagName;"mouse"===c&&"SELECT"!==f&&"INPUT"!==f&&"TEXTAREA"!==f&&"BUTTON"!==f&&a.preventDefault(),p.cssAnimation?d._setStyle({transitionDuration:"0ms"}):d.animation=!1,d.scrolling=!0,d.moveReady=!1,d.startPageX=e(a,"pageX"),d.startPageY=e(a,"pageY"),d.basePageX=d.startPageX,d.directionX=0,d.startTime=a.timeStamp,d._triggerEvent("fstouchstart",!0,!1)}},d.prototype._touchMove=function(a){var b=this;if(b.scrolling&&!q){var c,d,f=e(a,"pageX"),g=e(a,"pageY");if(b.moveReady){a.preventDefault(),c=f-b.basePageX,d=b.currentX+c,(d>=0||d<b._maxX)&&(d=Math.round(b.currentX+c/3)),b.directionX=0===c?b.directionX:c>0?-1:1;var h=!b._triggerEvent("fstouchmove",!0,!0,{delta:c,direction:b.directionX});h?b._touchAfter({moved:!1,originalPoint:b.currentPoint,newPoint:b.currentPoint,cancelled:!0}):b._setX(d)}else{var i=k(b.startPageX,b.startPageY,f,g);i.z>r&&(l(i)>s?(a.preventDefault(),b.moveReady=!0,b.element.addEventListener("click",b,!0)):b.scrolling=!1)}b.basePageX=f}},d.prototype._touchEnd=function(a,c){var d=this;if(d.element.removeEventListener(u.move[c],d,!1),b.removeEventListener(u.end[c],d,!1),d.scrolling){var e=-d.currentX/d._distance;e=d.directionX>0?Math.ceil(e):d.directionX<0?Math.floor(e):Math.round(e),0>e?e=0:e>d._maxPoint&&(e=d._maxPoint),d._touchAfter({moved:e!==d.currentPoint,originalPoint:d.currentPoint,newPoint:e,cancelled:!1}),d.moveToPoint(e)}},d.prototype._click=function(a){a.stopPropagation(),a.preventDefault()},d.prototype._touchAfter=function(a){var b=this;b.scrolling=!1,b.moveReady=!1,setTimeout(function(){b.element.removeEventListener("click",b,!0)},200),b._triggerEvent("fstouchend",!0,!1,a)},d.prototype._setStyle=function(a){var b=this,c=b.element.style;for(var d in a)g(c,d,a[d])},d.prototype._animate=function(a,b){var c=this,d=c.element,e=+new Date,f=parseInt(d.style.left,10),g=a,h=parseInt(b,10),i=function(a,b){return-(a/=b)*(a-2)},j=setInterval(function(){var a,b,c=new Date-e;c>h?(clearInterval(j),b=g):(a=i(c,h),b=a*(g-f)+f),d.style.left=b+"px"},10)},d.prototype.destroy=function(){var a=this;t.forEach(function(b){a.element.removeEventListener(u.start[b],a,!1)})},d.prototype._getTranslate=function(a){var b=this;return b.use3d?"translate3d("+a+"px, 0, 0)":"translate("+a+"px, 0)"},d.prototype._triggerEvent=function(a,c,d,e){var f=this,g=b.createEvent("Event");if(g.initEvent(a,c,d),e)for(var h in e)e.hasOwnProperty(h)&&(g[h]=e[h]);return f.element.dispatchEvent(g)},"object"==typeof exports?module.exports=d:"function"==typeof define&&define.amd?define(function(){return d}):a.Flipsnap=d}(window,window.document),function(a){function b(a,b){return function(c){return i(a.call(this,c),b)}}function c(a,b){return function(c){return this.lang().ordinal(a.call(this,c),b)}}function d(){}function e(a){g(this,a)}function f(a){var b=a.years||a.year||a.y||0,c=a.months||a.month||a.M||0,d=a.weeks||a.week||a.w||0,e=a.days||a.day||a.d||0,f=a.hours||a.hour||a.h||0,g=a.minutes||a.minute||a.m||0,h=a.seconds||a.second||a.s||0,i=a.milliseconds||a.millisecond||a.ms||0;this._input=a,this._milliseconds=+i+1e3*h+6e4*g+36e5*f,this._days=+e+7*d,this._months=+c+12*b,this._data={},this._bubble()}function g(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}function h(a){return 0>a?Math.ceil(a):Math.floor(a)}function i(a,b){for(var c=a+"";c.length<b;)c="0"+c;return c}function j(a,b,c,d){var e,f,g=b._milliseconds,h=b._days,i=b._months;g&&a._d.setTime(+a._d+g*c),(h||i)&&(e=a.minute(),f=a.hour()),h&&a.date(a.date()+h*c),i&&a.month(a.month()+i*c),g&&!d&&L.updateOffset(a),(h||i)&&(a.minute(e),a.hour(f))}function k(a){return"[object Array]"===Object.prototype.toString.call(a)}function l(a,b){var c,d=Math.min(a.length,b.length),e=Math.abs(a.length-b.length),f=0;for(c=0;d>c;c++)~~a[c]!==~~b[c]&&f++;return f+e}function m(a){return a?ib[a]||a.toLowerCase().replace(/(.)s$/,"$1"):a}function n(a,b){return b.abbr=a,P[a]||(P[a]=new d),P[a].set(b),P[a]}function o(a){delete P[a]}function p(a){if(!a)return L.fn._lang;if(!P[a]&&Q)try{require("./lang/"+a)}catch(b){return L.fn._lang}return P[a]||L.fn._lang}function q(a){return a.match(/\[.*\]/)?a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"")}function r(a){var b,c,d=a.match(T);for(b=0,c=d.length;c>b;b++)d[b]=mb[d[b]]?mb[d[b]]:q(d[b]);return function(e){var f="";for(b=0;c>b;b++)f+=d[b]instanceof Function?d[b].call(e,a):d[b];return f}}function s(a,b){return b=t(b,a.lang()),jb[b]||(jb[b]=r(b)),jb[b](a)}function t(a,b){function c(a){return b.longDateFormat(a)||a}for(var d=5;d--&&(U.lastIndex=0,U.test(a));)a=a.replace(U,c);return a}function u(a,b){switch(a){case"DDDD":return X;case"YYYY":return Y;case"YYYYY":return Z;case"S":case"SS":case"SSS":case"DDD":return W;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return $;case"a":case"A":return p(b._l)._meridiemParse;case"X":return bb;case"Z":case"ZZ":return _;case"T":return ab;case"MM":case"DD":case"YY":case"HH":case"hh":case"mm":case"ss":case"M":case"D":case"d":case"H":case"h":case"m":case"s":return V;default:return new RegExp(a.replace("\\",""))}}function v(a){var b=(_.exec(a)||[])[0],c=(b+"").match(fb)||["-",0,0],d=+(60*c[1])+~~c[2];return"+"===c[0]?-d:d}function w(a,b,c){var d,e=c._a;switch(a){case"M":case"MM":null!=b&&(e[1]=~~b-1);break;case"MMM":case"MMMM":d=p(c._l).monthsParse(b),null!=d?e[1]=d:c._isValid=!1;break;case"D":case"DD":null!=b&&(e[2]=~~b);break;case"DDD":case"DDDD":null!=b&&(e[1]=0,e[2]=~~b);break;case"YY":e[0]=~~b+(~~b>68?1900:2e3);break;case"YYYY":case"YYYYY":e[0]=~~b;break;case"a":case"A":c._isPm=p(c._l).isPM(b);break;case"H":case"HH":case"h":case"hh":e[3]=~~b;break;case"m":case"mm":e[4]=~~b;break;case"s":case"ss":e[5]=~~b;break;case"S":case"SS":case"SSS":e[6]=~~(1e3*("0."+b));break;case"X":c._d=new Date(1e3*parseFloat(b));break;case"Z":case"ZZ":c._useUTC=!0,c._tzm=v(b)}null==b&&(c._isValid=!1)}function x(a){var b,c,d,e=[];if(!a._d){for(d=z(a),b=0;3>b&&null==a._a[b];++b)a._a[b]=e[b]=d[b];for(;7>b;b++)a._a[b]=e[b]=null==a._a[b]?2===b?1:0:a._a[b];e[3]+=~~((a._tzm||0)/60),e[4]+=~~((a._tzm||0)%60),c=new Date(0),a._useUTC?(c.setUTCFullYear(e[0],e[1],e[2]),c.setUTCHours(e[3],e[4],e[5],e[6])):(c.setFullYear(e[0],e[1],e[2]),c.setHours(e[3],e[4],e[5],e[6])),a._d=c}}function y(a){var b=a._i;a._d||(a._a=[b.years||b.year||b.y,b.months||b.month||b.M,b.days||b.day||b.d,b.hours||b.hour||b.h,b.minutes||b.minute||b.m,b.seconds||b.second||b.s,b.milliseconds||b.millisecond||b.ms],x(a))}function z(a){var b=new Date;return a._useUTC?[b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate()]:[b.getFullYear(),b.getMonth(),b.getDate()]}function A(a){var b,c,d,e=p(a._l),f=""+a._i;for(d=t(a._f,e).match(T),a._a=[],b=0;b<d.length;b++)c=(u(d[b],a).exec(f)||[])[0],c&&(f=f.slice(f.indexOf(c)+c.length)),mb[d[b]]&&w(d[b],c,a);f&&(a._il=f),a._isPm&&a._a[3]<12&&(a._a[3]+=12),a._isPm===!1&&12===a._a[3]&&(a._a[3]=0),x(a)}function B(a){var b,c,d,f,h,i=99;for(f=0;f<a._f.length;f++)b=g({},a),b._f=a._f[f],A(b),c=new e(b),h=l(b._a,c.toArray()),c._il&&(h+=c._il.length),i>h&&(i=h,d=c);g(a,d)}function C(a){var b,c=a._i,d=cb.exec(c);if(d){for(a._f="YYYY-MM-DD"+(d[2]||" "),b=0;4>b;b++)if(eb[b][1].exec(c)){a._f+=eb[b][0];break}_.exec(c)&&(a._f+=" Z"),A(a)}else a._d=new Date(c)}function D(b){var c=b._i,d=R.exec(c);c===a?b._d=new Date:d?b._d=new Date(+d[1]):"string"==typeof c?C(b):k(c)?(b._a=c.slice(0),x(b)):c instanceof Date?b._d=new Date(+c):"object"==typeof c?y(b):b._d=new Date(c)}function E(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)}function F(a,b,c){var d=O(Math.abs(a)/1e3),e=O(d/60),f=O(e/60),g=O(f/24),h=O(g/365),i=45>d&&["s",d]||1===e&&["m"]||45>e&&["mm",e]||1===f&&["h"]||22>f&&["hh",f]||1===g&&["d"]||25>=g&&["dd",g]||45>=g&&["M"]||345>g&&["MM",O(g/30)]||1===h&&["y"]||["yy",h];return i[2]=b,i[3]=a>0,i[4]=c,E.apply({},i)}function G(a,b,c){var d,e=c-b,f=c-a.day();return f>e&&(f-=7),e-7>f&&(f+=7),d=L(a).add("d",f),{week:Math.ceil(d.dayOfYear()/7),year:d.year()}}function H(a){var b=a._i,c=a._f;return null===b||""===b?null:("string"==typeof b&&(a._i=b=p().preparse(b)),L.isMoment(b)?(a=g({},b),a._d=new Date(+b._d)):c?k(c)?B(a):A(a):D(a),new e(a))}function I(a,b){L.fn[a]=L.fn[a+"s"]=function(a){var c=this._isUTC?"UTC":"";return null!=a?(this._d["set"+c+b](a),L.updateOffset(this),this):this._d["get"+c+b]()}}function J(a){L.duration.fn[a]=function(){return this._data[a]}}function K(a,b){L.duration.fn["as"+a]=function(){return+this/b}}for(var L,M,N="2.2.1",O=Math.round,P={},Q="undefined"!=typeof module&&module.exports,R=/^\/?Date\((\-?\d+)/i,S=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)\:(\d+)\.?(\d{3})?/,T=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|SS?S?|X|zz?|ZZ?|.)/g,U=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,V=/\d\d?/,W=/\d{1,3}/,X=/\d{3}/,Y=/\d{1,4}/,Z=/[+\-]?\d{1,6}/,$=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,_=/Z|[\+\-]\d\d:?\d\d/i,ab=/T/i,bb=/[\+\-]?\d+(\.\d{1,3})?/,cb=/^\s*\d{4}-\d\d-\d\d((T| )(\d\d(:\d\d(:\d\d(\.\d\d?\d?)?)?)?)?([\+\-]\d\d:?\d\d)?)?/,db="YYYY-MM-DDTHH:mm:ssZ",eb=[["HH:mm:ss.S",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],fb=/([\+\-]|\d\d)/gi,gb="Date|Hours|Minutes|Seconds|Milliseconds".split("|"),hb={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},ib={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",w:"week",W:"isoweek",M:"month",y:"year"},jb={},kb="DDD w W M D d".split(" "),lb="M D H h m s w W".split(" "),mb={M:function(){return this.month()+1},MMM:function(a){return this.lang().monthsShort(this,a)},MMMM:function(a){return this.lang().months(this,a)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(a){return this.lang().weekdaysMin(this,a)},ddd:function(a){return this.lang().weekdaysShort(this,a)},dddd:function(a){return this.lang().weekdays(this,a)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return i(this.year()%100,2)},YYYY:function(){return i(this.year(),4)},YYYYY:function(){return i(this.year(),5)},gg:function(){return i(this.weekYear()%100,2)},gggg:function(){return this.weekYear()},ggggg:function(){return i(this.weekYear(),5)},GG:function(){return i(this.isoWeekYear()%100,2)},GGGG:function(){return this.isoWeekYear()},GGGGG:function(){return i(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return~~(this.milliseconds()/100)},SS:function(){return i(~~(this.milliseconds()/10),2)},SSS:function(){return i(this.milliseconds(),3)},Z:function(){var a=-this.zone(),b="+";return 0>a&&(a=-a,b="-"),b+i(~~(a/60),2)+":"+i(~~a%60,2)},ZZ:function(){var a=-this.zone(),b="+";return 0>a&&(a=-a,b="-"),b+i(~~(10*a/6),4)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()}};kb.length;)M=kb.pop(),mb[M+"o"]=c(mb[M],M);for(;lb.length;)M=lb.pop(),mb[M+M]=b(mb[M],2);for(mb.DDDD=b(mb.DDD,3),g(d.prototype,{set:function(a){var b,c;for(c in a)b=a[c],"function"==typeof b?this[c]=b:this["_"+c]=b},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(a){return this._months[a.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(a){return this._monthsShort[a.month()]},monthsParse:function(a){var b,c,d;for(this._monthsParse||(this._monthsParse=[]),b=0;12>b;b++)if(this._monthsParse[b]||(c=L.utc([2e3,b]),d="^"+this.months(c,"")+"|^"+this.monthsShort(c,""),this._monthsParse[b]=new RegExp(d.replace(".",""),"i")),this._monthsParse[b].test(a))return b},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(a){return this._weekdays[a.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(a){return this._weekdaysShort[a.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(a){return this._weekdaysMin[a.day()]},weekdaysParse:function(a){var b,c,d;for(this._weekdaysParse||(this._weekdaysParse=[]),b=0;7>b;b++)if(this._weekdaysParse[b]||(c=L([2e3,1]).day(b),d="^"+this.weekdays(c,"")+"|^"+this.weekdaysShort(c,"")+"|^"+this.weekdaysMin(c,""),this._weekdaysParse[b]=new RegExp(d.replace(".",""),"i")),this._weekdaysParse[b].test(a))return b},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(a){var b=this._longDateFormat[a];return!b&&this._longDateFormat[a.toUpperCase()]&&(b=this._longDateFormat[a.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a]=b),b},isPM:function(a){return"p"===(a+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(a,b,c){return a>11?c?"pm":"PM":c?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(a,b){var c=this._calendar[a];return"function"==typeof c?c.apply(b):c},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(a,b,c,d){var e=this._relativeTime[c];return"function"==typeof e?e(a,b,c,d):e.replace(/%d/i,a)},pastFuture:function(a,b){var c=this._relativeTime[a>0?"future":"past"];return"function"==typeof c?c(b):c.replace(/%s/i,b)},ordinal:function(a){return this._ordinal.replace("%d",a)},_ordinal:"%d",preparse:function(a){return a},postformat:function(a){return a},week:function(a){return G(a,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6}}),L=function(a,b,c){return H({_i:a,_f:b,_l:c,_isUTC:!1})},L.utc=function(a,b,c){return H({_useUTC:!0,_isUTC:!0,_l:c,_i:a,_f:b}).utc()},L.unix=function(a){return L(1e3*a)},L.duration=function(a,b){var c,d,e=L.isDuration(a),g="number"==typeof a,h=e?a._input:g?{}:a,i=S.exec(a);return g?b?h[b]=a:h.milliseconds=a:i&&(c="-"===i[1]?-1:1,h={y:0,d:~~i[2]*c,h:~~i[3]*c,m:~~i[4]*c,s:~~i[5]*c,ms:~~i[6]*c}),d=new f(h),e&&a.hasOwnProperty("_lang")&&(d._lang=a._lang),d},L.version=N,L.defaultFormat=db,L.updateOffset=function(){},L.lang=function(a,b){return a?(a=a.toLowerCase(),a=a.replace("_","-"),b?n(a,b):null===b?(o(a),a="en"):P[a]||p(a),void(L.duration.fn._lang=L.fn._lang=p(a))):L.fn._lang._abbr},L.langData=function(a){return a&&a._lang&&a._lang._abbr&&(a=a._lang._abbr),p(a)},L.isMoment=function(a){return a instanceof e},L.isDuration=function(a){return a instanceof f},g(L.fn=e.prototype,{clone:function(){return L(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){return s(L(this).utc(),"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var a=this;return[a.year(),a.month(),a.date(),a.hours(),a.minutes(),a.seconds(),a.milliseconds()]},isValid:function(){return null==this._isValid&&(this._isValid=this._a?!l(this._a,(this._isUTC?L.utc(this._a):L(this._a)).toArray()):!isNaN(this._d.getTime())),!!this._isValid},invalidAt:function(){var a,b=this._a,c=(this._isUTC?L.utc(this._a):L(this._a)).toArray();for(a=6;a>=0&&b[a]===c[a];--a);return a},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},format:function(a){var b=s(this,a||L.defaultFormat);return this.lang().postformat(b)},add:function(a,b){var c;return c="string"==typeof a?L.duration(+b,a):L.duration(a,b),j(this,c,1),this},subtract:function(a,b){var c;return c="string"==typeof a?L.duration(+b,a):L.duration(a,b),j(this,c,-1),this},diff:function(a,b,c){var d,e,f=this._isUTC?L(a).zone(this._offset||0):L(a).local(),g=6e4*(this.zone()-f.zone());return b=m(b),"year"===b||"month"===b?(d=432e5*(this.daysInMonth()+f.daysInMonth()),e=12*(this.year()-f.year())+(this.month()-f.month()),e+=(this-L(this).startOf("month")-(f-L(f).startOf("month")))/d,e-=6e4*(this.zone()-L(this).startOf("month").zone()-(f.zone()-L(f).startOf("month").zone()))/d,"year"===b&&(e/=12)):(d=this-f,e="second"===b?d/1e3:"minute"===b?d/6e4:"hour"===b?d/36e5:"day"===b?(d-g)/864e5:"week"===b?(d-g)/6048e5:d),c?e:h(e)},from:function(a,b){return L.duration(this.diff(a)).lang(this.lang()._abbr).humanize(!b)},fromNow:function(a){return this.from(L(),a)},calendar:function(){var a=this.diff(L().zone(this.zone()).startOf("day"),"days",!0),b=-6>a?"sameElse":-1>a?"lastWeek":0>a?"lastDay":1>a?"sameDay":2>a?"nextDay":7>a?"nextWeek":"sameElse";return this.format(this.lang().calendar(b,this))},isLeapYear:function(){var a=this.year();return 0===a%4&&0!==a%100||0===a%400},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(a){var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=a?"string"==typeof a&&(a=this.lang().weekdaysParse(a),"number"!=typeof a)?this:this.add({d:a-b}):b},month:function(a){var b,c=this._isUTC?"UTC":"";return null!=a?"string"==typeof a&&(a=this.lang().monthsParse(a),"number"!=typeof a)?this:(b=this.date(),this.date(1),this._d["set"+c+"Month"](a),this.date(Math.min(b,this.daysInMonth())),L.updateOffset(this),this):this._d["get"+c+"Month"]()},startOf:function(a){switch(a=m(a)){case"year":this.month(0);case"month":this.date(1);case"week":case"isoweek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===a?this.weekday(0):"isoweek"===a&&this.isoWeekday(1),this},endOf:function(a){return a=m(a),this.startOf(a).add("isoweek"===a?"week":a,1).subtract("ms",1)},isAfter:function(a,b){return b="undefined"!=typeof b?b:"millisecond",+this.clone().startOf(b)>+L(a).startOf(b)},isBefore:function(a,b){return b="undefined"!=typeof b?b:"millisecond",+this.clone().startOf(b)<+L(a).startOf(b)},isSame:function(a,b){return b="undefined"!=typeof b?b:"millisecond",+this.clone().startOf(b)===+L(a).startOf(b)},min:function(a){return a=L.apply(null,arguments),this>a?this:a},max:function(a){return a=L.apply(null,arguments),a>this?this:a},zone:function(a){var b=this._offset||0;return null==a?this._isUTC?b:this._d.getTimezoneOffset():("string"==typeof a&&(a=v(a)),Math.abs(a)<16&&(a=60*a),this._offset=a,this._isUTC=!0,b!==a&&j(this,L.duration(b-a,"m"),1,!0),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},hasAlignedHourOffset:function(a){return a=a?L(a).zone():0,0===(this.zone()-a)%60},daysInMonth:function(){return L.utc([this.year(),this.month()+1,0]).date()},dayOfYear:function(a){var b=O((L(this).startOf("day")-L(this).startOf("year"))/864e5)+1;return null==a?b:this.add("d",a-b)},weekYear:function(a){var b=G(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==a?b:this.add("y",a-b)},isoWeekYear:function(a){var b=G(this,1,4).year;return null==a?b:this.add("y",a-b)},week:function(a){var b=this.lang().week(this);return null==a?b:this.add("d",7*(a-b))},isoWeek:function(a){var b=G(this,1,4).week;return null==a?b:this.add("d",7*(a-b))},weekday:function(a){var b=(this._d.getDay()+7-this.lang()._week.dow)%7;return null==a?b:this.add("d",a-b)},isoWeekday:function(a){return null==a?this.day()||7:this.day(this.day()%7?a:a-7)},get:function(a){return a=m(a),this[a.toLowerCase()]()},set:function(a,b){a=m(a),this[a.toLowerCase()](b)},lang:function(b){return b===a?this._lang:(this._lang=p(b),this)}}),M=0;M<gb.length;M++)I(gb[M].toLowerCase().replace(/s$/,""),gb[M]);I("year","FullYear"),L.fn.days=L.fn.day,L.fn.months=L.fn.month,L.fn.weeks=L.fn.week,L.fn.isoWeeks=L.fn.isoWeek,L.fn.toJSON=L.fn.toISOString,g(L.duration.fn=f.prototype,{_bubble:function(){var a,b,c,d,e=this._milliseconds,f=this._days,g=this._months,i=this._data;i.milliseconds=e%1e3,a=h(e/1e3),i.seconds=a%60,b=h(a/60),i.minutes=b%60,c=h(b/60),i.hours=c%24,f+=h(c/24),i.days=f%30,g+=h(f/30),i.months=g%12,d=h(g/12),i.years=d},weeks:function(){return h(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+2592e6*(this._months%12)+31536e6*~~(this._months/12)},humanize:function(a){var b=+this,c=F(b,!a,this.lang());return a&&(c=this.lang().pastFuture(b,c)),this.lang().postformat(c)},add:function(a,b){var c=L.duration(a,b);return this._milliseconds+=c._milliseconds,this._days+=c._days,this._months+=c._months,this._bubble(),this},subtract:function(a,b){var c=L.duration(a,b);return this._milliseconds-=c._milliseconds,this._days-=c._days,this._months-=c._months,this._bubble(),this},get:function(a){return a=m(a),this[a.toLowerCase()+"s"]()},as:function(a){return a=m(a),this["as"+a.charAt(0).toUpperCase()+a.slice(1)+"s"]()},lang:L.fn.lang});for(M in hb)hb.hasOwnProperty(M)&&(K(M,hb[M]),J(M.toLowerCase()));K("Weeks",6048e5),L.duration.fn.asMonths=function(){return(+this-31536e6*this.years())/2592e6+12*this.years()},L.lang("en",{ordinal:function(a){var b=a%10,c=1===~~(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+c}}),Q&&(module.exports=L),"undefined"==typeof ender&&(this.moment=L),"function"==typeof define&&define.amd&&define("moment",[],function(){return L})}.call(this),moment.lang("ja",{months:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},meridiem:function(a,b,c){return a>11?c?"pm":"PM":c?"am":"AM"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s",s:"<font color=red></font>",m:"<font color=red>1</font>",mm:"<font color=red>%d</font>",h:"<font color=red>1</font>",hh:"<font color=orange>%d</font>",d:"1",dd:"%d",M:"1",MM:"%d",y:"1",yy:"%d"},ordinal:function(a){var b=a%10;
return 1===~~(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th"}}),function(a,b){var c=1e3,d=!1,e=a([]),f=function(c,d){var f=c.data("livestampdata");"number"==typeof d&&(d*=1e3),c.removeAttr("data-livestamp").removeData("livestamp"),d=b(d),b.isMoment(d)&&!isNaN(+d)&&(f=a.extend({},{original:c.contents()},f),f.moment=b(d),c.data("livestampdata",f).empty(),e.push(c[0]))},g=function(){d||(h.update(),setTimeout(g,c))},h={update:function(){a("[data-livestamp]").each(function(){var b=a(this);f(b,b.data("livestamp"))});var c=[];e.each(function(){var d=a(this),e=d.data("livestampdata");if(void 0===e)c.push(this);else if(b.isMoment(e.moment)){var f=d.html(),e=e.moment.fromNow();if(f!=e){var g=a.Event("change.livestamp");d.trigger(g,[f,e]),g.isDefaultPrevented()||d.html(e)}}}),e=e.not(c)},pause:function(){d=!0},resume:function(){d=!1,g()},interval:function(a){return void 0===a?c:void(c=a)}},i={add:function(c,d){return"number"==typeof d&&(d*=1e3),d=b(d),b.isMoment(d)&&!isNaN(+d)&&(c.each(function(){f(a(this),d)}),h.update()),c},destroy:function(b){return e=e.not(b),b.each(function(){var c=a(this),d=c.data("livestampdata");return void 0===d?b:void c.html(d.original?d.original:"").removeData("livestampdata")}),b},isLivestamp:function(a){return void 0!==a.data("livestampdata")}};a.livestamp=h,a(function(){h.resume()}),a.fn.livestamp=function(a,b){return i[a]||(b=a,a="add"),i[a](this,b)}}(jQuery,moment),__whitespace={" ":!0,"	":!0,"\n":!0,"\f":!0,"\r":!0},difflib={defaultJunkFunction:function(a){return __whitespace.hasOwnProperty(a)},stripLinebreaks:function(a){return a.replace(/^[\n\r]*|[\n\r]*$/g,"")},stringAsLines:function(a){for(var b=a.indexOf("\n"),c=a.indexOf("\r"),d=b>-1&&c>-1||0>c?"\n":"\r",e=a.split(d),f=0;f<e.length;f++)e[f]=difflib.stripLinebreaks(e[f]);return e},__reduce:function(a,b,c){if(null!=c)var d=c,e=0;else{if(!b)return null;var d=b[0],e=1}for(;e<b.length;e++)d=a(d,b[e]);return d},__ntuplecomp:function(a,b){for(var c=Math.max(a.length,b.length),d=0;c>d;d++){if(a[d]<b[d])return-1;if(a[d]>b[d])return 1}return a.length==b.length?0:a.length<b.length?-1:1},__calculate_ratio:function(a,b){return b?2*a/b:1},__isindict:function(a){return function(b){return a.hasOwnProperty(b)}},__dictget:function(a,b,c){return a.hasOwnProperty(b)?a[b]:c},SequenceMatcher:function(a,b,c){this.set_seqs=function(a,b){this.set_seq1(a),this.set_seq2(b)},this.set_seq1=function(a){a!=this.a&&(this.a=a,this.matching_blocks=this.opcodes=null)},this.set_seq2=function(a){a!=this.b&&(this.b=a,this.matching_blocks=this.opcodes=this.fullbcount=null,this.__chain_b())},this.__chain_b=function(){for(var a=this.b,b=a.length,c=this.b2j={},d={},e=0;e<a.length;e++){var f=a[e];if(c.hasOwnProperty(f)){var g=c[f];b>=200&&100*g.length>b?(d[f]=1,delete c[f]):g.push(e)}else c[f]=[e]}for(var f in d)d.hasOwnProperty(f)&&delete c[f];var h=this.isjunk,i={};if(h){for(var f in d)d.hasOwnProperty(f)&&h(f)&&(i[f]=1,delete d[f]);for(var f in c)c.hasOwnProperty(f)&&h(f)&&(i[f]=1,delete c[f])}this.isbjunk=difflib.__isindict(i),this.isbpopular=difflib.__isindict(d)},this.find_longest_match=function(a,b,c,d){for(var e=this.a,f=this.b,g=this.b2j,h=this.isbjunk,i=a,j=c,l=0,m=null,n={},o=[],p=a;b>p;p++){var q={},r=difflib.__dictget(g,e[p],o);for(var s in r)if(r.hasOwnProperty(s)){if(m=r[s],c>m)continue;if(m>=d)break;q[m]=k=difflib.__dictget(n,m-1,0)+1,k>l&&(i=p-k+1,j=m-k+1,l=k)}n=q}for(;i>a&&j>c&&!h(f[j-1])&&e[i-1]==f[j-1];)i--,j--,l++;for(;b>i+l&&d>j+l&&!h(f[j+l])&&e[i+l]==f[j+l];)l++;for(;i>a&&j>c&&h(f[j-1])&&e[i-1]==f[j-1];)i--,j--,l++;for(;b>i+l&&d>j+l&&h(f[j+l])&&e[i+l]==f[j+l];)l++;return[i,j,l]},this.get_matching_blocks=function(){if(null!=this.matching_blocks)return this.matching_blocks;for(var a,b,c,d,e,f,g,h,i,j=this.a.length,k=this.b.length,l=[[0,j,0,k]],m=[];l.length;)e=l.pop(),a=e[0],b=e[1],c=e[2],d=e[3],i=this.find_longest_match(a,b,c,d),f=i[0],g=i[1],h=i[2],h&&(m.push(i),f>a&&g>c&&l.push([a,f,c,g]),b>f+h&&d>g+h&&l.push([f+h,b,g+h,d]));m.sort(difflib.__ntuplecomp);var n=j1=k1=block=0,o=[];for(var p in m)m.hasOwnProperty(p)&&(block=m[p],i2=block[0],j2=block[1],k2=block[2],n+k1==i2&&j1+k1==j2?k1+=k2:(k1&&o.push([n,j1,k1]),n=i2,j1=j2,k1=k2));return k1&&o.push([n,j1,k1]),o.push([j,k,0]),this.matching_blocks=o,this.matching_blocks},this.get_opcodes=function(){if(null!=this.opcodes)return this.opcodes;var a=0,b=0,c=[];this.opcodes=c;var d,e,f,g,h,i=this.get_matching_blocks();for(var j in i)i.hasOwnProperty(j)&&(d=i[j],e=d[0],f=d[1],g=d[2],h="",e>a&&f>b?h="replace":e>a?h="delete":f>b&&(h="insert"),h&&c.push([h,a,e,b,f]),a=e+g,b=f+g,g&&c.push(["equal",e,a,f,b]));return c},this.get_grouped_opcodes=function(a){a||(a=3);var b=this.get_opcodes();b||(b=[["equal",0,1,0,1]]);var c,d,e,f,g,h;"equal"==b[0][0]&&(c=b[0],d=c[0],e=c[1],f=c[2],g=c[3],h=c[4],b[0]=[d,Math.max(e,f-a),f,Math.max(g,h-a),h]),"equal"==b[b.length-1][0]&&(c=b[b.length-1],d=c[0],e=c[1],f=c[2],g=c[3],h=c[4],b[b.length-1]=[d,e,Math.min(f,e+a),g,Math.min(h,g+a)]);var i=a+a,j=[],k=[];for(var l in b)b.hasOwnProperty(l)&&(c=b[l],d=c[0],e=c[1],f=c[2],g=c[3],h=c[4],"equal"==d&&f-e>i&&(j.push([d,e,Math.min(f,e+a),g,Math.min(h,g+a)]),k.push(j),j=[],e=Math.max(e,f-a),g=Math.max(g,h-a)),j.push([d,e,f,g,h]));return!j||1==j.length&&"equal"==j[0][0]||k.push(j),k},this.ratio=function(){return matches=difflib.__reduce(function(a,b){return a+b[b.length-1]},this.get_matching_blocks(),0),difflib.__calculate_ratio(matches,this.a.length+this.b.length)},this.quick_ratio=function(){var a,b;if(null==this.fullbcount){this.fullbcount=a={};for(var c=0;c<this.b.length;c++)b=this.b[c],a[b]=difflib.__dictget(a,b,0)+1}a=this.fullbcount;for(var d={},e=difflib.__isindict(d),f=numb=0,c=0;c<this.a.length;c++)b=this.a[c],numb=e(b)?d[b]:difflib.__dictget(a,b,0),d[b]=numb-1,numb>0&&f++;return difflib.__calculate_ratio(f,this.a.length+this.b.length)},this.real_quick_ratio=function(){var a=this.a.length,b=this.b.length;return _calculate_ratio(Math.min(a,b),a+b)},this.isjunk=c?c:difflib.defaultJunkFunction,this.a=this.b=null,this.set_seqs(a,b)}},diffview={buildView:function(a){function b(a,b){var c=document.createElement(a);return c.className=b,c}function c(a,b){var c=document.createElement(a);return c.appendChild(document.createTextNode(b)),c}function d(a,b,c){var d=document.createElement(a);return d.className=b,d.appendChild(document.createTextNode(c)),d}function e(a,e,f,g,h){return f>e?(a.appendChild(c("th",(e+1).toString())),a.appendChild(d("td",h,g[e].replace(/\t/g,""))),e+1):(a.appendChild(document.createElement("th")),a.appendChild(b("td","empty")),e)}function f(a,b,c,e,f){a.appendChild(d("td",f,e[null!=b?b:c].replace(/\t/g,"")))}var g=a.baseTextLines,h=a.newTextLines,i=a.opcodes,j=a.baseTextName?a.baseTextName:"Base Text",k=a.newTextName?a.newTextName:"New Text",l=a.contextSize,m=0==a.viewType||1==a.viewType?a.viewType:0;if(null==g)throw"Cannot build diff view; baseTextLines is not defined.";if(null==h)throw"Cannot build diff view; newTextLines is not defined.";if(!i)throw"Canno build diff view; opcodes is not defined.";var n=document.createElement("thead"),o=document.createElement("tr");n.appendChild(o),m?o.appendChild(d("th","texttitle",j+" vs. "+k)):(o.appendChild(document.createElement("th")),o.appendChild(d("th","texttitle",j)),o.appendChild(document.createElement("th")),o.appendChild(d("th","texttitle",k))),n=[n];for(var p,q=[],r=0;r<i.length;r++){code=i[r],change=code[0];for(var s=code[1],t=code[2],u=code[3],v=code[4],w=Math.max(t-s,v-u),x=[],y=[],z=0;w>z;z++){if(l&&i.length>1&&(r>0&&z==l||0==r&&0==z)&&"equal"==change){var A=w-(0==r?1:2)*l;if(A>1){if(x.push(o=document.createElement("tr")),s+=A,u+=A,z+=A-1,o.appendChild(c("th","...")),m||o.appendChild(d("td","skip","")),o.appendChild(c("th","...")),o.appendChild(d("td","skip","")),r+1==i.length)break;continue}}x.push(o=document.createElement("tr")),m?"insert"==change?f(o,null,u++,h,change):"replace"==change?(y.push(p=document.createElement("tr")),t>s&&f(o,s++,null,g,"delete"),v>u&&f(p,null,u++,h,"insert")):"delete"==change?f(o,s++,null,g,change):f(o,s++,u++,g,change):(s=e(o,s,t,g,change),u=e(o,u,v,h,change))}for(var z=0;z<x.length;z++)q.push(x[z]);for(var z=0;z<y.length;z++)q.push(y[z])}n.push(o=document.createElement("tbody"));for(var r in q)q.hasOwnProperty(r)&&o.appendChild(q[r]);o=b("table","diff"+(m?" inlinediff":""));for(var r in n)n.hasOwnProperty(r)&&o.appendChild(n[r]);return o}},!function(){var a=function(a){"use strict";function b(a){if(a.paused||a.ended||q)return!1;try{k.clearRect(0,0,i,h),k.drawImage(a,0,0,i,h)}catch(c){}t=setTimeout(b,F.duration,a),E.setIcon(j)}function c(a){var b=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;a=a.replace(b,function(a,b,c,d){return b+b+c+c+d+d});var c=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a);return c?{r:parseInt(c[1],16),g:parseInt(c[2],16),b:parseInt(c[3],16)}:!1}function d(a,b){var c,d={};for(c in a)d[c]=a[c];for(c in b)d[c]=b[c];return d}function e(){return document.hidden||document.msHidden||document.webkitHidden||document.mozHidden}a=a?a:{};var f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u={bgColor:"#d00",textColor:"#fff",fontFamily:"sans-serif",fontStyle:"bold",type:"circle",position:"down",animation:"slide",elementId:!1};r={},r.ff=/firefox/i.test(navigator.userAgent.toLowerCase()),r.chrome=/chrome/i.test(navigator.userAgent.toLowerCase()),r.opera=/opera/i.test(navigator.userAgent.toLowerCase()),r.ie=/msie/i.test(navigator.userAgent.toLowerCase())||/trident/i.test(navigator.userAgent.toLowerCase()),r.supported=r.chrome||r.ff||r.opera;var v=[];p=function(){},m=q=!1;var w=function(){f=d(u,a),f.bgColor=c(f.bgColor),f.textColor=c(f.textColor),f.position=f.position.toLowerCase(),f.animation=F.types[""+f.animation]?f.animation:u.animation;var b=f.position.indexOf("up")>-1,e=f.position.indexOf("left")>-1;if(b||e)for(var m=0;m<F.types[""+f.animation].length;m++){var n=F.types[""+f.animation][m];b&&(n.y=n.y<.6?n.y-.4:n.y-2*n.y+(1-n.w)),e&&(n.x=n.x<.6?n.x-.4:n.x-2*n.x+(1-n.h)),F.types[""+f.animation][m]=n}f.type=y[""+f.type]?f.type:u.type;try{g=E.getIcon(),j=document.createElement("canvas"),l=document.createElement("img"),g.hasAttribute("href")?(l.setAttribute("src",g.getAttribute("href")),l.onload=function(){h=l.height>0?l.height:32,i=l.width>0?l.width:32,j.height=h,j.width=i,k=j.getContext("2d"),x.ready()}):(l.setAttribute("src",""),h=32,i=32,l.height=h,l.width=i,j.height=h,j.width=i,k=j.getContext("2d"),x.ready())}catch(o){throw"Error initializing favico. Message: "+o.message}},x={};x.ready=function(){m=!0,x.reset(),p()},x.reset=function(){m&&(v=[],n=!1,k.clearRect(0,0,i,h),k.drawImage(l,0,0,i,h),E.setIcon(j),window.clearTimeout(s),window.clearTimeout(t))},x.start=function(){if(m&&!o){var a=function(){n=v[0],o=!1,v.length>0&&(v.shift(),x.start())};if(v.length>0){o=!0;var b=function(){["type","animation","bgColor","textColor","fontFamily","fontStyle"].forEach(function(a){a in v[0].options&&(f[a]=v[0].options[a])}),F.run(v[0].options,function(){a()},!1)};n?F.run(n.options,function(){b()},!0):b()}}};var y={},z=function(a){return a.n="number"==typeof a.n?Math.abs(0|a.n):a.n,a.x=i*a.x,a.y=h*a.y,a.w=i*a.w,a.h=h*a.h,a.len=(""+a.n).length,a};y.circle=function(a){a=z(a);var b=!1;2===a.len?(a.x=a.x-.4*a.w,a.w=1.4*a.w,b=!0):a.len>=3&&(a.x=a.x-.65*a.w,a.w=1.65*a.w,b=!0),k.clearRect(0,0,i,h),k.drawImage(l,0,0,i,h),k.beginPath(),k.font=f.fontStyle+" "+Math.floor(a.h*(a.n>99?.85:1))+"px "+f.fontFamily,k.textAlign="center",b?(k.moveTo(a.x+a.w/2,a.y),k.lineTo(a.x+a.w-a.h/2,a.y),k.quadraticCurveTo(a.x+a.w,a.y,a.x+a.w,a.y+a.h/2),k.lineTo(a.x+a.w,a.y+a.h-a.h/2),k.quadraticCurveTo(a.x+a.w,a.y+a.h,a.x+a.w-a.h/2,a.y+a.h),k.lineTo(a.x+a.h/2,a.y+a.h),k.quadraticCurveTo(a.x,a.y+a.h,a.x,a.y+a.h-a.h/2),k.lineTo(a.x,a.y+a.h/2),k.quadraticCurveTo(a.x,a.y,a.x+a.h/2,a.y)):k.arc(a.x+a.w/2,a.y+a.h/2,a.h/2,0,2*Math.PI),k.fillStyle="rgba("+f.bgColor.r+","+f.bgColor.g+","+f.bgColor.b+","+a.o+")",k.fill(),k.closePath(),k.beginPath(),k.stroke(),k.fillStyle="rgba("+f.textColor.r+","+f.textColor.g+","+f.textColor.b+","+a.o+")","number"==typeof a.n&&a.n>999?k.fillText((a.n>9999?9:Math.floor(a.n/1e3))+"k+",Math.floor(a.x+a.w/2),Math.floor(a.y+a.h-.2*a.h)):k.fillText(a.n,Math.floor(a.x+a.w/2),Math.floor(a.y+a.h-.15*a.h)),k.closePath()},y.rectangle=function(a){a=z(a);var b=!1;2===a.len?(a.x=a.x-.4*a.w,a.w=1.4*a.w,b=!0):a.len>=3&&(a.x=a.x-.65*a.w,a.w=1.65*a.w,b=!0),k.clearRect(0,0,i,h),k.drawImage(l,0,0,i,h),k.beginPath(),k.font="bold "+Math.floor(a.h*(a.n>99?.9:1))+"px sans-serif",k.textAlign="center",k.fillStyle="rgba("+f.bgColor.r+","+f.bgColor.g+","+f.bgColor.b+","+a.o+")",k.fillRect(a.x,a.y,a.w,a.h),k.fillStyle="rgba("+f.textColor.r+","+f.textColor.g+","+f.textColor.b+","+a.o+")","number"==typeof a.n&&a.len>3?k.fillText((a.n>9999?9:Math.floor(a.n/1e3))+"k+",Math.floor(a.x+a.w/2),Math.floor(a.y+a.h-.2*a.h)):k.fillText(a.n,Math.floor(a.x+a.w/2),Math.floor(a.y+a.h-.15*a.h)),k.closePath()};var A=function(a,b){b=("string"==typeof b?{animation:b}:b)||{},p=function(){try{if("number"==typeof a?a>0:""!==a){var d={type:"badge",options:{n:a}};if("animation"in b&&F.types[""+b.animation]&&(d.options.animation=""+b.animation),"type"in b&&y[""+b.type]&&(d.options.type=""+b.type),["bgColor","textColor"].forEach(function(a){a in b&&(d.options[a]=c(b[a]))}),["fontStyle","fontFamily"].forEach(function(a){a in b&&(d.options[a]=b[a])}),v.push(d),v.length>100)throw"Too many badges requests in queue.";x.start()}else x.reset()}catch(e){throw"Error setting badge. Message: "+e.message}},m&&p()},B=function(a){p=function(){try{var b=a.width,c=a.height,d=document.createElement("img"),e=c/h>b/i?b/i:c/h;d.setAttribute("src",a.getAttribute("src")),d.height=c/e,d.width=b/e,k.clearRect(0,0,i,h),k.drawImage(d,0,0,i,h),E.setIcon(j)}catch(f){throw"Error setting image. Message: "+f.message}},m&&p()},C=function(a){p=function(){try{if("stop"===a)return q=!0,x.reset(),void(q=!1);a.addEventListener("play",function(){b(this)},!1)}catch(c){throw"Error setting video. Message: "+c.message}},m&&p()},D=function(a){if(window.URL&&window.URL.createObjectURL||(window.URL=window.URL||{},window.URL.createObjectURL=function(a){return a}),r.supported){var c=!1;navigator.getUserMedia=navigator.getUserMedia||navigator.oGetUserMedia||navigator.msGetUserMedia||navigator.mozGetUserMedia||navigator.webkitGetUserMedia,p=function(){try{if("stop"===a)return q=!0,x.reset(),void(q=!1);c=document.createElement("video"),c.width=i,c.height=h,navigator.getUserMedia({video:!0,audio:!1},function(a){c.src=URL.createObjectURL(a),c.play(),b(c)},function(){})}catch(d){throw"Error setting webcam. Message: "+d.message}},m&&p()}},E={};E.getIcon=function(){var a=!1,b="",c=function(){for(var a=document.getElementsByTagName("head")[0].getElementsByTagName("link"),b=a.length,c=b-1;c>=0;c--)if(/(^|\s)icon(\s|$)/i.test(a[c].getAttribute("rel")))return a[c];return!1};if(f.elementId?(a=document.getElementById(f.elementId),a.setAttribute("href",a.getAttribute("src"))):(a=c(),a===!1&&(a=document.createElement("link"),a.setAttribute("rel","icon"),document.getElementsByTagName("head")[0].appendChild(a))),b=f.elementId?a.src:a.href,-1===b.indexOf(document.location.hostname))throw new Error("Error setting favicon. Favicon image is on different domain (Icon: "+b+", Domain: "+document.location.hostname+")");return a.setAttribute("type","image/png"),a},E.setIcon=function(a){var b=a.toDataURL("image/png");if(f.elementId)document.getElementById(f.elementId).setAttribute("src",b);else if(r.ff||r.opera){var c=g;g=document.createElement("link"),r.opera&&g.setAttribute("rel","icon"),g.setAttribute("rel","icon"),g.setAttribute("type","image/png"),document.getElementsByTagName("head")[0].appendChild(g),g.setAttribute("href",b),c.parentNode&&c.parentNode.removeChild(c)}else g.setAttribute("href",b)};var F={};return F.duration=40,F.types={},F.types.fade=[{x:.4,y:.4,w:.6,h:.6,o:0},{x:.4,y:.4,w:.6,h:.6,o:.1},{x:.4,y:.4,w:.6,h:.6,o:.2},{x:.4,y:.4,w:.6,h:.6,o:.3},{x:.4,y:.4,w:.6,h:.6,o:.4},{x:.4,y:.4,w:.6,h:.6,o:.5},{x:.4,y:.4,w:.6,h:.6,o:.6},{x:.4,y:.4,w:.6,h:.6,o:.7},{x:.4,y:.4,w:.6,h:.6,o:.8},{x:.4,y:.4,w:.6,h:.6,o:.9},{x:.4,y:.4,w:.6,h:.6,o:1}],F.types.none=[{x:.4,y:.4,w:.6,h:.6,o:1}],F.types.pop=[{x:1,y:1,w:0,h:0,o:1},{x:.9,y:.9,w:.1,h:.1,o:1},{x:.8,y:.8,w:.2,h:.2,o:1},{x:.7,y:.7,w:.3,h:.3,o:1},{x:.6,y:.6,w:.4,h:.4,o:1},{x:.5,y:.5,w:.5,h:.5,o:1},{x:.4,y:.4,w:.6,h:.6,o:1}],F.types.popFade=[{x:.75,y:.75,w:0,h:0,o:0},{x:.65,y:.65,w:.1,h:.1,o:.2},{x:.6,y:.6,w:.2,h:.2,o:.4},{x:.55,y:.55,w:.3,h:.3,o:.6},{x:.5,y:.5,w:.4,h:.4,o:.8},{x:.45,y:.45,w:.5,h:.5,o:.9},{x:.4,y:.4,w:.6,h:.6,o:1}],F.types.slide=[{x:.4,y:1,w:.6,h:.6,o:1},{x:.4,y:.9,w:.6,h:.6,o:1},{x:.4,y:.9,w:.6,h:.6,o:1},{x:.4,y:.8,w:.6,h:.6,o:1},{x:.4,y:.7,w:.6,h:.6,o:1},{x:.4,y:.6,w:.6,h:.6,o:1},{x:.4,y:.5,w:.6,h:.6,o:1},{x:.4,y:.4,w:.6,h:.6,o:1}],F.run=function(a,b,c,g){var h=F.types[e()?"none":f.animation];return g=c===!0?"undefined"!=typeof g?g:h.length-1:"undefined"!=typeof g?g:0,b=b?b:function(){},g<h.length&&g>=0?(y[f.type](d(a,h[g])),s=setTimeout(function(){c?g-=1:g+=1,F.run(a,b,c,g)},F.duration),void E.setIcon(j)):void b()},w(),{badge:A,video:C,image:B,webcam:D,reset:x.reset}};"undefined"!=typeof define&&define.amd?define([],function(){return a}):"undefined"!=typeof module&&module.exports?module.exports=a:this.Favico=a}(),FaviconNumber.prototype={up:function(){return this.focus_id==$(":focus").attr("id")?(this.off(),!1):(this.newest_count++,this.canUseFavico?this.favicon.badge(this.newest_count):document.title="("+this.newest_count+") "+this.title,!0)},off:function(){this.newest_count=0,this.canUseFavico?this.favicon.badge(this.newest_count):document.title=this.title}},!function(a){var b=function(){function b(a){return" "===a||"	"===a||"\r"===a||"\n"===a||""===a}function c(a,b,c){var d=i.createElement("img");d.setAttribute("title",":"+c+":"),d.setAttribute("class","emoji"),d.setAttribute("src",q.img_dir+"/"+c+".png"),d.setAttribute("align","absmiddle"),a.splitText(b.index),a.nextSibling.nodeValue=a.nextSibling.nodeValue.substr(b[0].length,a.nextSibling.nodeValue.length),d.appendChild(a.splitText(b.index)),a.parentNode.insertBefore(d,a.nextSibling)}function d(a){if(a[1]&&a[2]){var b=a[2];if(l[b])return b}else for(var c=3;c<a.length-1;c++)if(a[c])return n[c-2][1]}function e(a,b){return"<img title=':"+b+":' class='emoji' src='"+q.img_dir+"/"+b+".png' align='absmiddle' />"}function f(){this.lastEmojiTerminatedAt=-1}function g(a,b){if(!a)return a;b||(b=e);var c=new f;return a.replace(p,function(){var a=Array.prototype.slice.call(arguments,0,-2),d=arguments[arguments.length-2],e=arguments[arguments.length-1],f=c.validate(a,d,e);return f?b(arguments[0],f):arguments[0]})}function h(a){"undefined"==typeof a&&(a=q.only_crawl_id?i.getElementById(q.only_crawl_id):i.body);for(var b,e=q.ignored_tags,g=i.createTreeWalker(a,NodeFilter.SHOW_TEXT|NodeFilter.SHOW_ELEMENT,function(a){return 1!==a.nodeType?NodeFilter.FILTER_ACCEPT:e[a.tagName]||a.classList.contains("no-emojify")?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_SKIP},!1),h=[];null!==(b=g.nextNode());)h.push(b);h.forEach(function(a){for(var b,e=[],g=new f;null!==(b=p.exec(a.data));)g.validate(b,b.index,b.input)&&e.push(b);for(var h=e.length;h-->0;){var i=d(e[h]);c(a,e[h],i)}})}var i=a.window.document,j="+1,-1,100,109,1234,8ball,a,ab,abc,abcd,accept,aerial_tramway,airplane,alarm_clock,alien,ambulance,anchor,angel,anger,angry,anguished,ant,apple,aquarius,aries,arrow_backward,arrow_double_down,arrow_double_up,arrow_down,arrow_down_small,arrow_forward,arrow_heading_down,arrow_heading_up,arrow_left,arrow_lower_left,arrow_lower_right,arrow_right,arrow_right_hook,arrow_up,arrow_up_down,arrow_up_small,arrow_upper_left,arrow_upper_right,arrows_clockwise,arrows_counterclockwise,art,articulated_lorry,astonished,atm,b,baby,baby_bottle,baby_chick,baby_symbol,baggage_claim,balloon,ballot_box_with_check,bamboo,banana,bangbang,bank,bar_chart,barber,baseball,basketball,bath,bathtub,battery,bear,bee,beer,beers,beetle,beginner,bell,bento,bicyclist,bike,bikini,bird,birthday,black_circle,black_joker,black_nib,black_square,black_square_button,blossom,blowfish,blue_book,blue_car,blue_heart,blush,boar,boat,bomb,book,bookmark,bookmark_tabs,books,boom,boot,bouquet,bow,bowling,bowtie,boy,bread,bride_with_veil,bridge_at_night,briefcase,broken_heart,bug,bulb,bullettrain_front,bullettrain_side,bus,busstop,bust_in_silhouette,busts_in_silhouette,cactus,cake,calendar,calling,camel,camera,cancer,candy,capital_abcd,capricorn,car,card_index,carousel_horse,cat,cat2,cd,chart,chart_with_downwards_trend,chart_with_upwards_trend,checkered_flag,cherries,cherry_blossom,chestnut,chicken,children_crossing,chocolate_bar,christmas_tree,church,cinema,circus_tent,city_sunrise,city_sunset,cl,clap,clapper,clipboard,clock1,clock10,clock1030,clock11,clock1130,clock12,clock1230,clock130,clock2,clock230,clock3,clock330,clock4,clock430,clock5,clock530,clock6,clock630,clock7,clock730,clock8,clock830,clock9,clock930,closed_book,closed_lock_with_key,closed_umbrella,cloud,clubs,cn,cocktail,coffee,cold_sweat,collision,computer,confetti_ball,confounded,confused,congratulations,construction,construction_worker,convenience_store,cookie,cool,cop,copyright,corn,couple,couple_with_heart,couplekiss,cow,cow2,credit_card,crocodile,crossed_flags,crown,cry,crying_cat_face,crystal_ball,cupid,curly_loop,currency_exchange,curry,custard,customs,cyclone,dancer,dancers,dango,dart,dash,date,de,deciduous_tree,department_store,diamond_shape_with_a_dot_inside,diamonds,disappointed,disappointed_relieved,dizzy,dizzy_face,do_not_litter,dog,dog2,dollar,dolls,dolphin,donut,door,doughnut,dragon,dragon_face,dress,dromedary_camel,droplet,dvd,e-mail,ear,ear_of_rice,earth_africa,earth_americas,earth_asia,egg,eggplant,eight,eight_pointed_black_star,eight_spoked_asterisk,electric_plug,elephant,email,end,envelope,es,euro,european_castle,european_post_office,evergreen_tree,exclamation,expressionless,eyeglasses,eyes,facepunch,factory,fallen_leaf,family,fast_forward,fax,fearful,feelsgood,feet,ferris_wheel,file_folder,finnadie,fire,fire_engine,fireworks,first_quarter_moon,first_quarter_moon_with_face,fish,fish_cake,fishing_pole_and_fish,fist,five,flags,flashlight,floppy_disk,flower_playing_cards,flushed,foggy,football,fork_and_knife,fountain,four,four_leaf_clover,fr,free,fried_shrimp,fries,frog,frowning,fu,fuelpump,full_moon,full_moon_with_face,game_die,gb,gem,gemini,ghost,gift,gift_heart,girl,globe_with_meridians,goat,goberserk,godmode,golf,grapes,green_apple,green_book,green_heart,grey_exclamation,grey_question,grimacing,grin,grinning,guardsman,guitar,gun,haircut,hamburger,hammer,hamster,hand,handbag,hankey,hash,hatched_chick,hatching_chick,headphones,hear_no_evil,heart,heart_decoration,heart_eyes,heart_eyes_cat,heartbeat,heartpulse,hearts,heavy_check_mark,heavy_division_sign,heavy_dollar_sign,heavy_exclamation_mark,heavy_minus_sign,heavy_multiplication_x,heavy_plus_sign,helicopter,herb,hibiscus,high_brightness,high_heel,hocho,honey_pot,honeybee,horse,horse_racing,hospital,hotel,hotsprings,hourglass,hourglass_flowing_sand,house,house_with_garden,hurtrealbad,hushed,ice_cream,icecream,id,ideograph_advantage,imp,inbox_tray,incoming_envelope,information_desk_person,information_source,innocent,interrobang,iphone,it,izakaya_lantern,jack_o_lantern,japan,japanese_castle,japanese_goblin,japanese_ogre,jeans,joy,joy_cat,jp,key,keycap_ten,kimono,kiss,kissing,kissing_cat,kissing_closed_eyes,kissing_face,kissing_heart,kissing_smiling_eyes,koala,koko,kr,large_blue_circle,large_blue_diamond,large_orange_diamond,last_quarter_moon,last_quarter_moon_with_face,laughing,leaves,ledger,left_luggage,left_right_arrow,leftwards_arrow_with_hook,lemon,leo,leopard,libra,light_rail,link,lips,lipstick,lock,lock_with_ink_pen,lollipop,loop,loudspeaker,love_hotel,love_letter,low_brightness,m,mag,mag_right,mahjong,mailbox,mailbox_closed,mailbox_with_mail,mailbox_with_no_mail,man,man_with_gua_pi_mao,man_with_turban,mans_shoe,maple_leaf,mask,massage,meat_on_bone,mega,melon,memo,mens,metal,metro,microphone,microscope,milky_way,minibus,minidisc,mobile_phone_off,money_with_wings,moneybag,monkey,monkey_face,monorail,moon,mortar_board,mount_fuji,mountain_bicyclist,mountain_cableway,mountain_railway,mouse,mouse2,movie_camera,moyai,muscle,mushroom,musical_keyboard,musical_note,musical_score,mute,nail_care,name_badge,neckbeard,necktie,negative_squared_cross_mark,neutral_face,new,new_moon,new_moon_with_face,newspaper,ng,nine,no_bell,no_bicycles,no_entry,no_entry_sign,no_good,no_mobile_phones,no_mouth,no_pedestrians,no_smoking,non-potable_water,nose,notebook,notebook_with_decorative_cover,notes,nut_and_bolt,o,o2,ocean,octocat,octopus,oden,office,ok,ok_hand,ok_woman,older_man,older_woman,on,oncoming_automobile,oncoming_bus,oncoming_police_car,oncoming_taxi,one,open_file_folder,open_hands,open_mouth,ophiuchus,orange_book,outbox_tray,ox,page_facing_up,page_with_curl,pager,palm_tree,panda_face,paperclip,parking,part_alternation_mark,partly_sunny,passport_control,paw_prints,peach,pear,pencil,pencil2,penguin,pensive,performing_arts,persevere,person_frowning,person_with_blond_hair,person_with_pouting_face,phone,pig,pig2,pig_nose,pill,pineapple,pisces,pizza,plus1,point_down,point_left,point_right,point_up,point_up_2,police_car,poodle,poop,post_office,postal_horn,postbox,potable_water,pouch,poultry_leg,pound,pouting_cat,pray,princess,punch,purple_heart,purse,pushpin,put_litter_in_its_place,question,rabbit,rabbit2,racehorse,radio,radio_button,rage,rage1,rage2,rage3,rage4,railway_car,rainbow,raised_hand,raised_hands,raising_hand,ram,ramen,rat,recycle,red_car,red_circle,registered,relaxed,relieved,repeat,repeat_one,restroom,revolving_hearts,rewind,ribbon,rice,rice_ball,rice_cracker,rice_scene,ring,rocket,roller_coaster,rooster,rose,rotating_light,round_pushpin,rowboat,ru,rugby_football,runner,running,running_shirt_with_sash,sa,sagittarius,sailboat,sake,sandal,santa,satellite,satisfied,saxophone,school,school_satchel,scissors,scorpius,scream,scream_cat,scroll,seat,secret,see_no_evil,seedling,seven,shaved_ice,sheep,shell,ship,shipit,shirt,shit,shoe,shower,signal_strength,six,six_pointed_star,ski,skull,sleeping,sleepy,slot_machine,small_blue_diamond,small_orange_diamond,small_red_triangle,small_red_triangle_down,smile,smile_cat,smiley,smiley_cat,smiling_imp,smirk,smirk_cat,smoking,snail,snake,snowboarder,snowflake,snowman,sob,soccer,soon,sos,sound,space_invader,spades,spaghetti,sparkler,sparkles,sparkling_heart,speak_no_evil,speaker,speech_balloon,speedboat,squirrel,star,star2,stars,station,statue_of_liberty,steam_locomotive,stew,straight_ruler,strawberry,stuck_out_tongue,stuck_out_tongue_closed_eyes,stuck_out_tongue_winking_eye,sun_with_face,sunflower,sunglasses,sunny,sunrise,sunrise_over_mountains,surfer,sushi,suspect,suspension_railway,sweat,sweat_drops,sweat_smile,sweet_potato,swimmer,symbols,syringe,tada,tanabata_tree,tangerine,taurus,taxi,tea,telephone,telephone_receiver,telescope,tennis,tent,thought_balloon,three,thumbsdown,thumbsup,ticket,tiger,tiger2,tired_face,tm,toilet,tokyo_tower,tomato,tongue,top,tophat,tractor,traffic_light,train,train2,tram,triangular_flag_on_post,triangular_ruler,trident,triumph,trolleybus,trollface,trophy,tropical_drink,tropical_fish,truck,trumpet,tshirt,tulip,turtle,tv,twisted_rightwards_arrows,two,two_hearts,two_men_holding_hands,two_women_holding_hands,u5272,u5408,u55b6,u6307,u6708,u6709,u6e80,u7121,u7533,u7981,u7a7a,uk,umbrella,unamused,underage,unlock,up,us,v,vertical_traffic_light,vhs,vibration_mode,video_camera,video_game,violin,virgo,volcano,vs,walking,waning_crescent_moon,waning_gibbous_moon,warning,watch,water_buffalo,watermelon,wave,wavy_dash,waxing_crescent_moon,waxing_gibbous_moon,wc,weary,wedding,whale,whale2,wheelchair,white_check_mark,white_circle,white_flower,white_square,white_square_button,wind_chime,wine_glass,wink,wink2,wolf,woman,womans_clothes,womans_hat,womens,worried,wrench,x,yellow_heart,yen,yum,zap,zero,zzz",k=j.split(/,/),l=k.reduce(function(a,b){return a[b]=!0,a},{}),m={named:/:([a-z0-9A-Z_-]+):/,blush:/:-?\)/g,scream:/:-o/gi,smirk:/[:;]-?]/g,smiley:/[:;]-?d/gi,stuck_out_tongue_closed_eyes:/x-d/gi,stuck_out_tongue_winking_eye:/[:;]-?p/gi,rage:/:-?[\[@]/g,disappointed:/:-?\(/g,sob:/:[']-?\(|:&#x27;\(/g,kissing_heart:/:-?\*/g,wink:/;-?\)/g,pensive:/:-?\//g,confounded:/:-?s/gi,flushed:/:-?\|/g,relaxed:/:-?\$/g,mask:/:-x/gi,heart:/<3|&lt;3/g,broken_heart:/<\/3|&lt;&#x2F;3/g,thumbsup:/:\+1:/g,thumbsdown:/:\-1:/g},n=Object.keys(m).map(function(a){return[m[a],a]}),o=n.map(function(a){var b=a[0],c=b.source||b;return c=c.replace(/(^|[^\[])\^/g,"$1"),"("+c+")"}).join("|"),p=new RegExp(o,"gi"),q={emojify_tag_type:"div",only_crawl_id:null,img_dir:"images/emoji",ignored_tags:{SCRIPT:1,TEXTAREA:1,A:1,PRE:1,CODE:1}};return f.prototype={validate:function(a,c,e){function f(){return g.lastEmojiTerminatedAt=j+c,h}var g=this,h=d(a);if(h){var i=a[0],j=i.length;return i.length>2?f():0===c?f():e.length===i.length+c?f():b(e.charAt(c-1))?f():b(e.charAt(i.length+c))?f():this.lastEmojiTerminatedAt===c?f():void 0}}},{defaultConfig:q,emojiNames:k,setConfig:function(a){Object.keys(q).forEach(function(b){b in a&&(q[b]=a[b])})},replace:g,run:h}}();return a.emojify=b,"function"==typeof define&&define.amd&&define([],function(){return b}),b}(this);var emojies=["blush","scream","smirk","smiley","stuck_out_tongue_closed_eyes","stuck_out_tongue_winking_eye","rage","disappointed","sob","kissing_heart","wink","pensive","confounded","flushed","relaxed","mask","heart","broken_heart","sunny","umbrella","cloud","snowflake","snowman","zap","cyclone","foggy","ocean","cat","dog","mouse","hamster","rabbit","wolf","frog","tiger","koala","bear","pig","pig_nose","cow","boar","monkey_face","monkey","horse","racehorse","camel","sheep","elephant","panda_face","snake","bird","baby_chick","hatched_chick","hatching_chick","chicken","penguin","turtle","bug","honeybee","ant","beetle","snail","octopus","tropical_fish","fish","whale","whale2","dolphin","cow2","ram","rat","water_buffalo","tiger2","rabbit2","dragon","goat","rooster","dog2","pig2","mouse2","ox","dragon_face","blowfish","crocodile","dromedary_camel","leopard","cat2","poodle","paw_prints","bouquet","cherry_blossom","tulip","four_leaf_clover","rose","sunflower","hibiscus","maple_leaf","leaves","fallen_leaf","herb","mushroom","cactus","palm_tree","evergreen_tree","deciduous_tree","chestnut","seedling","blossom","ear_of_rice","shell","globe_with_meridians","sun_with_face","full_moon_with_face","new_moon_with_face","new_moon","waxing_crescent_moon","first_quarter_moon","waxing_gibbous_moon","full_moon","waning_gibbous_moon","last_quarter_moon","waning_crescent_moon","last_quarter_moon_with_face","first_quarter_moon_with_face","moon","earth_africa","earth_americas","earth_asia","volcano","milky_way","partly_sunny","octocat","squirrel","bamboo","gift_heart","dolls","school_satchel","mortar_board","flags","fireworks","sparkler","wind_chime","rice_scene","jack_o_lantern","ghost","santa","christmas_tree","gift","bell","no_bell","tanabata_tree","tada","confetti_ball","balloon","crystal_ball","cd","dvd","floppy_disk","camera","video_camera","movie_camera","computer","tv","iphone","phone","telephone","telephone_receiver","pager","fax","minidisc","vhs","sound","speaker","mute","loudspeaker","mega","hourglass","hourglass_flowing_sand","alarm_clock","watch","radio","satellite","loop","mag","mag_right","unlock","lock","lock_with_ink_pen","closed_lock_with_key","key","bulb","flashlight","high_brightness","low_brightness","electric_plug","battery","calling","email","mailbox","postbox","bath","bathtub","shower","toilet","wrench","nut_and_bolt","hammer","seat","moneybag","yen","dollar","pound","euro","credit_card","money_with_wings","e-mail","inbox_tray","outbox_tray","envelope","incoming_envelope","postal_horn","mailbox_closed","mailbox_with_mail","mailbox_with_no_mail","door","smoking","bomb","gun","hocho","pill","syringe","page_facing_up","page_with_curl","bookmark_tabs","bar_chart","chart_with_upwards_trend","chart_with_downwards_trend","scroll","clipboard","calendar","date","card_index","file_folder","open_file_folder","scissors","pushpin","paperclip","black_nib","pencil2","straight_ruler","triangular_ruler","closed_book","green_book","blue_book","orange_book","notebook","notebook_with_decorative_cover","ledger","books","bookmark","name_badge","microscope","telescope","newspaper","football","basketball","soccer","baseball","tennis","8ball","rugby_football","bowling","golf","mountain_bicyclist","bicyclist","horse_racing","snowboarder","swimmer","surfer","ski","spades","hearts","clubs","diamonds","gem","ring","trophy","musical_score","musical_keyboard","violin","space_invader","video_game","black_joker","flower_playing_cards","game_die","dart","mahjong","clapper","memo","pencil","book","art","microphone","headphones","trumpet","saxophone","guitar","shoe","sandal","high_heel","lipstick","boot","shirt","tshirt","necktie","womans_clothes","dress","running_shirt_with_sash","jeans","kimono","bikini","ribbon","tophat","crown","womans_hat","mans_shoe","closed_umbrella","briefcase","handbag","pouch","purse","eyeglasses","fishing_pole_and_fish","coffee","tea","sake","baby_bottle","beer","beers","cocktail","tropical_drink","wine_glass","fork_and_knife","pizza","hamburger","fries","poultry_leg","meat_on_bone","spaghetti","curry","fried_shrimp","bento","sushi","fish_cake","rice_ball","rice_cracker","rice","ramen","stew","oden","dango","egg","bread","doughnut","custard","icecream","ice_cream","shaved_ice","birthday","cake","cookie","chocolate_bar","candy","lollipop","honey_pot","apple","green_apple","tangerine","lemon","cherries","grapes","watermelon","strawberry","peach","melon","banana","pear","pineapple","sweet_potato","eggplant","tomato","corn","alien","angel","anger","angry","anguished","astonished","baby","blue_heart","blush","boom","bow","bowtie","boy","bride_with_veil","broken_heart","bust_in_silhouette","busts_in_silhouette","clap","cold_sweat","collision","confounded","confused","construction_worker","cop","couple_with_heart","couple","couplekiss","cry","crying_cat_face","cupid","dancer","dancers","dash","disappointed","dizzy_face","dizzy","droplet","ear","exclamation","expressionless","eyes","facepunch","family","fearful","feelsgood","feet","finnadie","fire","fist","flushed","frowning","girl","goberserk","godmode","green_heart","grey_exclamation","grey_question","grimacing","grin","grinning","guardsman","haircut","hand","hankey","hear_no_evil","heart_eyes_cat","heart_eyes","heart","heartbeat","heartpulse","hurtrealbad","hushed","imp","information_desk_person","innocent","japanese_goblin","japanese_ogre","joy_cat","joy","kiss","kissing_cat","kissing_closed_eyes","kissing_heart","kissing_smiling_eyes","kissing","laughing","lips","love_letter","man_with_gua_pi_mao","man_with_turban","man","mask","massage","metal","muscle","musical_note","nail_care","neckbeard","neutral_face","no_good","no_mouth","nose","notes","ok_hand","ok_woman","older_man","older_woman","open_hands","open_mouth","pensive","persevere","person_frowning","person_with_blond_hair","person_with_pouting_face","point_down","point_left","point_right","point_up_2","point_up","poop","pouting_cat","pray","princess","punch","purple_heart","question","rage","rage1","rage2","rage3","rage4","raised_hand","raised_hands","relaxed","relieved","revolving_hearts","runner","running","satisfied","scream_cat","scream","see_no_evil","shit","skull","sleeping","sleepy","smile_cat","smile","smiley_cat","smiley","smiling_imp","smirk_cat","smirk","sob","sparkling_heart","sparkles","speak_no_evil","speech_balloon","star","star2","stuck_out_tongue_closed_eyes","stuck_out_tongue_winking_eye","stuck_out_tongue","sunglasses","suspect","sweat_drops","sweat_smile","sweat","thought_balloon","-1","thumbsdown","thumbsup","+1","tired_face","tongue","triumph","trollface","two_hearts","two_men_holding_hands","two_women_holding_hands","unamused","v","walking","wave","weary","wink2","wink","woman","worried","yellow_heart","yum","zzz","109","house","house_with_garden","school","office","post_office","hospital","bank","convenience_store","love_hotel","hotel","wedding","church","department_store","european_post_office","city_sunrise","city_sunset","japanese_castle","european_castle","tent","factory","tokyo_tower","japan","mount_fuji","sunrise_over_mountains","sunrise","stars","statue_of_liberty","bridge_at_night","carousel_horse","rainbow","ferris_wheel","fountain","roller_coaster","ship","speedboat","boat","sailboat","rowboat","anchor","rocket","airplane","helicopter","steam_locomotive","tram","mountain_railway","bike","aerial_tramway","suspension_railway","mountain_cableway","tractor","blue_car","oncoming_automobile","car","red_car","taxi","oncoming_taxi","articulated_lorry","bus","oncoming_bus","rotating_light","police_car","oncoming_police_car","fire_engine","ambulance","minibus","truck","train","station","train2","bullettrain_front","bullettrain_side","light_rail","monorail","railway_car","trolleybus","ticket","fuelpump","vertical_traffic_light","traffic_light","warning","construction","beginner","atm","slot_machine","busstop","barber","hotsprings","checkered_flag","crossed_flags","izakaya_lantern","moyai","circus_tent","performing_arts","round_pushpin","triangular_flag_on_post","jp","kr","cn","us","fr","es","it","ru","gb","uk","de","100","1234","one","two","three","four","five","six","seven","eight","nine","keycap_ten","zero","hash","symbols","arrow_backward","arrow_down","arrow_forward","arrow_left","capital_abcd","abcd","abc","arrow_lower_left","arrow_lower_right","arrow_right","arrow_up","arrow_upper_left","arrow_upper_right","arrow_double_down","arrow_double_up","arrow_down_small","arrow_heading_down","arrow_heading_up","leftwards_arrow_with_hook","arrow_right_hook","left_right_arrow","arrow_up_down","arrow_up_small","arrows_clockwise","arrows_counterclockwise","rewind","fast_forward","information_source","ok","twisted_rightwards_arrows","repeat","repeat_one","new","top","up","cool","free","ng","cinema","koko","signal_strength","u5272","u5408","u55b6","u6307","u6708","u6709","u6e80","u7121","u7533","u7a7a","u7981","sa","restroom","mens","womens","baby_symbol","no_smoking","parking","wheelchair","metro","baggage_claim","accept","wc","potable_water","put_litter_in_its_place","secret","congratulations","m","passport_control","left_luggage","customs","ideograph_advantage","cl","sos","id","no_entry_sign","underage","no_mobile_phones","do_not_litter","non-potable_water","no_bicycles","no_pedestrians","children_crossing","no_entry","eight_spoked_asterisk","eight_pointed_black_star","heart_decoration","vs","vibration_mode","mobile_phone_off","chart","currency_exchange","aries","taurus","gemini","cancer","leo","virgo","libra","scorpius","sagittarius","capricorn","aquarius","pisces","ophiuchus","six_pointed_star","negative_squared_cross_mark","a","b","ab","o2","diamond_shape_with_a_dot_inside","recycle","end","on","soon","clock1","clock130","clock10","clock1030","clock11","clock1130","clock12","clock1230","clock2","clock230","clock3","clock330","clock4","clock430","clock5","clock530","clock6","clock630","clock7","clock730","clock8","clock830","clock9","clock930","heavy_dollar_sign","copyright","registered","tm","x","heavy_exclamation_mark","bangbang","interrobang","o","heavy_multiplication_x","heavy_plus_sign","heavy_minus_sign","heavy_division_sign","white_flower","heavy_check_mark","ballot_box_with_check","radio_button","link","curly_loop","wavy_dash","part_alternation_mark","trident","black_square","white_square","white_check_mark","black_square_button","white_square_button","black_circle","white_circle","red_circle","large_blue_circle","large_blue_diamond","large_orange_diamond","small_blue_diamond","small_orange_diamond","small_red_triangle","small_red_triangle_down","shipit"];
!function(a){"use strict";var b=function(a){var b,d;return b=function(){d=!1},function(){var e;d||(d=!0,e=c(arguments),e.unshift(b),a.apply(this,e))}},c=function(a){var b;return b=Array.prototype.slice.call(a)},d=function(){var b;return b=a("<div></div>").css(["color"]).color,"undefined"!=typeof b?function(a,b){return a.css(b)}:function(b,c){var d;return d={},a.each(c,function(a,c){d[c]=b.css(c)}),d}}(),e=function(a){return a},f=function(a){var b={};return function(c,d){b[c]?d(b[c]):a.call(this,c,function(a){b[c]=(b[c]||[]).concat(a),d.apply(null,arguments)})}},g=function(a,b){var c,d;if(a.indexOf)return-1!=a.indexOf(b);for(c=0,d=a.length;d>c;c++)if(a[c]===b)return!0;return!1},h=function(){function c(b){var c;this.el=b.get(0),c=this.el===document.activeElement,this.$el=k(b),this.id="textComplete"+j++,this.strategies=[],c?(this.initialize(),this.$el.focus()):this.$el.one("focus.textComplete",a.proxy(this.initialize,this))}var e,f,g,h,j;e={wrapper:'<div class="textcomplete-wrapper"></div>',list:'<ul class="dropdown-menu"></ul>'},f={wrapper:{position:"relative"},list:{position:"absolute",top:0,left:0,zIndex:"100",display:"none"}},g=a(e.wrapper).css(f.wrapper),h=a(e.list).css(f.list),j=0,a.extend(c.prototype,{initialize:function(){var b,c;b=h.clone(),this.listView=new i(b,this),this.$el.before(b).on({"keyup.textComplete":a.proxy(this.onKeyup,this),"keydown.textComplete":a.proxy(this.listView.onKeydown,this.listView)}),c={},c["click."+this.id]=a.proxy(this.onClickDocument,this),c["keyup."+this.id]=a.proxy(this.onKeyupDocument,this),a(document).on(c)},register:function(a){this.strategies=this.strategies.concat(a)},renderList:function(a){this.clearAtNext&&(this.listView.clear(),this.clearAtNext=!1),a.length&&(this.listView.shown||(this.listView.setPosition(this.getCaretPosition()).clear().activate(),this.listView.strategy=this.strategy),a=a.slice(0,this.strategy.maxCount),this.listView.render(a)),!this.listView.data.length&&this.listView.shown&&this.listView.deactivate()},searchCallbackFactory:function(a){var b=this;return function(c,d){b.renderList(c),d||(a(),b.clearAtNext=!0)}},onKeyup:function(a){var b,c;if(!this.skipSearch(a))if(b=this.extractSearchQuery(this.getTextFromHeadToCaret()),b.length){if(c=b[1],this.term===c)return;this.term=c,this.search(b)}else this.term=null,this.listView.deactivate()},skipSearch:function(a){if(this.skipNextKeyup)return this.skipNextKeyup=!1,!0;switch(a.keyCode){case 40:case 38:return!0}},onSelect:function(b){var c,d,e;c=this.getTextFromHeadToCaret(),d=this.el.value.substring(this.el.selectionEnd),e=this.strategy.replace(b),a.isArray(e)&&(d=e[1]+d,e=e[0]),c=c.replace(this.strategy.match,e),this.$el.val(c+d).trigger("change").trigger("textComplete:select",b),this.el.focus(),this.el.selectionStart=this.el.selectionEnd=c.length,this.skipNextKeyup=!0},onClickDocument:function(a){a.originalEvent&&!a.originalEvent.keepTextCompleteDropdown&&this.listView.deactivate()},onKeyupDocument:function(a){this.listView.shown&&27===a.keyCode&&(this.listView.deactivate(),this.$el.focus())},destroy:function(){var b;this.$el.off(".textComplete"),a(document).off("."+this.id),this.listView&&this.listView.destroy(),b=this.$el.parent(),b.after(this.$el).remove(),this.$el.data("textComplete",void 0),this.$el=null},getCaretPosition:function(){if(0!==this.el.selectionEnd){var b,c,e,f,g,h;return h=this.$el.attr("dir")||this.$el.css("direction"),b=["border-width","font-family","font-size","font-style","font-variant","font-weight","height","letter-spacing","word-spacing","line-height","text-decoration","text-align","width","padding-top","padding-right","padding-bottom","padding-left","margin-top","margin-right","margin-bottom","margin-left"],c=a.extend({position:"absolute",overflow:"auto","white-space":"pre-wrap",top:0,left:-9999,direction:h},d(this.$el,b)),e=a("<div></div>").css(c).text(this.getTextFromHeadToCaret()),f=a("<span></span>").text(".").appendTo(e),this.$el.before(e),g=f.position(),g.top+=f.height()-this.$el.scrollTop(),"rtl"===h&&(g.left-=this.listView.$el.width()),e.remove(),g}},getTextFromHeadToCaret:function(){var a,b,c;return b=this.el.selectionEnd,"number"==typeof b?a=this.el.value.substring(0,b):document.selection&&(c=this.el.createTextRange(),c.moveStart("character",0),c.moveEnd("textedit"),a=c.text),a},extractSearchQuery:function(a){var b,c,d,e;for(b=0,c=this.strategies.length;c>b;b++)if(d=this.strategies[b],e=a.match(d.match))return[d,e[d.index]];return[]},search:b(function(a,b){var c;this.strategy=b[0],c=b[1],this.strategy.search(c,this.searchCallbackFactory(a))})});var k=function(a){return a.wrap(g.clone().css("display",a.css("display")))};return c}(),i=function(){function b(b,c){this.data=[],this.$el=b,this.index=0,this.completer=c,this.$el.on("click.textComplete","li.textcomplete-item",a.proxy(this.onClick,this))}return a.extend(b.prototype,{shown:!1,render:function(a){var b,c,d,e,f;for(b="",c=0,d=a.length;d>c&&(f=a[c],g(this.data,f)||(e=this.data.length,this.data.push(f),b+='<li class="textcomplete-item" data-index="'+e+'"><a>',b+=this.strategy.template(f),b+="</a></li>",this.data.length!==this.strategy.maxCount));c++);this.$el.append(b),this.data.length?this.activateIndexedItem():this.deactivate()},clear:function(){return this.data=[],this.$el.html(""),this.index=0,this},activateIndexedItem:function(){this.$el.find(".active").removeClass("active"),this.getActiveItem().addClass("active")},getActiveItem:function(){return a(this.$el.children().get(this.index))},activate:function(){return this.shown||(this.$el.show(),this.completer.$el.trigger("textComplete:show"),this.shown=!0),this},deactivate:function(){return this.shown&&(this.$el.hide(),this.completer.$el.trigger("textComplete:hide"),this.shown=!1,this.data=[],this.index=null),this},setPosition:function(a){return this.$el.css(a),this},select:function(a){var b=this;this.completer.onSelect(this.data[a]),setTimeout(function(){b.deactivate()},0)},onKeydown:function(a){this.shown&&(38===a.keyCode?(a.preventDefault(),0===this.index?this.index=this.data.length-1:this.index-=1,this.activateIndexedItem()):40===a.keyCode?(a.preventDefault(),this.index===this.data.length-1?this.index=0:this.index+=1,this.activateIndexedItem()):(13===a.keyCode||9===a.keyCode)&&(a.preventDefault(),this.select(parseInt(this.getActiveItem().data("index"),10))))},onClick:function(b){var c=a(b.target);b.originalEvent.keepTextCompleteDropdown=!0,c.hasClass("textcomplete-item")||(c=c.parents("li.textcomplete-item")),this.select(parseInt(c.data("index"),10))},destroy:function(){this.deactivate(),this.$el.off("click.textComplete").remove(),this.$el=null}}),b}();a.fn.textcomplete=function(b){var c,d,g,i;if(i="textComplete","destroy"===b)return this.each(function(){var b=a(this).data(i);b&&b.destroy()});for(c=0,d=b.length;d>c;c++)g=b[c],g.template||(g.template=e),null==g.index&&(g.index=2),g.cache&&(g.search=f(g.search)),g.maxCount||(g.maxCount=10);return this.each(function(){var c,d;c=a(this),d=c.data(i),d||(d=new h(c),c.data(i,d)),d.register(b)})}}(window.jQuery||window.Zepto),function(a){if(!a.ionSound){var b,c,d,e,f={},g={},h=!1,i=function(b){var e,h;-1!==b.indexOf(":")?(e=b.split(":")[0],h=b.split(":")[1]):e=b,g[e]=new Audio,c=g[e].canPlayType("audio/mp3"),d="probably"===c||"maybe"===c?f.path+e+".mp3":f.path+e+".ogg",a(g[e]).prop("src",d),g[e].load(),g[e].preload="auto",g[e].volume=h||f.volume},j=function(a){var b,c,d,e;if(-1!==a.indexOf(":")?(c=a.split(":")[0],d=a.split(":")[1]):c=a,b=g[c],"object"==typeof b&&null!==b)if(d&&(b.volume=d),f.multiPlay||h){if(f.multiPlay){if(!b.ended)try{b.currentTime=0}catch(i){}b.play()}}else b.play(),h=!0,e=setInterval(function(){b.ended&&(clearInterval(e),h=!1)},250)};a.ionSound=function(c){if(f=a.extend({sounds:["water_droplet"],path:"static/sounds/",multiPlay:!0,volume:"0.5"},c),b=f.sounds.length,"function"==typeof Audio||"object"==typeof Audio)for(e=0;b>e;e+=1)i(f.sounds[e]);a.ionSound.play=function(a){j(a)},a.ionSound.stop=function(a){if(a=g[a],"object"==typeof a&&null!==a){a.pause();try{a.currentTime=0}catch(b){}}},a.ionSound.kill=function(a){var b=g[a];if("object"==typeof b&&null!==b){try{g[a].src=""}catch(c){}g[a]=null}}},a.ionSound.destroy=function(){for(e=0;b>e;e+=1)g[f.sounds[e]]=null;b=0,a.ionSound.play=function(){},a.ionSound.stop=function(){},a.ionSound.kill=function(){}}}}(jQuery),DropZone.prototype={drop_file_action:function(a,b){var c=this;return function(d){var e=this,f=d.originalEvent.dataTransfer.files[0];return c.upload_file_with_ajax(e,f,a,b),!1}},select_file_action:function(a,b){var c=this;return function(){var d=this,e=$(d).prop("files")[0];return c.upload_file_with_ajax(d,e,a,b),!1}},paste_file_action:function(a,b){var c=this;return function(d){for(var e=this,f=d.originalEvent.clipboardData.items,g=0;g<f.length;g++){var h=f[g];if(-1!=h.type.indexOf("image")){var i=h.getAsFile();c.upload_file_with_ajax(e,i,a,b)}}return!0}},cancel_event:function(a){return a.preventDefault(),a.stopPropagation(),!1},upload_file_with_ajax:function(a,b,c,d){c.show();var e=new FormData;e.append("file",b),$.ajax("/upload",{type:"POST",contentType:!1,processData:!1,data:e,error:function(){c.hide()},success:function(b){d(a,b),c.hide()}})}},function(a){"use strict";var b="textarea-helper-caret",c="textarea-helper",d=["box-sizing","height","width","padding-bottom","padding-left","padding-right","padding-top","font-family","font-size","font-style","font-variant","font-weight","word-spacing","letter-spacing","line-height","text-decoration","text-indent","text-transform","direction"],e=function(b){"textarea"===b.nodeName.toLowerCase()&&(this.$text=a(b),this.$mirror=a("<div/>").css({position:"absolute",overflow:"auto","white-space":"pre-wrap","word-wrap":"break-word",top:0,left:-9999}).insertAfter(this.$text))};(function(){this.update=function(){for(var c,e={},f=0;c=d[f];f++)e[c]=this.$text.css(c);this.$mirror.css(e).empty();var g=this.getOriginalCaretPos(),h=this.$text.val(),i=document.createTextNode(h.substring(0,g)),j=document.createTextNode(h.substring(g)),k=a("<span/>").addClass(b).css("position","absolute").html("&nbsp;");this.$mirror.append(i,k,j).scrollTop(this.$text.scrollTop())},this.destroy=function(){return this.$mirror.remove(),this.$text.removeData(c),null},this.caretPos=function(){this.update();var a=this.$mirror.find("."+b),c=a.position();return"rtl"===this.$text.css("direction")&&(c.right=this.$mirror.innerWidth()-c.left-a.width(),c.left="auto"),c},this.height=function(){return this.update(),this.$mirror.css("height",""),this.$mirror.height()},this.getOriginalCaretPos=function(){var a=this.$text[0];if(a.selectionStart)return a.selectionStart;if(document.selection){a.focus();var b=document.selection.createRange();if(null==b)return 0;var c=a.createTextRange(),d=c.duplicate();return c.moveToBookmark(b.getBookmark()),d.setEndPoint("EndToStart",c),d.text.length}return 0}}).call(e.prototype),a.fn.textareaHelper=function(b){if(this.each(function(){var b=a(this),d=b.data(c);d||(d=new e(this),b.data(c,d))}),b){var d=this.first().data(c);return d[b]()}return this}}(jQuery);var LOGIN_COLOR_MAX=9;ChatController.prototype={setMessage:function(a){var b=$("#message").val();b+=""==b?a+" ":" "==b.slice(-1)?a+" ":" "+a+" ",$("#message").focus().val(b).trigger("autosize.resize")},sendMessage:function(){var a=this;if("none"==$(".textcomplete-wrapper .dropdown-menu").css("display")){var b=$("#name").val(),c=$("#message").val(),d=window.localStorage.avatarImage;return c&&b&&(a.socket.emit("message",{name:b,avatar:d,msg:c}),$("#message").attr("value","").trigger("autosize.resize"),a.login_name!=b&&(a.login_name=b,a.changedLoginName(b))),!1}return!0},init_chat:function(){var a=this;$("#message").textcomplete([{match:/\B:([\-+\w]*)$/,search:function(a,b){b($.map(emojies,function(b){return 0===b.indexOf(a)?b:null}))},template:function(a){return'<img class="emoji-suggest" src="img/emoji/'+a+'.png"></img> '+a},replace:function(a){return":"+a+": "},index:1,maxCount:8}]).on("keydown",function(b){if("ctrl"==window.localStorage.sendkey){if(b.ctrlKey&&13==b.keyCode)return a.sendMessage()}else if("shift"==window.localStorage.sendkey){if(b.shiftKey&&13==b.keyCode)return a.sendMessage()}else{if((b.altKey||b.ctrlKey||b.shiftKey)&&13==b.keyCode)return!0;if(13==b.keyCode)return a.sendMessage()}return!0}).autosize(),$("#send_button").click(function(){return a.sendMessage(),!1}),$.templates("#loginNameTmpl").link("#login_list_body",a.loginElemList),$.templates("#alertTimelineTmpl").link("#alert_timeline",a),$("#list").on("click",".remove_msg",function(){var b="#"+$(this).closest("li").attr("id"),c=$(this).closest("li").data("id");a.send_remove_msg(c),$(b).fadeOut("normal",function(){$(this).remove()})}),$("#list").on("click",".ref-point",function(){var b=$(this).attr("id");a.showRefPoint(b)}),$("#chat_area").on("click",".login-symbol",function(b){if(1==b.shiftKey)$("#timeline_all").attr("checked","checked"),$("#timeline_all").trigger("change"),$.observable(a).setProperty("filterName",$(this).data("name")),$('.login-symbol:not([data-name="'+a.filterName+'"])').closest("li").hide(),$("#filter_name_alert").slideDown(),$(".tooltip").hide(),$("#chat_area").scrollTop(0);else{var c=$(this).data("name");a.setMessage("@"+c+"")}}),$("#pomo").click(function(){var b=$("#name").val(),c=window.localStorage.avatarImage;return b&&($("#message").attr("value",""),a.socket.emit("pomo",{name:b,avatar:c,msg:""}),a.login_name!=b&&(a.login_name=b,a.changedLoginName(b))),!1}),$("#upload_chat_button").click(function(){return $("#upload_chat").click(),!1}),$("#list").on("inview","li:last-child",function(b,c){if(!c)return!1;$("#message_loader").show();var d=$("#list").find("li").filter(":last").data("id");a.socket.emit("load_log_more",{id:d})}),emojify.setConfig({img_dir:"img/emoji"})},setName:function(a){this.login_name=a,$("#name").val(a),this.changedLoginName(a)},focus:function(){$("#message").focus().trigger("autosize.resize")},setWidth:function(a){$("#chat_area").css("width",a+"px").css("margin",0)},init_socket:function(){function a(a,c){b.setColorbox(c.find(".thumbnail")),emojify.run(c.get(0)),b.play_sound(a.msg),c.find("span[rel=tooltip]").tooltip({placement:"bottom"})}var b=this;this.socket.on("message_own",function(c){b.prepend_own_msg(c,function(b){a(c,b)})}),this.socket.on("message",function(c){b.prepend_msg(c,function(d){a(c,d),b.do_notification(c),b.faviconNumber.up()&&d.addClass("unread-msg")})}),this.socket.on("remove_message",function(a){$("#msg_"+a.id).fadeOut("normal",function(){$(this).remove()})}),this.socket.on("list",function(a){$("#login_list_loader").hide(),$("#login_list_body span[rel=tooltip]").tooltip("hide");for(var c=[],d=[],e=0;e<a.length;++e){var f="";""!=a[e].place&&(f="@"+a[e].place);var g={id:a[e].id,color_id:"login-symbol login-elem login-name"+b.get_color_id_by_name_id(a[e].id),name:a[e].name,avatar:a[e].avatar,place:f,pomo_min:a[e].pomo_min};void 0!=a[e].avatar&&""!=a[e].avatar?d.push(g):c.push(g)}$.observable(b.loginElemList).refresh(d.concat(c)),$("#login_list_body span[rel=tooltip]").tooltip({placement:"bottom"})}),this.socket.on("latest_log",function(a){if($("#message_loader").hide(),0!=a.length){for(var c=0,d=0;d<a.length;d++)b.append_msg(a[d])&&c++;if(c>0)b.setColorbox($("#chat_body").find(".thumbnail")),emojify.run($("#chat_body").get(0)),$("#chat_body span[rel=tooltip]").tooltip({placement:"bottom"});else{if(1==a.length)return;$("#message_loader").show(),b.socket.emit("load_log_more",{id:a[a.length-1]._id})}}})},init_dropzone:function(){this.dropZone=new DropZone({dropTarget:$("#chat_area"),fileTarget:$("#upload_chat"),alertTarget:$("#loading"),pasteValid:!0,uploadedAction:function(a,b){$("#message").val($("#message").val()+" "+b.fileName+" ").trigger("autosize.resize")}})},append_msg:function(a){if("System"==a.name)return!1;if(this.exist_msg(a))return!1;var b=this.get_msg_html(a);return this.display_message(b)?($("#list").append(b.li.addClass(b.css)),b.li.fadeIn(),!0):!1},prepend_msg:function(a,b){if("System"==a.name)return!1;if(this.exist_msg(a))return!1;var c=this.get_msg_html(a);return this.display_message(c)?($("#list").prepend(c.li),c.li.addClass("text-highlight",0),c.li.slideDown("fast",function(){c.li.switchClass("text-highlight",c.css,500)}),b(c.li),!0):($.observable(this).setProperty("hidingMessageCount",this.hidingMessageCount+1),!1)},prepend_own_msg:function(a,b){if(this.exist_msg(a))return!1;var c=this.get_msg_html(a);return $("#list").prepend(c.li),this.display_message(c)?(c.li.addClass("text-highlight",0),c.li.slideDown("fast",function(){c.li.switchClass("text-highlight",c.css,500)}),b(c.li),!0):($.observable(this).setProperty("hidingMessageCount",this.hidingMessageCount+1),!1)},exist_msg:function(a){void 0==a.msg&&(a.msg="");var b="#msg_"+a._id.toString();return $(b).size()>0},get_msg_html:function(a){var b=a.date.replace(/:\d\d$/,"");return a.name==this.login_name?{li:this.get_msg_li_html(a).html(this.get_msg_body(a)+'<a class="remove_msg">x</a><span class="own_msg_date">'+b+"</span></td></tr></table>"),css:"own_msg"}:this.include_target_name(a.msg,this.login_name)?{li:this.get_msg_li_html(a).html(this.get_msg_body(a)+' <span class="target_msg_date">'+b+"</span></td></tr></table>"),css:"target_msg"}:{li:this.get_msg_li_html(a).html(this.get_msg_body(a)+' <span class="date">'+b+"</span></td></tr></table>"),css:"normal_msg"}},get_msg_li_html:function(a){return void 0!=a._id?$("<li/>").attr("style","display:none").attr("id","msg_"+a._id.toString()).attr("data-id",a._id.toString()):$("<li/>").attr("style","display:none")},get_msg_body:function(a){var b=new Date,c=(b.getTime(),"login-name"),d="msg";return a.id=this.get_id(a.name),"System"==a.name?(c="login-name-system",d="msg_ext"):1==a.ext?(c="login-name-ext",d="msg_ext"):"Pomo"==a.name?(c="login-name-pomosys",d="msg_pomo"):c="login-name"+this.get_color_id_by_name_id(a.id),null!=a.avatar&&""!=a.avatar&&"undefined"!=a.avatar?'<table><tr><td nowrap valign="top" width="32px"><span class="login-symbol" data-name="'+a.name+'" title="'+a.name+'" rel="tooltip"><img class="avatar" src="'+a.avatar+'"></span></td><td width="100%"><span class="msg_text '+d+'">'+this.decorate_msg(a.msg)+"</span>":'<table><tr><td nowrap valign="top"><span class="login-symbol login-elem '+c+'" data-name="'+a.name+'"><span class="name">'+a.name+'</span></span></td><td width="100%"><span class="msg_text '+d+'">'+this.decorate_msg(a.msg)+"</span>"},get_color_id_by_name_id:function(a){return 0==a?0:a%LOGIN_COLOR_MAX+1},decorate_msg:function(a){var b=a;return b=this.deco_login_name(b),b=$.decora.message_to_html(b),b=b.replace(/\n/g,"<br>")},deco_login_name:function(a){var b=this,c=a,d=RegExp("@([^ .]+?)|@all","g");return c=c.replace(d,function(){return arguments[1]==b.login_name||"@"==arguments[0]||"@all"==arguments[0]?'<span class="target-me">'+arguments[0]+"</span>":'<span class="target-other">'+arguments[0]+"</span>"})},include_target_name:function(a,b){var c=RegExp("@"+b+"( |||$)");return a.match(c)||a.match("@")||a.toLowerCase().match("@all")?!0:!1},get_id:function(a){for(var b=0;b<this.loginElemList.length;++b)if(this.loginElemList[b].name==a)return this.loginElemList[b].id;return 0},send_remove_msg:function(a){this.socket.emit("remove_message",{id:a})},setColorbox:function(a){a.colorbox({transition:"none",rel:"img",maxWidth:"100%",maxHeight:"100%",initialWidth:"200px",initialHeight:"200px"})},play_sound:function(a){if(a.match(/\/play (.+)/)){$.ionSound.destroy();var b=RegExp.$1.split(".")[0];$.ionSound({sounds:[b],path:"/uploads/",volume:"0.5"}),$.ionSound.play(b)}},init_settings:function(){var a=this;window.localStorage?("true"==window.localStorage.popupNotification?$("#notify_all").attr("checked","checked"):"mention"==window.localStorage.popupNotification&&$("#notify_mention").attr("checked","checked"),$(".notify-radio").on("change","input",function(){var a=$(this).val();window.localStorage.popupNotification=a,"disable"!=a&&Notification&&Notification.requestPermission()}),window.localStorage.notificationSeconds?$("#notification_seconds").val(window.localStorage.notificationSeconds):($("#notification_seconds").val(5),window.localStorage.notificationSeconds=5),$("#notification_seconds").on("change",function(){window.localStorage.notificationSeconds=$(this).val()}),window.localStorage.avatarImage&&$("#avatar").val(window.localStorage.avatarImage),$("#avatar_set").on("click",function(){window.localStorage.avatarImage=$("#avatar").val();var b=$("#name").val();return a.socket.emit("name",{name:b,avatar:window.localStorage.avatarImage}),!1}),"own"==window.localStorage.timeline?($("#timeline_own").attr("checked","checked"),$("#mention_own_alert").show()):"mention"==window.localStorage.timeline?($("#timeline_mention").attr("checked","checked"),$("#mention_alert").show()):$("#timeline_all").attr("checked","checked"),$(".timeline-radio").on("change","input",function(){var b=$(this).val();window.localStorage.timeline=b,$("#list").empty(),a.socket.emit("latest_log"),$("#message_loader").show(),"all"==b?($("#mention_own_alert").slideUp(),$("#mention_alert").slideUp(),$("#filter_name_alert").slideUp()):"own"==b?($("#mention_own_alert").slideDown(),$("#mention_alert").slideUp(),$("#filter_name_alert").slideUp()):($("#mention_own_alert").slideUp(),$("#mention_alert").slideDown(),$("#filter_name_alert").slideUp()),$.observable(a).setProperty("hidingMessageCount",0),$.observable(a).setProperty("filterName","")}),"ctrl"==window.localStorage.sendkey?$("#send_ctrl").attr("checked","checked"):"shift"==window.localStorage.sendkey?$("#send_shift").attr("checked","checked"):$("#send_enter").attr("checked","checked"),$(".send-message-key-radio").on("change","input",function(){var a=$(this).val();window.localStorage.sendkey=a}),$("#chat_area").on("click",function(){return $(this).find("li").removeClass("unread-msg"),a.faviconNumber.off(),!0}),$("#chat_body").on("click",".close",function(){return $("#timeline_all").attr("checked","checked"),$("#timeline_all").trigger("change"),!1})):$("#notification").attr("disabled","disabled")},display_message:function(a){if("own"==window.localStorage.timeline){if("normal_msg"==a.css)return!1}else if("mention"==window.localStorage.timeline){if("normal_msg"==a.css||"own_msg"==a.css)return!1}else if(""!=this.filterName&&a.li.find(".login-symbol").data("name")!=this.filterName)return!1;return!0},do_notification:function(a){var b=a.name+(""!=TITLE_NAME?" @"+TITLE_NAME:""),c="notification.png";null!=a.avatar&&""!=a.avatar&&"undefined"!=a.avatar&&(c=a.avatar);var d=a.msg;if("true"==window.localStorage.popupNotification||"mention"==window.localStorage.popupNotification&&this.include_target_name(d,this.login_name))if(Notification){if("denied"!=Notification.permission){var e=new Notification(b,{icon:c,body:d});setTimeout(function(){e.close()},1e3*window.localStorage.notificationSeconds)}}else Notification.requestPermission()}},MemoViewModel.prototype={_title:function(a){for(var b=a.split("\n"),c="",d=0;d<b.length;d++){var e=b[d],f=e.match(/(\S+)/);if(f){c=b[d];break}}return c=$("<div/>").html($.decora.to_html(c)).text(),c.match(/\S/g)||(c=" - No."+this.no+" - "),c},setText:function(a){var b=this;this.writing_text=a,$.observable(this).setProperty("writer",this.writing_text.name),$.observable(this).setProperty("title",this._title(this.writing_text.text));var c=$("#share_memo_tab_"+this.no),d=c.children(".share-memo-title");emojify.run(d.get(0));var e=c.children(".writer");e.addClass("writing-name");var f=c.find(".timestamp");f.attr("data-livestamp",a.date);var g=$("#share_memo_"+this.no),h=g.children(".text-date");h.html(a.date),h.removeClass("label-info"),h.addClass("label-important"),h.show();var i=""==a.text;i?(e.hide(),f.hide()):(e.show(),f.show()),this.update_timer&&clearTimeout(this.update_timer),this.update_timer=setTimeout(function(){h.removeClass("label-important"),h.addClass("label-info"),e.removeClass("writing-name"),b.update_timer=null},3e3)},switchFixMode:function(){this.edit_mode&&this.switchFixShareMemo(1),this.diff_mode&&this.endDiff()},switchFixShareMemo:function(a,b){var c=$("#share_memo_"+this.no);if(this.edit_mode=!1,b=void 0==b?$(window).height()/3:b-14,"none"!=c.children(".code").css("display")){var d=c.children(".code").val();this.code_prev!=d&&socket.emit("text",{no:this.no,text:d}),this.showText(),c.children(".code").hide(),c.children("pre").show(),c.children(".fix-text").hide(),c.children(".sync-text").show();var e=c.find("table tr").eq(a-1);e.length>0&&($("#memo_area").scrollTop(0),$("#memo_area").scrollTop(e.offset().top-b)),socket.emit("add_history",{no:c.data("no")}),this.writingLoopStop(),$("#move_to_blog").fadeOut()}},writingLoopStop:function(){clearInterval(this.writing_loop_timer.id),this.writing_loop_timer={id:-1,code_no:0}},switchEditShareMemo:function(a,b){var c=$("#share_memo_"+this.no);this.edit_mode=!0,b=void 0==b?$(window).height()/3:b-94;var d=c.children(".code");d.val(this.writing_text.text),d.show(),d.keyup(),a>=0?d.caretLine(a):a=d.caretLine();var e=Number(c.find(".code").css("line-height").replace("px",""));$("#memo_area").scrollTop(a*e+(c.offset().top-$("#share-memo").offset().top)-b),d.focus(),c.children("pre").hide(),c.children(".fix-text").show(),c.children(".sync-text").hide(),this.code_prev=d.val(),this.writingLoopStart()},writingLoopStart:function(){var a=this;$target_code=$("#share_memo_"+this.no).children(".code");var b=function(){var b=$target_code.val();a.code_prev!=b&&(a.socket.emit("text",{no:a.no,text:b}),a.code_prev=b),a.is_shown_move_to_blog&&""==$target_code.selection("get")&&($("#move_to_blog").fadeOut(),a.is_shown_move_to_blog=!1)};-1!=this.writing_loop_timer.id&&this.writingLoopStop(),this.writing_loop_timer={id:setInterval(b,500),code_no:this.no}},showText:function(){var a=$("#share_memo_"+this.no);a.find(".code-out").showDecora(this.writing_text.text);var b=a.find("input:checked").length,c=a.find("input[type=checkbox]").length;c>0?(a.find(".checkbox-count").html(b+"/"+c+" done").show(),b==c?a.find(".checkbox-count").addClass("checkbox-count-done"):a.find(".checkbox-count").removeClass("checkbox-count-done")):a.find(".checkbox-count").hide()},insert:function(a,b){var c=this.writing_text.text.split("\n");c.splice(a,0,b),this.writing_text.text=c.join("\n")},showIndexList:function(){var a=$("#share_memo_"+this.no),b=a.find(".index-list"),c=a.find(".code-out");b.empty(),c.find(":header").each(function(){for(var a=parseInt($(this).get()[0].localName.replace("h","")),c="",d=1;a>d;d++)c+="&emsp;";b.append($("<li/>").append($("<a/>").addClass("index-li").attr("href","#").html(c+" "+$(this).text())))})},_getLogsForDiff:function(){var a=this.text_logs;return this.writing_text.date!=a[0].date&&a.unshift(this.writing_text),a},showDiffList:function(){var a=$("#share_memo_"+this.no),b=a.find(".diff-list"),c=this._getLogsForDiff();b.empty(),b.append($("<li/>").append($("<a/>").addClass("diff-li").attr("href","#").html('<i class="icon-play"></i> Current memo - '+c[0].name)));for(var d=1;d<c.length;d++)b.append($("<li/>").append($("<a/>").addClass("diff-li").attr("href","#").html(c[d].date+" - "+c[d].name)))},createDiff:function(a){var b=difflib.stringAsLines(this.text_logs[a].text),c=difflib.stringAsLines(this.writing_text.text),d=new difflib.SequenceMatcher(b,c),e=d.get_opcodes(),f=diffview.buildView({baseTextLines:b,newTextLines:c,opcodes:e,baseTextName:"Current",newTextName:this.text_logs[a].date+" - "+this.text_logs[a].name,viewType:1});return this.diff_list=$(f).find(".insert,.delete"),this.diff_index=0,this.diff_mode=!0,f},getNextDiffPos:function(){for(var a=$(this.diff_list[this.diff_index]),b=a.offset().top,c=a.closest("table"),d=c.find("tr").index(a.closest("tr"));;){this.diff_index++;var e=$(this.diff_list[this.diff_index]);this.diff_index>=this.diff_list.length&&(this.diff_index=0);var f=c.find("tr").index(e.closest("tr"));if(f-d!=1)break;d=f}return b},endDiff:function(){var a=$("#share_memo_"+this.no);a.find("pre").show(),a.find(".diff-view").hide(),a.find(".diff-done").hide(),a.find(".sync-text").show(),a.find(".index-button").show(),$("#move_to_diff").fadeOut(),this.diff_list=[],this.diff_index=0,this.diff_mode=!1},applyToWritingText:function(a){this.writing_text.text=a(this.writing_text.text)},showMoveToBlogButton:function(a,b){var c=this;this.is_shown_move_to_blog=!0;var d=-1*$("#share-memo").offset().top;$(".navbar").is(":visible")&&(d+=40);var e=a.selection("get");""!=e&&$("#move_to_blog").fadeIn().unbind("click").bind("click",function(){$(this).fadeOut();var f={title:c._title(e),text:e,name:b};$.ajax("blog",{type:"POST",cache:!1,data:{blog:f},success:function(){a.selection("replace",{text:"",caret:"start"}),$("#memo_area").scrollTop(d)}})})}};var SHARE_MEMO_NUMBER=30,CODE_MIN_HEIGHT=700,CODE_OUT_ADJUST_HEIGHT=300,CODE_INDEX_ADJUST_HEIGHT=10;ShareMemoController.prototype={currentMemo:function(){return this.memoViewModels[this.currentMemoNo-1]},setName:function(a){this.login_name=a},setWidth:function(a){$("#memo_area").css("width",a+"px").css("margin",0)},setFocus:function(){var a=$(window.localStorage.tabSelectedID).data("no"),b=this.memoViewModels[a-1];if(b.edit_mode)$("#share_memo_"+a).find(".code").focus();else{{$("#share_memo_"+a)}b.switchEditShareMemo(-1)}},top:function(){$("#memo_area").scrollTop(0)},down:function(){var a=this;this.doing_down||$("#memo_area").animate({scrollTop:$("#memo_area").scrollTop()+400},"fast",function(){a.doing_down=!1})},up:function(){var a=this;this.doing_up||$("#memo_area").animate({scrollTop:$("#memo_area").scrollTop()-400},"fast",function(){a.doing_up=!1})},prev:function(){var a=$(window.localStorage.tabSelectedID).data("no");a-=1,0>=a&&(a=this.memo_number),$("#share_memo_tab_"+a).click()},next:function(){var a=$(window.localStorage.tabSelectedID).data("no");a+=1,a>this.memo_number&&(a=1),$("#share_memo_tab_"+a).click()},move:function(a){var b=a.split("-")[0];$("#share_memo_tab_"+b).click(),setTimeout(function(){var c=$("#share_memo_"+b).find("#"+a).offset().top-$("#share-memo").offset().top;$("#memo_area").animate({scrollTop:c-CODE_INDEX_ADJUST_HEIGHT},1e3,"easeOutQuint")},700)},search:function(){var a=this;if(""==a.keyword)a.before_keyword=a.keyword,$(".matched_strong_line").removeClass("matched_strong_line"),$(".matched_line").removeClass("matched_line"),$.observable(a).setProperty("matched_num",0),$.observable(a).setProperty("matched_index",0),$.observable(a).setProperty("matched_navi_style","display: none;");else if(a.before_keyword!=a.keyword){$(".matched_strong_line").removeClass("matched_strong_line"),$(".matched_line").removeClass("matched_line"),a.before_keyword=a.keyword,a.matched_doms=[];var b=new RegExp(a.keyword,"i");$(".code-out").each(function(){var c=$(this).find("td").map(function(){return $(this).text().match(b)?($(this).addClass("matched_line"),this):null});Array.prototype.push.apply(a.matched_doms,c)}),$.observable(a).setProperty("matched_num",a.matched_doms.length),$.observable(a).setProperty("matched_index",0),$.observable(a).setProperty("matched_navi_style","display: inline;"),$.observable(a).setProperty("matched_title",""),a.matched_num>0&&a.matched_next()}else a.matched_next()},matched_next:function(){var a=this.matched_index+1;a>this.matched_num&&(a=1),this._matched_move(a)},matched_prev:function(){var a=this.matched_index-1;1>a&&(a=this.matched_num),this._matched_move(a)},_matched_move:function(a){var b=$(this.matched_doms[this.matched_index-1]);$.observable(this).setProperty("matched_index",a);var c=$(this.matched_doms[this.matched_index-1]);b.removeClass("matched_strong_line").addClass("matched_line"),c.removeClass("matched_line").addClass("matched_strong_line");var d=c.closest(".share-memo").data("no"),e=$(window.localStorage.tabSelectedID).data("no"),f=$("#share_memo_tab_"+d),g=f.find(".share-memo-title").text();if($.observable(this).setProperty("matched_title",g),e!=d){var d=c.closest(".share-memo").data("no");$("#share_memo_tab_"+d).click(),setTimeout(function(){var a=c.offset().top;$("#memo_area").animate({scrollTop:a-$("#share-memo").offset().top-$(window).height()/2},"fast")
},700)}else{var h=c.offset().top;$("#memo_area").animate({scrollTop:h-$("#share-memo").offset().top-$(window).height()/2},"fast")}},init_sharememo:function(){function a(a){var c=void 0==a.no?1:a.no;if(b.memoViewModels[c-1].setText(a),b.currentMemo().edit_mode&&b.currentMemo().no==c){if(b.login_name!=a.name){var d=$("#share_memo_"+c);b.currentMemo().switchFixShareMemo(d.children(".code").caretLine())}}else b.memoViewModels[c-1].showText()}var b=this;$.templates("#searchBoxTmpl").link("#search_box",this).on("submit","#search_form",function(){return b.search(),!1}).on("focus",".search-query",function(){$(this).switchClass("input-small","input-large","fast")}).on("blur",".search-query",function(){""==b.keyword&&$(this).switchClass("input-large","input-small","fast")}).on("click","#prev_match",function(){return b.matched_prev(),!1}).on("click","#next_match",function(){return b.matched_next(),!1}),$.templates("#shareMemoTabTmpl").link("#share_memo_nav",this.memoViewModels).on("click",".share-memo-tab-elem",function(){b.currentMemo().switchFixMode();var a=b.memoViewModels[$.view(this).index];return window.localStorage.tabSelectedID="#"+$(this).attr("id"),b.currentMemoNo=a.no,$("#memo_area").animate({scrollTop:0},"fast"),!0}),$.templates("#shareMemoTmpl").link(".tab-content",this.memoViewModels).on("click",".sync-text",function(){b.currentMemo().switchEditShareMemo(0)}).on("click",".ref-point",function(){var a=$(this).attr("id");b.setMessage("[ref:"+a+"]")}).on("dblclick","pre tr",function(a){var c=$(this).closest("table").find("tr").index(this);return b.currentMemo().switchEditShareMemo(c,a.pageY),!1}).on("dblclick","pre",function(a){var c=$(this).find("table tr").length-1;b.currentMemo().switchEditShareMemo(c,a.pageY)}).on("click",".diff-button",function(){b.currentMemo().switchFixMode(1),b.currentMemo().showDiffList()}).on("mouseover",".diff-li",function(){var a=$(this).closest(".diff-list").find(".diff-li"),b=a.index(this);a.each(function(a,c){b>a?$(c).addClass("in_diff_range"):a>b&&$(c).removeClass("in_diff_range")})}).on("mouseout",".diff-li",function(){var a=$(this).closest(".diff-list").find(".diff-li");a.each(function(a,b){$(b).removeClass("in_diff_range")})}).on("click",".diff-li",function(){var a=$(this).closest(".share-memo"),c=a.find("pre"),d=(a.data("no"),$(this).closest(".diff-list").find(".diff-li").index(this)),e=a.find(".diff-view");return e.empty(),e.append(b.currentMemo().createDiff(d)),e.fadeIn(),c.hide(),a.find(".diff-done").show(),a.find(".sync-text").hide(),a.find(".index-button").hide(),b.currentMemo().diff_list.length>0&&$("#move_to_diff").fadeIn(),!0}).on("click",".diff-done",function(){b.currentMemo().endDiff()}).on("click",".index-button",function(){b.currentMemo().switchFixMode(),b.currentMemo().showIndexList()}).on("click",".index-li",function(){var a=$(this).closest(".index-list").find(".index-li").index(this),b=$(this).closest(".share-memo").find(".code-out"),c=b.find(":header").eq(a).offset().top-$("#share-memo").offset().top;return $("#memo_area").animate({scrollTop:c-CODE_INDEX_ADJUST_HEIGHT},1e3,"easeOutQuint"),!0}).decora({checkbox_callback:function(a,c){b.currentMemo().applyToWritingText(c);var d=$(a).closest(".share-memo").children(".code");d.val(b.currentMemo().writing_text.text),socket.emit("text",{no:b.currentMemoNo,text:d.val()})}}).on("dblclick",".code",function(a){b.currentMemo().switchFixShareMemo($(this).caretLine(),a.pageY)}).on("click",".fix-text",function(){b.currentMemo().switchFixShareMemo(1)}).on("keydown",".code",function(a){if(1==a.ctrlKey&&83==a.keyCode||1==a.ctrlKey&&13==a.keyCode){a.returnvalue=!1;var c=$(this).textareaHelper("caretPos").top+$(this).offset().top;return b.currentMemo().switchFixShareMemo($(this).caretLine(),c),!1}}).on("select",".code",function(){b.memoViewModels[$.view(this).index];b.currentMemo().showMoveToBlogButton($(this),b.login_name)}),$("#move_to_diff").click(function(){var a=b.currentMemo().getNextDiffPos();$("#memo_area").animate({scrollTop:a-$("#share-memo").offset().top-$(window).height()/2},"fast")}),$.templates("#shareMemoNumberTmpl").link("#memo_number",this.memoViewModels);for(var c=1;SHARE_MEMO_NUMBER>=c;c++)$.observable(this.memoViewModels).insert(new MemoViewModel(c,this.socket));$("#tab_change").click(function(){$("#share_memo_tabbable").hasClass("tabs-left")?($("#share_memo_nav").fadeOut("fast",function(){$("#share_memo_tabbable").removeClass("tabs-left"),$("#share_memo_nav").removeClass("nav-tabs"),$("#share_memo_nav").addClass("nav-pills"),$("#share_memo_nav").fadeIn()}),window.localStorage.tabChanged="true"):($("#share_memo_nav").fadeOut("fast",function(){$("#share_memo_tabbable").addClass("tabs-left"),$("#share_memo_nav").removeClass("nav-pills"),$("#share_memo_nav").addClass("nav-tabs"),$("#share_memo_nav").fadeIn()}),window.localStorage.tabChanged="false")}),$("#scroll_top").click(function(){$("#memo_area").scrollTop(0)}),window.localStorage&&("false"!=window.localStorage.tabChanged&&($("#share_memo_nav").hide(),$("#share_memo_tabbable").removeClass("tabs-left"),$("#share_memo_nav").removeClass("nav-tabs"),$("#share_memo_nav").addClass("nav-pills"),$("#share_memo_nav").show()),window.localStorage.tabSelectedID?(this.currentMemoNo=$(window.localStorage.tabSelectedID).data("no"),$(window.localStorage.tabSelectedID).click()):(this.currentMemoNo=1,$("#share_memo_tab_1").click())),$(".code").autofit({min_height:CODE_MIN_HEIGHT}),$("body").on("keydown",function(a){return 113==a.keyCode?(b.setFocus(),!1):void 0}),socket.on("text",function(b){b instanceof Array?b.forEach(function(b){a(b)}):a(b)}),socket.on("text_logs_with_no",function(a){b.memoViewModels[a.no-1].text_logs=a.logs}),$("#memo_number").bind("change",function(){var a=$(this).val();socket.emit("memo_number",{num:a})}),socket.on("memo_number",function(a){b.memo_number=a.num,$(".share-memo-tab-elem").hide();for(var c=1;c<=b.memo_number;c++)$("#share_memo_tab_"+c).fadeIn("fast"),$("#share_memo_tab_"+c).css("display","block");$("#memo_number").val(b.memo_number)})},init_dropzone:function(){var a=this;new DropZone({dropTarget:$(".code-out"),dropChildSelector:".code-out-tr",alertTarget:$("#loading"),uploadedAction:function(b,c){var d=$(b).closest("table").find("tr").index(b);a.currentMemo().insert(d+1,c.fileName+" ");var e=$(b).closest(".share-memo").children(".code");e.val(a.currentMemo().writing_text.text),socket.emit("text",{no:a.currentMemoNo,text:e.val()})}}),new DropZone({dropTarget:$(".code-out"),alertTarget:$("#loading"),uploadedAction:function(b,c){a.currentMemo().insert(0,c.fileName+" ");var d=$(b).closest(".share-memo").children(".code");d.val(a.currentMemo().writing_text.text),socket.emit("text",{no:a.currentMemoNo,text:d.val()})}}),new DropZone({dropTarget:$(".code"),alertTarget:$("#loading"),pasteValid:!0,uploadedAction:function(b,c){var d=($(b).closest(".share-memo").data("no"),$(b).caretLine());a.currentMemo().insert(d-1,c.fileName+" ");var e=$(b).closest(".share-memo").children(".code");e.val(a.currentMemo().writing_text.text),$(b).caretLine(d)}}),new DropZone({dropTarget:$("#avatar"),alertTarget:$("#loading"),fileTarget:$("#upload_avatar"),pasteValid:!0,uploadedAction:function(a,b){$("#avatar").val(b.fileName)}}),$("#upload_avatar_button").click(function(){return $("#upload_avatar").click(),!1})}};var COOKIE_NAME="dev_hub_name",COOKIE_STYLE_NAME="dev_hub_style_name",COOKIE_EXPIRES=365,socket=io.connect("/"),is_mobile=!1,chatController=null,shareMemoController=null,faviconNumber=null;$(function(){if(init_websocket(),$(window).width()<768&&(is_mobile=!0),faviconNumber=new FaviconNumber({focus_id:"message"}),shareMemoController=new ShareMemoController({socket:socket,setMessage:function(a){chatController.setMessage(a)}}),chatController=new ChatController({socket:socket,faviconNumber:faviconNumber,changedLoginName:function(a){shareMemoController.setName(a),$.cookie(COOKIE_NAME,a,{expires:COOKIE_EXPIRES})},showRefPoint:function(a){shareMemoController.move(a)}}),is_mobile)$(".hidden-phone").remove(),$(".visible-phone").show(),$(".text-date").remove(),$(".checkbox-count").remove(),adjust_display_size_for_mobile(),$(window).resize(function(){adjust_display_size_for_mobile()}),$("#share_memo_nav").hide(),$("#share_memo_tabbable").removeClass("tabs-left"),$("#share_memo_nav").removeClass("nav-tabs"),$("#share_memo_nav").addClass("nav-pills"),$("#share_memo_nav").show();else{$("body").addClass("perfect-scrollbar-body-style");var a={wheelSpeed:6,useKeyboard:!1,suppressScrollX:!0};$("#chat_area").addClass("perfect-scrollbar-style"),$("#chat_area").perfectScrollbar(a),$("#memo_area").addClass("perfect-scrollbar-style"),$("#memo_area").perfectScrollbar(a)}null!=$.cookie(COOKIE_NAME)||is_mobile?(chatController.setName($.cookie(COOKIE_NAME)),chatController.focus()):setTimeout(function(){$("#name_in").modal("show"),setTimeout(function(){$("#login_name").focus()},500)},500),$(window).on("blur focus",function(){faviconNumber.off()}),$("#both_zen").click(function(){$(".navbar").fadeOut(),$(".dummy-top-space").fadeOut()}),$("#memo_zen").click(function(){$(".navbar").fadeOut(),$(".dummy-top-space").fadeOut(),$("#chat_area").hide(),$("#memo_area").removeClass("span7 memo-area"),$("#memo_area").addClass("span12 memo-area-zen")}),$("#chat_zen").click(function(){$(".navbar").fadeOut(),$(".dummy-top-space").fadeOut(),$("#memo_area").hide(),$("#chat_area").removeClass("span5"),$("#chat_area").addClass("span12")}),$(document).on("keyup",function(a){27==a.keyCode?($(".navbar").fadeIn(),$(".dummy-top-space").fadeIn(),$("#memo_area").removeClass("span12 memo-area-zen"),$("#memo_area").addClass("span7 memo-area"),$("#chat_area").removeClass("span12"),$("#chat_area").addClass("span5"),$("#memo_area").fadeIn(),$("#chat_area").fadeIn()):a.ctrlKey&&1==a.ctrlKey}),$("a[rel=tooltip]").tooltip({placement:"bottom"})});
//# sourceMappingURL=devhub.min.map